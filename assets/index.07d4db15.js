(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function B(){}function st(t){return t()}function Ye(){return Object.create(null)}function ce(t){t.forEach(st)}function lt(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function at(t){return Object.keys(t).length===0}function we(t){return t==null?"":t}function dt(t){return t&&lt(t.destroy)?t.destroy:B}function u(t,e){t.appendChild(e)}function D(t,e,n){t.insertBefore(e,n||null)}function z(t){t.parentNode.removeChild(t)}function it(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function j(t){return document.createTextNode(t)}function P(){return j(" ")}function Xe(){return j("")}function le(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function s(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function pt(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function ht(t){return Array.from(t.childNodes)}function ne(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function y(t,e,n,l){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}let Ie;function gt(){if(Ie===void 0){Ie=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Ie=!0}}return Ie}function _t(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const l=k("iframe");l.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),l.setAttribute("aria-hidden","true"),l.tabIndex=-1;const o=gt();let r;return o?(l.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=le(window,"message",i=>{i.source===l.contentWindow&&e()})):(l.src="about:blank",l.onload=()=>{r=le(l.contentWindow,"resize",e)}),u(t,l),()=>{(o||r&&l.contentWindow)&&r(),z(l)}}function mt(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,l,e),o}let Ne;function Fe(t){Ne=t}function We(){if(!Ne)throw new Error("Function called outside component initialization");return Ne}function rt(t){We().$$.on_mount.push(t)}function vt(t){We().$$.after_update.push(t)}function yt(){const t=We();return(e,n,{cancelable:l=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=mt(e,n,{cancelable:l});return o.slice().forEach(i=>{i.call(t,r)}),!r.defaultPrevented}return!0}}const Le=[],je=[],Ce=[],Ze=[],wt=Promise.resolve();let xe=!1;function Et(){xe||(xe=!0,wt.then(ct))}function Ue(t){Ce.push(t)}const Pe=new Set;let Me=0;function ct(){const t=Ne;do{for(;Me<Le.length;){const e=Le[Me];Me++,Fe(e),St(e.$$)}for(Fe(null),Le.length=0,Me=0;je.length;)je.pop()();for(let e=0;e<Ce.length;e+=1){const n=Ce[e];Pe.has(n)||(Pe.add(n),n())}Ce.length=0}while(Le.length);for(;Ze.length;)Ze.pop()();xe=!1,Pe.clear(),Fe(t)}function St(t){if(t.fragment!==null){t.update(),ce(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ue)}}const De=new Set;let re;function Oe(){re={r:0,c:[],p:re}}function Be(){re.r||ce(re.c),re=re.p}function M(t,e){t&&t.i&&(De.delete(t),t.i(e))}function H(t,e,n,l){if(t&&t.o){if(De.has(t))return;De.add(t),re.c.push(()=>{De.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function bt(t,e){H(t,1,1,()=>{e.delete(t.key)})}function kt(t,e,n,l,o,r,i,c,a,f,p,h){let L=t.length,A=r.length,w=L;const g={};for(;w--;)g[t[w].key]=w;const v=[],m=new Map,F=new Map;for(w=A;w--;){const E=h(o,r,w),_=n(E);let b=i.get(_);b?l&&b.p(E,e):(b=f(_,E),b.c()),m.set(_,v[w]=b),_ in g&&F.set(_,Math.abs(w-g[_]))}const G=new Set,T=new Set;function U(E){M(E,1),E.m(c,p),i.set(E.key,E),p=E.first,A--}for(;L&&A;){const E=v[A-1],_=t[L-1],b=E.key,I=_.key;E===_?(p=E.first,L--,A--):m.has(I)?!i.has(b)||G.has(b)?U(E):T.has(I)?L--:F.get(b)>F.get(I)?(T.add(b),U(E)):(G.add(I),L--):(a(_,i),L--)}for(;L--;){const E=t[L];m.has(E.key)||a(E,i)}for(;A;)U(v[A-1]);return v}function $(t){t&&t.c()}function Z(t,e,n,l){const{fragment:o,on_mount:r,on_destroy:i,after_update:c}=t.$$;o&&o.m(e,n),l||Ue(()=>{const a=r.map(st).filter(lt);i?i.push(...a):ce(a),t.$$.on_mount=[]}),c.forEach(Ue)}function J(t,e){const n=t.$$;n.fragment!==null&&(ce(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Lt(t,e){t.$$.dirty[0]===-1&&(Le.push(t),Et(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(t,e,n,l,o,r,i,c=[-1]){const a=Ne;Fe(t);const f=t.$$={fragment:null,ctx:null,props:r,update:B,not_equal:o,bound:Ye(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ye(),dirty:c,skip_bound:!1,root:e.target||a.$$.root};i&&i(f.root);let p=!1;if(f.ctx=n?n(t,e.props||{},(h,L,...A)=>{const w=A.length?A[0]:L;return f.ctx&&o(f.ctx[h],f.ctx[h]=w)&&(!f.skip_bound&&f.bound[h]&&f.bound[h](w),p&&Lt(t,h)),L}):[],f.update(),p=!0,ce(f.before_update),f.fragment=l?l(f.ctx):!1,e.target){if(e.hydrate){const h=ht(e.target);f.fragment&&f.fragment.l(h),h.forEach(z)}else f.fragment&&f.fragment.c();e.intro&&M(t.$$.fragment),Z(t,e.target,e.anchor,e.customElement),ct()}Fe(a)}class K{$destroy(){J(this,1),this.$destroy=B}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!at(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var O=(t=>(t.UP="up",t.RIGHT="right",t.LEFT="left",t.DOWN="down",t.UNKNOWN="",t))(O||{}),R=(t=>(t[t.DELAY=100]="DELAY",t[t.MAX_POINTS=50]="MAX_POINTS",t[t.BONUS_TIME=5e3]="BONUS_TIME",t[t.MESSAGE_TIME=3e3]="MESSAGE_TIME",t[t.MAX_BLOCKS=20]="MAX_BLOCKS",t))(R||{}),ve=(t=>(t.UP="ArrowUp",t.LEFT="ArrowLeft",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.SPACEBAR="Space",t))(ve||{}),Ae=(t=>(t.NEXT_LEVEL="Next Level",t.GAME_OVER="Game Over",t))(Ae||{});const me=[];function ft(t,e=B){let n;const l=new Set;function o(c){if(V(t,c)&&(t=c,n)){const a=!me.length;for(const f of l)f[1](),me.push(f,t);if(a){for(let f=0;f<me.length;f+=2)me[f][0](me[f+1]);me.length=0}}}function r(c){o(c(t))}function i(c,a=B){const f=[c,a];return l.add(f),l.size===1&&(n=e(o)||B),c(t),()=>{l.delete(f),l.size===0&&(n(),n=null)}}return{set:o,update:r,subscribe:i}}const At=()=>{let t={playerName:"Abhay",level:1,stage:1,score:0,highScore:0,bonus:0,food:0},{update:e,subscribe:n}=ft(t);return{subscribe:n,resetScore:()=>{e(c=>(c.food=0,c.bonus=0,c.score=0,c))},eatFood:()=>{e(c=>(c.food=c.food+1,c.score=c.food*5+c.bonus*20,c.score>c.highScore&&(c.highScore=c.score),c))},getBonus:()=>{e(c=>(c.bonus=c.bonus+1,c))},nextLevel:()=>{e(c=>(c.level=c.level+1,c))}}};let oe=At();function Ft(t){let e,n,l,o,r,i,c,a,f,p,h,L,A,w,g,v;return{c(){e=k("div"),n=d("svg"),l=d("g"),o=d("g"),r=d("g"),i=d("g"),c=d("ellipse"),a=d("g"),f=d("path"),p=d("path"),h=d("g"),L=d("path"),A=d("g"),w=d("path"),g=d("g"),v=d("ellipse"),s(l,"id","Layer_1"),s(c,"id","shadow"),s(c,"opacity","0.3"),s(c,"cx","438.7"),s(c,"cy","765.8"),s(c,"rx","283"),s(c,"ry","32.9"),s(f,"id","cup-shadow"),s(f,"fill","#E7F4FA"),s(f,"d",`M135.4,492.8c0,0,17,201,77,230c81.1,39.2,258,43.7,392,25.1\r
            c100.5-13.9,115.1-120.1,122-154.4c8-39.7,19.5-119,6.5-137S217.4,370.8,135.4,492.8z`),s(p,"id","cup-light"),s(p,"fill","#FFFFFF"),s(p,"d",`M155.8,563.9c0,0,12.5,129.5,68.5,151.7c75.8,30,241,33.4,366.1,19.2\r
            c93.8-10.7,107.5-92,114-118.3c7.5-30.4,22.7-73.8,15.3-89C711.8,510.9,478.4,406.5,155.8,563.9z`),s(L,"id","mainFood"),s(L,"fill","#DB343C"),s(L,"d",`M57,240.8c35.9-55.2,83.5-142,189.1-192.7C365.6-9.3,527.4-11.2,598.8,20.8\r
            c41.7,18.7,160.6,74,214.5,205.5c92,224.4,10.9,261.8-27.3,263.6s-285.6-42.4-347.6-36.1c-59.9,6.1-148.2,2.1-312.4,77.9\r
            C54.4,564.8,8.4,515.8,0.6,479C-3.5,459.8,13.4,307.8,57,240.8z`),s(w,"id","highlight"),s(w,"opacity","0.3"),s(w,"fill","#FFFFFF"),s(w,"stroke","#000000"),s(w,"stroke-width","0.25"),s(w,"stroke-miterlimit","10"),s(w,"d",`M231.4,76.8\r
            c74.3-34.1,184.9-82.6,345-35c148,44,244,176,207,256s-53.4,66.9-110,58c-83-13-226-101-256-120s-175-97-186-111\r
            S189.5,96,231.4,76.8z`),s(v,"id","c2"),s(v,"fill","#FFFFFF"),s(v,"cx","436.8"),s(v,"cy","144.3"),s(v,"rx","140.6"),s(v,"ry","138.4"),s(g,"id","c1"),s(o,"id","Layer_2"),s(n,"viewBox","0 0 855.6 798.6"),s(e,"class","food svelte-h8lqdv"),y(e,"left",t[1]*t[2]+"px"),y(e,"top",t[0]*t[2]+"px"),y(e,"width",t[2]-2+"px"),y(e,"height",t[2]-2+"px")},m(m,F){D(m,e,F),u(e,n),u(n,l),u(n,o),u(o,r),u(r,i),u(i,c),u(r,a),u(a,f),u(a,p),u(r,h),u(h,L),u(r,A),u(A,w),u(r,g),u(g,v)},p(m,[F]){F&6&&y(e,"left",m[1]*m[2]+"px"),F&5&&y(e,"top",m[0]*m[2]+"px"),F&4&&y(e,"width",m[2]-2+"px"),F&4&&y(e,"height",m[2]-2+"px")},i:B,o:B,d(m){m&&z(e)}}}function Nt(t,e,n){let{top:l=0}=e,{left:o=0}=e,{size:r=0}=e;return t.$$set=i=>{"top"in i&&n(0,l=i.top),"left"in i&&n(1,o=i.left),"size"in i&&n(2,r=i.size)},[l,o,r]}class Ot extends K{constructor(e){super(),W(this,e,Nt,Ft,V,{top:0,left:1,size:2})}}function Bt(t){let e,n,l,o,r;return{c(){e=k("div"),n=d("svg"),l=d("style"),o=j(`.red {\r
        fill: red;\r
        animation: blink 250ms linear infinite;\r
      }\r
      @keyframes blink {\r
        0% {\r
          fill: yellow;\r
        }\r
        50% {\r
          /* opacity: 0.5; */\r
        }\r
        100% {\r
          fill: red;\r
        }\r
      }\r
    `),r=d("polygon"),s(l,"id","style2"),s(r,"fill","#FFA300"),s(r,"stroke","#EB0000"),s(r,"stroke-width","0.25"),s(r,"stroke-miterlimit","10"),s(r,"points",`221.7,0.3 290.1,138.9 443.1,161.1 \r
        332.4,269 358.5,421.4 221.7,349.5 84.8,421.4 111,269 0.3,161.1 153.3,138.9 `),s(r,"class","red"),s(n,"viewBox","0 0 443.3 421.6"),s(e,"class","bonus bounce-top svelte-y90akj"),y(e,"width",t[2]+"px"),y(e,"height",t[2]+"px"),y(e,"left",t[0]*t[2]+"px"),y(e,"top",t[1]*t[2]+"px")},m(i,c){D(i,e,c),u(e,n),u(n,l),u(l,o),u(n,r)},p(i,[c]){c&4&&y(e,"width",i[2]+"px"),c&4&&y(e,"height",i[2]+"px"),c&5&&y(e,"left",i[0]*i[2]+"px"),c&6&&y(e,"top",i[1]*i[2]+"px")},i:B,o:B,d(i){i&&z(e)}}}function Gt(t,e,n){const l=yt();let{left:o}=e,{top:r}=e,{size:i=0}=e,{id:c}=e;return rt(()=>{setTimeout(()=>{l("bonusFinished",c)},R.BONUS_TIME)}),t.$$set=a=>{"left"in a&&n(0,o=a.left),"top"in a&&n(1,r=a.top),"size"in a&&n(2,i=a.size),"id"in a&&n(3,c=a.id)},[o,r,i,c]}class Tt extends K{constructor(e){super(),W(this,e,Gt,Bt,V,{left:0,top:1,size:2,id:3})}}function It(t){let e,n,l,o,r,i,c,a=t[0].playerName+"",f,p,h,L,A,w=t[0].score+"",g,v,m,F,G,T=t[0].food+"",U,E,_,b,I,q=t[0].bonus+"",X,fe,ue,ie,ee,ae=t[0].highScore+"",Ee,Ge,de,pe,te,he=t[0].level+"",Se,ge,_e=t[0].stage+"",S,N,C,be,Ke,Te,Re,qe;return{c(){e=k("div"),n=k("div"),n.textContent="Snake",l=P(),o=k("table"),r=k("tr"),i=k("td"),i.textContent="Player",c=k("td"),f=j(a),p=P(),h=k("tr"),L=k("td"),L.textContent="Score",A=k("td"),g=j(w),v=P(),m=k("tr"),F=k("td"),F.textContent="Food",G=k("td"),U=j(T),E=P(),_=k("tr"),b=k("td"),b.textContent="Bonus",I=k("td"),X=j(q),fe=P(),ue=k("tr"),ie=k("td"),ie.textContent="High Score",ee=k("td"),Ee=j(ae),Ge=P(),de=k("tr"),pe=k("td"),pe.textContent="Level-Stage",te=k("td"),Se=j(he),ge=k("span"),ge.textContent="-",S=j(_e),N=P(),C=k("div"),be=k("button"),be.textContent="Replay",Ke=P(),Te=k("button"),Te.textContent="Menu",s(n,"class","title svelte-mdywih"),s(i,"class","c1 svelte-mdywih"),s(c,"class","c2 svelte-mdywih"),s(L,"class","c1 svelte-mdywih"),s(A,"class","c2 svelte-mdywih"),s(F,"class","c1 svelte-mdywih"),s(G,"class","c2 svelte-mdywih"),s(b,"class","c1 svelte-mdywih"),s(I,"class","c2 svelte-mdywih"),s(ie,"class","c1 svelte-mdywih"),s(ee,"class","c2 svelte-mdywih"),s(pe,"class","c1 svelte-mdywih"),s(te,"class","c2 svelte-mdywih"),s(o,"class","svelte-mdywih"),s(C,"class","flex svelte-mdywih"),s(e,"class","game-over-screen svelte-mdywih")},m(Y,Q){D(Y,e,Q),u(e,n),u(e,l),u(e,o),u(o,r),u(r,i),u(r,c),u(c,f),u(o,p),u(o,h),u(h,L),u(h,A),u(A,g),u(o,v),u(o,m),u(m,F),u(m,G),u(G,U),u(o,E),u(o,_),u(_,b),u(_,I),u(I,X),u(o,fe),u(o,ue),u(ue,ie),u(ue,ee),u(ee,Ee),u(o,Ge),u(o,de),u(de,pe),u(de,te),u(te,Se),u(te,ge),u(te,S),u(e,N),u(e,C),u(C,be),u(C,Ke),u(C,Te),Re||(qe=[le(be,"click",t[2]),le(Te,"click",t[1])],Re=!0)},p(Y,[Q]){Q&1&&a!==(a=Y[0].playerName+"")&&ne(f,a),Q&1&&w!==(w=Y[0].score+"")&&ne(g,w),Q&1&&T!==(T=Y[0].food+"")&&ne(U,T),Q&1&&q!==(q=Y[0].bonus+"")&&ne(X,q),Q&1&&ae!==(ae=Y[0].highScore+"")&&ne(Ee,ae),Q&1&&he!==(he=Y[0].level+"")&&ne(Se,he),Q&1&&_e!==(_e=Y[0].stage+"")&&ne(S,_e)},i:B,o:B,d(Y){Y&&z(e),Re=!1,ce(qe)}}}function Mt(t,e,n){const l=()=>{console.log("restart game"),se.welcomeScreen()},o=()=>{oe.resetScore(),se.startGame()};let r;return oe.subscribe(i=>{n(0,r=i)}),[r,l,o]}class zt extends K{constructor(e){super(),W(this,e,Mt,It,V,{})}}const Ct=300,Dt=60,ut="none";function ke(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function Ut(t,e){return e.filter(n=>t.pointerId!==n.pointerId)}function ze(t,e,n,l,o){t.dispatchEvent(new CustomEvent(`${e}${o}`,{detail:{event:n,pointersCount:l.length}}))}function Rt(t,e,n,l,o,r=ut){e.style.touchAction=r;let i=[];function c(f){i.push(f),ze(e,t,f,i,"down"),l==null||l(i,f);const p=f.pointerId;function h(m){p===m.pointerId&&(i=Ut(m,i),i.length||L(),ze(e,t,m,i,"up"),o==null||o(i,m))}function L(){A(),w(),g(),v()}const A=ke(e,"pointermove",m=>{i=i.map(F=>m.pointerId===F.pointerId?m:F),ze(e,t,m,i,"move"),n==null||n(i,m)}),w=ke(e,"lostpointercapture",m=>{h(m)}),g=ke(e,"pointerup",m=>{h(m)}),v=ke(e,"pointerleave",m=>{i=[],L(),ze(e,t,m,i,"up"),o==null||o(i,m)})}const a=ke(e,"pointerdown",c);return{destroy:()=>{a()}}}function Pt(t,e={timeframe:Ct,minSwipeDistance:Dt,touchAction:ut}){const n="swipe";let l,o,r,i;function c(f,p){o=p.clientX,r=p.clientY,l=Date.now(),f.length===1&&(i=p.target)}function a(f,p){if(p.type==="pointerup"&&f.length===0&&Date.now()-l<e.timeframe){const h=p.clientX-o,L=p.clientY-r,A=Math.abs(h),w=Math.abs(L);let g=null;A>=2*w&&A>e.minSwipeDistance?g=h>0?"right":"left":w>=2*A&&w>e.minSwipeDistance&&(g=L>0?"bottom":"top"),g&&t.dispatchEvent(new CustomEvent(n,{detail:{direction:g,target:i}}))}}return Rt(n,t,null,c,a,e.touchAction)}function Ht(t){let e,n,l;return{c(){e=d("svg"),n=d("rect"),s(n,"y","0"),s(n,"fill","#0037FF"),s(n,"width","50"),s(n,"height","50"),s(e,"viewBox","0 0 50 50"),s(e,"class",l=we(t[4])+" svelte-zvgok1")},m(o,r){D(o,e,r),u(e,n)},p(o,r){r&16&&l!==(l=we(o[4])+" svelte-zvgok1")&&s(e,"class",l)},d(o){o&&z(e)}}}function xt(t){let e,n,l;return{c(){e=d("svg"),n=d("rect"),s(n,"y","0"),s(n,"fill","#0037FF"),s(n,"width","50"),s(n,"height","50"),s(e,"viewBox","0 0 50 50"),s(e,"class",l=we(t[4])+" svelte-zvgok1")},m(o,r){D(o,e,r),u(e,n)},p(o,r){r&16&&l!==(l=we(o[4])+" svelte-zvgok1")&&s(e,"class",l)},d(o){o&&z(e)}}}function Vt(t){let e,n,l,o,r,i,c;return{c(){e=d("svg"),n=d("g"),l=d("rect"),o=d("path"),r=d("circle"),i=d("circle"),s(l,"opacity","0"),s(l,"fill","#FFFFFF"),s(l,"width","258"),s(l,"height","258"),s(o,"fill","#0037FF"),s(o,"d",`M147.5,29.2C111.6,29.2,80.1,48,62.6,77H0v104h62.6c17.5,28,49,47.3,84.9,47.3c55,0,99.6-44.6,99.6-99.6\r
          S202.5,29.2,147.5,29.2z`),s(r,"fill","#FFF800"),s(r,"stroke","#000000"),s(r,"stroke-miterlimit","10"),s(r,"cx","184.3"),s(r,"cy","84.5"),s(r,"r","21.8"),s(i,"fill","#FFF800"),s(i,"stroke","#000000"),s(i,"stroke-miterlimit","10"),s(i,"cx","184.3"),s(i,"cy","164.5"),s(i,"r","21.8"),s(e,"viewBox","0 0 258 258"),s(e,"class",c=we(t[4])+" svelte-zvgok1")},m(a,f){D(a,e,f),u(e,n),u(n,l),u(n,o),u(n,r),u(n,i)},p(a,f){f&16&&c!==(c=we(a[4])+" svelte-zvgok1")&&s(e,"class",c)},d(a){a&&z(e)}}}function Xt(t){let e;function n(r,i){return r[2]?Vt:r[3]?xt:Ht}let l=n(t),o=l(t);return{c(){e=k("div"),o.c(),y(e,"left",t[1].left*t[0]+"px"),y(e,"top",t[1].top*t[0]+"px"),y(e,"width",t[0]+"px"),y(e,"height",t[0]+"px"),s(e,"class","snake-body svelte-zvgok1")},m(r,i){D(r,e,i),o.m(e,null)},p(r,[i]){l===(l=n(r))&&o?o.p(r,i):(o.d(1),o=l(r),o&&(o.c(),o.m(e,null))),i&3&&y(e,"left",r[1].left*r[0]+"px"),i&3&&y(e,"top",r[1].top*r[0]+"px"),i&1&&y(e,"width",r[0]+"px"),i&1&&y(e,"height",r[0]+"px")},i:B,o:B,d(r){r&&z(e),o.d()}}}function Wt(t,e,n){let{size:l=0}=e,{current:o=null}=e,{prev:r=null}=e,{isHead:i=!1}=e,{isTail:c=!1}=e,{direction:a="right"}=e;return t.$$set=f=>{"size"in f&&n(0,l=f.size),"current"in f&&n(1,o=f.current),"prev"in f&&n(5,r=f.prev),"isHead"in f&&n(2,i=f.isHead),"isTail"in f&&n(3,c=f.isTail),"direction"in f&&n(4,a=f.direction)},[l,o,i,c,a,r]}class Kt extends K{constructor(e){super(),W(this,e,Wt,Xt,V,{size:0,current:1,prev:5,isHead:2,isTail:3,direction:4})}}function Je(t,e,n){const l=t.slice();return l[3]=e[n],l[5]=n,l}function Qe(t){let e,n;return e=new Kt({props:{isHead:t[5]==0,isTail:t[5]==t[0].length-1,current:t[3],prev:t[5]>0?t[0][t[5]-1]:null,direction:t[1],size:t[2]}}),{c(){$(e.$$.fragment)},m(l,o){Z(e,l,o),n=!0},p(l,o){const r={};o&1&&(r.isTail=l[5]==l[0].length-1),o&1&&(r.current=l[3]),o&1&&(r.prev=l[5]>0?l[0][l[5]-1]:null),o&2&&(r.direction=l[1]),o&4&&(r.size=l[2]),e.$set(r)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){H(e.$$.fragment,l),n=!1},d(l){J(e,l)}}}function qt(t){let e,n,l=t[0],o=[];for(let i=0;i<l.length;i+=1)o[i]=Qe(Je(t,l,i));const r=i=>H(o[i],1,1,()=>{o[i]=null});return{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=Xe()},m(i,c){for(let a=0;a<o.length;a+=1)o[a].m(i,c);D(i,e,c),n=!0},p(i,[c]){if(c&7){l=i[0];let a;for(a=0;a<l.length;a+=1){const f=Je(i,l,a);o[a]?(o[a].p(f,c),M(o[a],1)):(o[a]=Qe(f),o[a].c(),M(o[a],1),o[a].m(e.parentNode,e))}for(Oe(),a=l.length;a<o.length;a+=1)r(a);Be()}},i(i){if(!n){for(let c=0;c<l.length;c+=1)M(o[c]);n=!0}},o(i){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)H(o[c]);n=!1},d(i){it(o,i),i&&z(e)}}}function Yt(t,e,n){let{snakeBodies:l=[]}=e,{direction:o="right"}=e,{size:r=0}=e;return t.$$set=i=>{"snakeBodies"in i&&n(0,l=i.snakeBodies),"direction"in i&&n(1,o=i.direction),"size"in i&&n(2,r=i.size)},[l,o,r]}class jt extends K{constructor(e){super(),W(this,e,Yt,qt,V,{snakeBodies:0,direction:1,size:2})}}var Ve=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.ROCK=1]="ROCK",t[t.CONCRETE=2]="CONCRETE",t))(Ve||{});const ye=[{bg:"#affbaf",wall:[{type:0,top:2,left:1},{type:0,top:2,left:2},{type:1,top:2,left:3},{type:1,top:2,left:4},{type:0,top:2,left:5},{type:0,top:2,left:6},{type:2,top:1,left:3},{type:2,top:3,left:4}]},{bg:"#fda2f2",wall:[{type:0,top:2,left:2},{type:1,top:2,left:3},{type:1,top:2,left:4},{type:0,top:2,left:5},{type:2,top:1,left:3},{type:2,top:3,left:4}]},{bg:"#7f61bb",wall:[]},{bg:"#c34366",wall:[]}],Zt=()=>Date.now().toString(36)+Math.random().toString(36).substr(2);function Jt(t){let e,n,l;return{c(){e=k("div"),n=k("h1"),l=j(t[0]),s(n,"class","svelte-1x8upsq"),s(e,"class","message-box svelte-1x8upsq")},m(o,r){D(o,e,r),u(e,n),u(n,l)},p(o,[r]){r&1&&ne(l,o[0])},i:B,o:B,d(o){o&&z(e)}}}function Qt(t,e,n){let{message:l=""}=e;return t.$$set=o=>{"message"in o&&n(0,l=o.message)},[l]}class $t extends K{constructor(e){super(),W(this,e,Qt,Jt,V,{message:0})}}function en(t){let e,n,l,o,r,i,c,a,f;return{c(){e=d("svg"),n=d("radialGradient"),l=d("stop"),o=d("stop"),r=d("rect"),i=d("linearGradient"),c=d("stop"),a=d("stop"),f=d("rect"),s(l,"offset","0"),y(l,"stop-color","#333333"),s(o,"offset","1"),y(o,"stop-color","#000000"),s(n,"id","rock_svgid"),s(n,"cx","219.5"),s(n,"cy","219.5"),s(n,"r","219"),s(n,"gradientUnits","userSpaceOnUse"),s(r,"x","0.5"),s(r,"y","0.5"),s(r,"fill","url(#rock_svgid)"),s(r,"stroke","#000000"),s(r,"stroke-miterlimit","10"),s(r,"width","438"),s(r,"height","438"),s(c,"offset","0"),y(c,"stop-color","#000000"),y(c,"stop-opacity","0"),s(a,"offset","1"),y(a,"stop-color","#FFFFFF"),y(a,"stop-opacity","0.5"),s(i,"id","rock_svgid2"),s(i,"gradientUnits","userSpaceOnUse"),s(i,"x1","219"),s(i,"y1","431"),s(i,"x2","219"),s(i,"y2","9.0005"),s(f,"x","8"),s(f,"y","9"),s(f,"fill","url(#rock_svgid2)"),s(f,"width","422"),s(f,"height","422"),s(e,"viewBox","0 0 439 439")},m(p,h){D(p,e,h),u(e,n),u(n,l),u(n,o),u(e,r),u(e,i),u(i,c),u(i,a),u(e,f)},d(p){p&&z(e)}}}function tn(t){let e,n,l,o,r,i,c,a,f,p,h,L,A,w,g,v,m,F,G,T,U,E;return{c(){e=d("svg"),n=d("g"),l=d("linearGradient"),o=d("stop"),r=d("stop"),i=d("rect"),c=d("linearGradient"),a=d("stop"),f=d("stop"),p=d("rect"),h=d("linearGradient"),L=d("stop"),A=d("stop"),w=d("polygon"),g=d("linearGradient"),v=d("stop"),m=d("stop"),F=d("rect"),G=d("linearGradient"),T=d("stop"),U=d("stop"),E=d("rect"),s(o,"offset","0"),y(o,"stop-color","#998675"),s(r,"offset","1"),y(r,"stop-color","#C7B299"),s(l,"id","concrete_SVGID_1_"),s(l,"gradientUnits","userSpaceOnUse"),s(l,"x1","4"),s(l,"y1","96.5"),s(l,"x2","281"),s(l,"y2","96.5"),s(i,"x","4"),s(i,"y","4"),s(i,"fill","url(#concrete_SVGID_1_)"),s(i,"stroke","#CABD99"),s(i,"stroke-width","8"),s(i,"stroke-miterlimit","10"),s(i,"width","277"),s(i,"height","185"),s(a,"offset","0"),y(a,"stop-color","#998675"),s(f,"offset","1"),y(f,"stop-color","#C7B299"),s(c,"id","concrete_SVGID_2_"),s(c,"gradientUnits","userSpaceOnUse"),s(c,"x1","420"),s(c,"y1","189"),s(c,"x2","420"),s(c,"y2","4"),s(p,"x","281"),s(p,"y","4"),s(p,"fill","url(#concrete_SVGID_2_)"),s(p,"stroke","#CABD99"),s(p,"stroke-width","8"),s(p,"stroke-miterlimit","10"),s(p,"width","278"),s(p,"height","185"),s(L,"offset","0"),y(L,"stop-color","#998675"),s(A,"offset","1"),y(A,"stop-color","#C7B299"),s(h,"id","concrete_SVGID_3_"),s(h,"gradientUnits","userSpaceOnUse"),s(h,"x1","281.5"),s(h,"y1","374"),s(h,"x2","281.5"),s(h,"y2","189.0005"),s(w,"fill","url(#concrete_SVGID_3_)"),s(w,"stroke","#CABD99"),s(w,"stroke-width","8"),s(w,"stroke-miterlimit","10"),s(w,"points",`281,189 4,189 4,374 281,374 \r
    559,374 559,189 	`),s(v,"offset","0"),y(v,"stop-color","#998675"),s(m,"offset","1"),y(m,"stop-color","#C7B299"),s(g,"id","concrete_SVGID_4_"),s(g,"gradientUnits","userSpaceOnUse"),s(g,"x1","4"),s(g,"y1","466.5"),s(g,"x2","281"),s(g,"y2","466.5"),s(F,"x","4"),s(F,"y","374"),s(F,"fill","url(#concrete_SVGID_4_)"),s(F,"stroke","#CABD99"),s(F,"stroke-width","8"),s(F,"stroke-miterlimit","10"),s(F,"width","277"),s(F,"height","185"),s(T,"offset","0"),y(T,"stop-color","#998675"),s(U,"offset","1"),y(U,"stop-color","#C7B299"),s(G,"id","concrete_SVGID_5_"),s(G,"gradientUnits","userSpaceOnUse"),s(G,"x1","281"),s(G,"y1","466.5"),s(G,"x2","559"),s(G,"y2","466.5"),s(E,"x","281"),s(E,"y","374"),s(E,"fill","url(#concrete_SVGID_5_)"),s(E,"stroke","#CABD99"),s(E,"stroke-width","8"),s(E,"stroke-miterlimit","10"),s(E,"width","278"),s(E,"height","185"),s(e,"viewBox","0 0 563 563")},m(_,b){D(_,e,b),u(e,n),u(n,l),u(l,o),u(l,r),u(n,i),u(n,c),u(c,a),u(c,f),u(n,p),u(n,h),u(h,L),u(h,A),u(n,w),u(n,g),u(g,v),u(g,m),u(n,F),u(n,G),u(G,T),u(G,U),u(n,E)},d(_){_&&z(e)}}}function nn(t){let e,n,l,o,r,i,c,a,f,p,h,L,A,w,g;return{c(){e=d("svg"),n=d("symbol"),l=d("polygon"),o=d("polygon"),r=d("polygon"),i=d("polygon"),c=d("polygon"),a=d("polygon"),f=d("polygon"),p=d("polygon"),h=d("polygon"),L=d("polygon"),A=d("polygon"),w=d("polygon"),g=d("use"),s(l,"points","27,-29 -27,-29 -27,29 27,29 	"),s(o,"fill","#BF6411"),s(o,"points","-15,29 -27,29 -27,16 -15,16 -2,16 -2,29 	"),s(r,"fill","#BF6411"),s(r,"points","12,29 0,29 0,16 12,16 25,16 25,29 	"),s(i,"fill","#BF6411"),s(i,"points","-27,14 -15,14 -15,2 -27,2 	"),s(c,"fill","#BF6411"),s(c,"points","0,14 -13,14 -13,2 0,2 12,2 12,14 	"),s(a,"fill","#BF6411"),s(a,"points","14,14 27,14 27,2 14,2 	"),s(f,"fill","#BF6411"),s(f,"points","-15,0 -27,0 -27,-13 -15,-13 -2,-13 -2,0 	"),s(p,"fill","#BF6411"),s(p,"points","12,0 0,0 0,-13 12,-13 25,-13 25,0 	"),s(h,"fill","#BF6411"),s(h,"points","-27,-15 -15,-15 -15,-27 -27,-27 	"),s(L,"fill","#BF6411"),s(L,"points","0,-15 -13,-15 -13,-27 0,-27 12,-27 12,-15 	"),s(A,"fill","#BF6411"),s(A,"points","14,-15 27,-15 27,-27 14,-27 	"),s(w,"display","none"),s(w,"fill","none"),s(w,"points","-27,29 27,29 27,-29 -27,-29 	"),s(n,"id","brick1"),s(n,"viewBox","-27 -29 54 58"),pt(g,"xlink:href","#brick1"),s(g,"width","54"),s(g,"height","58"),s(g,"x","-27"),s(g,"y","-29"),s(g,"transform","matrix(1 0 0 -1 27 29)"),s(g,"overflow","visible"),s(e,"viewBox","0 0 54 58")},m(v,m){D(v,e,m),u(e,n),u(n,l),u(n,o),u(n,r),u(n,i),u(n,c),u(n,a),u(n,f),u(n,p),u(n,h),u(n,L),u(n,A),u(n,w),u(e,g)},d(v){v&&z(e)}}}function on(t){let e;function n(r,i){return r[1].type==Ve.DEFAULT?nn:r[1].type==Ve.CONCRETE?tn:en}let l=n(t),o=l(t);return{c(){e=k("div"),o.c(),s(e,"class","brick svelte-1ezhfpr"),y(e,"top",t[1].top*t[0]+"px"),y(e,"left",t[1].left*t[0]+"px"),y(e,"width",t[0]+"px"),y(e,"height",t[0]+"px")},m(r,i){D(r,e,i),o.m(e,null)},p(r,[i]){l!==(l=n(r))&&(o.d(1),o=l(r),o&&(o.c(),o.m(e,null))),i&3&&y(e,"top",r[1].top*r[0]+"px"),i&3&&y(e,"left",r[1].left*r[0]+"px"),i&1&&y(e,"width",r[0]+"px"),i&1&&y(e,"height",r[0]+"px")},i:B,o:B,d(r){r&&z(e),o.d()}}}function sn(t,e,n){let{size:l=0}=e,{data:o}=e;return t.$$set=r=>{"size"in r&&n(0,l=r.size),"data"in r&&n(1,o=r.data)},[l,o]}class ln extends K{constructor(e){super(),W(this,e,sn,on,V,{size:0,data:1})}}function $e(t,e,n){const l=t.slice();return l[3]=e[n],l}function et(t){let e,n;return e=new ln({props:{data:t[3],size:t[0]}}),{c(){$(e.$$.fragment)},m(l,o){Z(e,l,o),n=!0},p(l,o){const r={};o&2&&(r.data=l[3]),o&1&&(r.size=l[0]),e.$set(r)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){H(e.$$.fragment,l),n=!1},d(l){J(e,l)}}}function rn(t){let e,n,l=t[1],o=[];for(let i=0;i<l.length;i+=1)o[i]=et($e(t,l,i));const r=i=>H(o[i],1,1,()=>{o[i]=null});return{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=Xe()},m(i,c){for(let a=0;a<o.length;a+=1)o[a].m(i,c);D(i,e,c),n=!0},p(i,[c]){if(c&3){l=i[1];let a;for(a=0;a<l.length;a+=1){const f=$e(i,l,a);o[a]?(o[a].p(f,c),M(o[a],1)):(o[a]=et(f),o[a].c(),M(o[a],1),o[a].m(e.parentNode,e))}for(Oe(),a=l.length;a<o.length;a+=1)r(a);Be()}},i(i){if(!n){for(let c=0;c<l.length;c+=1)M(o[c]);n=!0}},o(i){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)H(o[c]);n=!1},d(i){it(o,i),i&&z(e)}}}function cn(t,e,n){let l,{size:o=0}=e,r;return oe.subscribe(i=>{n(2,r=i)}),t.$$set=i=>{"size"in i&&n(0,o=i.size)},t.$$.update=()=>{t.$$.dirty&4&&n(1,l=ye[r.level-1].wall)},[o,l,r]}class fn extends K{constructor(e){super(),W(this,e,cn,rn,V,{size:0})}}function tt(t,e,n){const l=t.slice();return l[44]=e[n],l}function nt(t,e){let n,l,o;return l=new Tt({props:{id:e[44].id,left:e[44].left,top:e[44].top,size:e[6]}}),l.$on("bonusFinished",e[14]),{key:t,first:null,c(){n=Xe(),$(l.$$.fragment),this.first=n},m(r,i){D(r,n,i),Z(l,r,i),o=!0},p(r,i){e=r;const c={};i[0]&2048&&(c.id=e[44].id),i[0]&2048&&(c.left=e[44].left),i[0]&2048&&(c.top=e[44].top),i[0]&64&&(c.size=e[6]),l.$set(c)},i(r){o||(M(l.$$.fragment,r),o=!0)},o(r){H(l.$$.fragment,r),o=!1},d(r){r&&z(n),J(l,r)}}}function ot(t){let e,n;return e=new $t({props:{message:t[5]}}),{c(){$(e.$$.fragment)},m(l,o){Z(e,l,o),n=!0},p(l,o){const r={};o[0]&32&&(r.message=l[5]),e.$set(r)},i(l){n||(M(e.$$.fragment,l),n=!0)},o(l){H(e.$$.fragment,l),n=!1},d(l){J(e,l)}}}function un(t){let e,n,l,o,r,i,c,a,f,p,h=[],L=new Map,A,w,g,v,m,F,G;r=new fn({props:{size:t[6]}}),c=new jt({props:{direction:t[9],snakeBodies:t[10],size:t[6]}}),f=new Ot({props:{left:t[7],top:t[8],size:t[6]}});let T=t[11];const U=_=>_[44].id;for(let _=0;_<T.length;_+=1){let b=tt(t,T,_),I=U(b);L.set(I,h[_]=nt(I,b))}let E=t[4]==!0&&ot(t);return{c(){e=k("div"),n=k("div"),n.textContent="Score",l=P(),o=k("main"),$(r.$$.fragment),i=P(),$(c.$$.fragment),a=P(),$(f.$$.fragment),p=P();for(let _=0;_<h.length;_+=1)h[_].c();A=P(),E&&E.c(),w=P(),g=k("div"),g.innerHTML="<span>Pause</span>",y(o,"width",t[2]+"px"),y(o,"height",t[2]+"px"),y(o,"background",ye[t[3].level].bg),s(o,"class","svelte-1vcapp3"),s(e,"class","wrap svelte-1vcapp3"),Ue(()=>t[15].call(e))},m(_,b){D(_,e,b),u(e,n),u(e,l),u(e,o),Z(r,o,null),u(o,i),Z(c,o,null),u(o,a),Z(f,o,null),u(o,p);for(let I=0;I<h.length;I+=1)h[I].m(o,null);u(o,A),E&&E.m(o,null),u(e,w),u(e,g),v=_t(e,t[15].bind(e)),m=!0,F||(G=[le(window,"keydown",t[13]),dt(Pt.call(null,o,{timeframe:300,minSwipeDistance:60,touchAction:"none"})),le(o,"swipe",t[12])],F=!0)},p(_,b){const I={};b[0]&64&&(I.size=_[6]),r.$set(I);const q={};b[0]&512&&(q.direction=_[9]),b[0]&1024&&(q.snakeBodies=_[10]),b[0]&64&&(q.size=_[6]),c.$set(q);const X={};b[0]&128&&(X.left=_[7]),b[0]&256&&(X.top=_[8]),b[0]&64&&(X.size=_[6]),f.$set(X),b[0]&18496&&(T=_[11],Oe(),h=kt(h,b,U,1,_,T,L,o,bt,nt,A,tt),Be()),_[4]==!0?E?(E.p(_,b),b[0]&16&&M(E,1)):(E=ot(_),E.c(),M(E,1),E.m(o,null)):E&&(Oe(),H(E,1,1,()=>{E=null}),Be()),(!m||b[0]&4)&&y(o,"width",_[2]+"px"),(!m||b[0]&4)&&y(o,"height",_[2]+"px"),(!m||b[0]&8)&&y(o,"background",ye[_[3].level].bg)},i(_){if(!m){M(r.$$.fragment,_),M(c.$$.fragment,_),M(f.$$.fragment,_);for(let b=0;b<T.length;b+=1)M(h[b]);M(E),m=!0}},o(_){H(r.$$.fragment,_),H(c.$$.fragment,_),H(f.$$.fragment,_);for(let b=0;b<h.length;b+=1)H(h[b]);H(E),m=!1},d(_){_&&z(e),J(r),J(c),J(f);for(let b=0;b<h.length;b+=1)h[b].d();E&&E.d(),v(),F=!1,ce(G)}}}function an(t,e,n){let l=!1,o=!1,r=Ae.NEXT_LEVEL,i=!1,c,a,f=0,p=0;rt(()=>{console.log(`--onMount = ${p} ${f}`)}),vt(()=>{});let h;se.subscribe(S=>{}),oe.subscribe(S=>{n(3,h=S)});const L=()=>{T(Ae.GAME_OVER),clearInterval(F),setTimeout(()=>{U(),ee(),se.gameOver()},R.MESSAGE_TIME)};let A=0,w=0,g=O.RIGHT,v=[],m=[],F;function G(S){S.detail.direction,S.detail.target}const T=S=>{n(5,r=S),n(4,o=!0)},U=()=>{n(4,o=!1),n(5,r=Ae.GAME_OVER)},E=()=>{T(Ae.NEXT_LEVEL),clearInterval(F),setTimeout(()=>{U(),oe.nextLevel(),oe.resetScore(),X(),ee()},R.MESSAGE_TIME)},_=S=>{m.forEach(N=>{fe(S,N)&&(ge(N.id),oe.getBonus())})},b=()=>{v.length/R.MAX_POINTS>1&&v.length%R.MAX_POINTS==0&&(h.level<ye.length-1?E():(clearInterval(F),se.allLevelsCleared()))},I=()=>{let{left:S,top:N}=v[0];return g===O.UP?N-=1:g===O.DOWN?N+=1:g===O.LEFT?S-=1:g===O.RIGHT&&(S+=1),{left:S,top:N}},q=S=>{fe(S,{left:A,top:w})&&(n(10,v=[...v,v[v.length-1]]),oe.eatFood(),ie(),h.food%5==0&&Se())},X=()=>{let S=ye.length-h.level;S=S*R.DELAY,F=setInterval(()=>{i=!0,Ee()&&(i=!1,L()),ae();const N=I();_(N),v.pop(),n(10,v=[N,...v]),q(N),b(),i=!1},R.DELAY)},fe=(S,N)=>!(S.top<N.top||S.top>N.top||S.left<N.left||S.left>N.left),ue=()=>{let S=0,N=0,C={top:S,left:N};return S=Math.floor(Math.random()*R.MAX_BLOCKS),N=Math.floor(Math.random()*R.MAX_BLOCKS),C={top:S,left:N},v.forEach(be=>{}),C},ie=()=>{const{top:S,left:N}=ue();n(7,A=N),n(8,w=S)},ee=()=>{ie(),n(9,g=O.RIGHT),n(10,v=[{left:2,top:0},{left:1,top:0},{left:0,top:0}])},ae=()=>{const{top:S,left:N}=v[0];N>=R.MAX_BLOCKS&&g==O.RIGHT&&n(10,v[0].left=-2,v),N<0&&g==O.LEFT&&n(10,v[0].left=R.MAX_BLOCKS+1,v),S<0&&g==O.UP&&n(10,v[0].top=R.MAX_BLOCKS+1,v),S>=R.MAX_BLOCKS&&g==O.DOWN&&n(10,v[0].top=-2,v)},Ee=()=>v.slice(1).filter(C=>fe(C,v[0])).length>0,Ge=()=>{clearInterval(F)},de=S=>S===ve.UP&&g!=O.DOWN?O.UP:S===ve.RIGHT&&g!=O.LEFT?O.RIGHT:S===ve.LEFT&&g!=O.RIGHT?O.LEFT:S===ve.DOWN&&g!=O.UP?O.DOWN:O.UNKNOWN,pe=S=>{switch(S){case O.DOWN:return O.UP;case O.UP:return O.DOWN;case O.LEFT:return O.RIGHT;case O.RIGHT:return O.LEFT;case O.UNKNOWN:return O.UNKNOWN}},te=S=>{if(i)return;const N=S.code;if(N===ve.SPACEBAR&&(l=!l,l?Ge():X()),l)return;const C=de(N);C!=O.UNKNOWN&&C!=pe(C)&&n(9,g=C)},he=S=>{ge(S.detail)},Se=()=>{const S=Zt();let N={top:0,left:0,id:S};N.top=Math.floor(Math.random()*R.MAX_BLOCKS),N.left=Math.floor(Math.random()*R.MAX_BLOCKS),m.push(N),n(11,m)},ge=S=>{const N=m.findIndex(C=>C.id==S);N!=-1&&(m.splice(N,1),n(11,m))};X(),ee();function _e(){c=this.clientWidth,a=this.clientHeight,n(0,c),n(1,a)}return t.$$.update=()=>{t.$$.dirty[0]&7&&(n(2,f=Math.min(c,a)),n(2,f=f-50),n(2,f=Math.min(f,500)),isNaN(f)||n(6,p=Math.floor(f/R.MAX_BLOCKS))),t.$$.dirty[0]&8&&ye[h.level-1].wall},[c,a,f,h,o,r,p,A,w,g,v,m,G,te,he,_e]}class He extends K{constructor(e){super(),W(this,e,an,un,V,{},null,[-1,-1])}}function dn(t){let e,n,l,o,r,i,c;return{c(){e=k("div"),n=k("div"),n.textContent="Snake",l=P(),o=k("div"),r=k("button"),r.textContent="Start",s(n,"class","title svelte-yxm8be"),s(o,"class","btn svelte-yxm8be"),s(e,"class","start-screen svelte-yxm8be")},m(a,f){D(a,e,f),u(e,n),u(e,l),u(e,o),u(o,r),i||(c=le(r,"click",t[0]),i=!0)},p:B,i:B,o:B,d(a){a&&z(e),i=!1,c()}}}function pn(t){return[()=>{console.log("start game"),se.startGame()}]}class hn extends K{constructor(e){super(),W(this,e,pn,dn,V,{})}}function gn(t){let e,n,l,o,r,i,c,a;return{c(){e=k("div"),n=k("div"),n.textContent="Congratulations !",l=P(),o=k("div"),o.textContent="You have cleared all the levels.",r=P(),i=k("button"),i.textContent="Menu",s(n,"class","title svelte-gyhhqq"),s(e,"class","final svelte-gyhhqq")},m(f,p){D(f,e,p),u(e,n),u(e,l),u(e,o),u(e,r),u(e,i),c||(a=le(i,"click",t[0]),c=!0)},p:B,i:B,o:B,d(f){f&&z(e),c=!1,a()}}}function _n(t){return[()=>{console.log("restart game"),se.welcomeScreen()}]}class mn extends K{constructor(e){super(),W(this,e,_n,gn,V,{})}}var x=(t=>(t.NOT_STARTED="NOT_STARTED",t.RUNNING="RUNNING",t.PAUSED="PAUSED",t.RESUME="RESUME",t.GAME_OVER="GAME OVER",t.ALL_LEVELS_CLEARED="ALL_LEVELS_CLEARED",t))(x||{});const vn=()=>{const t=[{status:x.NOT_STARTED,component:hn},{status:x.RUNNING,component:He},{status:x.PAUSED,component:He},{status:x.RESUME,component:He},{status:x.GAME_OVER,component:zt},{status:x.ALL_LEVELS_CLEARED,component:mn}];let{update:e,subscribe:n}=ft(t.find(f=>f.status==x.RUNNING));return{subscribe:n,startGame:()=>{e(f=>(f=t.find(p=>p.status==x.RUNNING),f))},pauseGame:()=>{e(f=>(f=t.find(p=>p.status==x.PAUSED),f))},resumeGame:()=>{e(f=>(f=t.find(p=>p.status==x.RUNNING),f))},gameOver:()=>{e(f=>(f=t.find(p=>p.status==x.GAME_OVER),f))},welcomeScreen:()=>{e(f=>(f=t.find(p=>p.status==x.NOT_STARTED),f))},allLevelsCleared:()=>{e(f=>(f=t.find(p=>p.status==x.ALL_LEVELS_CLEARED),f))}}},se=vn();function yn(t){let e,n,l;var o=t[0].component;function r(i){return{}}return o&&(n=new o(r())),{c(){e=k("div"),n&&$(n.$$.fragment),s(e,"class","container svelte-174qdzj")},m(i,c){D(i,e,c),n&&Z(n,e,null),l=!0},p(i,[c]){if(o!==(o=i[0].component)){if(n){Oe();const a=n;H(a.$$.fragment,1,0,()=>{J(a,1)}),Be()}o?(n=new o(r()),$(n.$$.fragment),M(n.$$.fragment,1),Z(n,e,null)):n=null}},i(i){l||(n&&M(n.$$.fragment,i),l=!0)},o(i){n&&H(n.$$.fragment,i),l=!1},d(i){i&&z(e),n&&J(n)}}}function wn(t,e,n){let l;return se.subscribe(o=>{n(0,l=o)}),[l]}class En extends K{constructor(e){super(),W(this,e,wn,yn,V,{})}}new En({target:document.getElementById("app")});
