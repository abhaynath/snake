(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function a(){}function X(e){return e()}function V(){return Object.create(null)}function S(e){e.forEach(X)}function Z(e){return typeof e=="function"}function I(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ee(e){return Object.keys(e).length===0}function _(e,t){e.appendChild(t)}function v(e,t,n){e.insertBefore(t,n||null)}function h(e){e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function te(e){return document.createTextNode(e)}function G(){return te(" ")}function E(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function y(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ne(e){return Array.from(e.childNodes)}function q(e,t,n,s){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}let K;function x(e){K=e}const R=[],z=[],A=[],F=[],re=Promise.resolve();let P=!1;function se(){P||(P=!0,re.then(Y))}function L(e){A.push(e)}const U=new Set;let T=0;function Y(){const e=K;do{for(;T<R.length;){const t=R[T];T++,x(t),oe(t.$$)}for(x(null),R.length=0,T=0;z.length;)z.pop()();for(let t=0;t<A.length;t+=1){const n=A[t];U.has(n)||(U.add(n),n())}A.length=0}while(R.length);for(;F.length;)F.pop()();P=!1,U.clear(),x(e)}function oe(e){if(e.fragment!==null){e.update(),S(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(L)}}const C=new Set;let p;function ce(){p={r:0,c:[],p}}function ue(){p.r||S(p.c),p=p.p}function D(e,t){e&&e.i&&(C.delete(e),e.i(t))}function J(e,t,n,s){if(e&&e.o){if(C.has(e))return;C.add(e),p.c.push(()=>{C.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}else s&&s()}function Q(e){e&&e.c()}function M(e,t,n,s){const{fragment:r,on_mount:i,on_destroy:c,after_update:l}=e.$$;r&&r.m(t,n),s||L(()=>{const u=i.map(X).filter(Z);c?c.push(...u):S(u),e.$$.on_mount=[]}),l.forEach(L)}function B(e,t){const n=e.$$;n.fragment!==null&&(S(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ie(e,t){e.$$.dirty[0]===-1&&(R.push(e),se(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function O(e,t,n,s,r,i,c,l=[-1]){const u=K;x(e);const o=e.$$={fragment:null,ctx:null,props:i,update:a,not_equal:r,bound:V(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:V(),dirty:l,skip_bound:!1,root:t.target||u.$$.root};c&&c(o.root);let N=!1;if(o.ctx=n?n(e,t.props||{},(f,$,...W)=>{const j=W.length?W[0]:$;return o.ctx&&r(o.ctx[f],o.ctx[f]=j)&&(!o.skip_bound&&o.bound[f]&&o.bound[f](j),N&&ie(e,f)),$}):[],o.update(),N=!0,S(o.before_update),o.fragment=s?s(o.ctx):!1,t.target){if(t.hydrate){const f=ne(t.target);o.fragment&&o.fragment.l(f),f.forEach(h)}else o.fragment&&o.fragment.c();t.intro&&D(e.$$.fragment),M(e,t.target,t.anchor,t.customElement),Y()}x(u)}class H{$destroy(){B(this,1),this.$destroy=a}$on(t,n){const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(t){this.$$set&&!ee(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var w=(e=>(e[e.SCREEN_WIDTH=600]="SCREEN_WIDTH",e[e.SCREEN_HEIGHT=400]="SCREEN_HEIGHT",e[e.BALL_RADIUS=15]="BALL_RADIUS",e[e.BRICK_WIDTH=81]="BRICK_WIDTH",e[e.BRICK_HEIGHT=9]="BRICK_HEIGHT",e))(w||{});function le(e){let t,n,s,r,i,c;return{c(){t=d("div"),n=d("h1"),n.textContent="Score : 80",s=G(),r=d("button"),r.textContent="Restart",y(t,"class","game-over-screen svelte-189tr06")},m(l,u){v(l,t,u),_(t,n),_(t,s),_(t,r),i||(c=E(r,"click",e[0]),i=!0)},p:a,i:a,o:a,d(l){l&&h(t),i=!1,c()}}}function fe(e){return[()=>{console.log("restart game"),g.welcomeScreen()}]}class ae extends H{constructor(t){super(),O(this,t,fe,le,I,{})}}var m=(e=>(e.NOT_STARTED="NOT_STARTED",e.RUNNING="RUNNING",e.PAUSED="PAUSED",e.RESUME="RESUME",e.GAME_OVER="GAME OVER",e))(m||{});function de(e){let t,n,s,r,i,c,l,u,o,N;return{c(){t=d("div"),n=G(),s=d("div"),r=d("button"),r.textContent="Pause",i=G(),c=d("button"),c.textContent="Resume",l=G(),u=d("button"),u.textContent="Game over",y(t,"class","play-screen svelte-eunmma"),y(s,"class","toolbar svelte-eunmma")},m(f,$){v(f,t,$),v(f,n,$),v(f,s,$),_(s,r),_(s,i),_(s,c),_(s,l),_(s,u),o||(N=[E(window,"keydown",e[3]),E(r,"click",e[1]),E(c,"click",e[2]),E(u,"click",e[0])],o=!0)},p:a,i:a,o:a,d(f){f&&h(t),f&&h(n),f&&h(s),o=!1,S(N)}}}function me(e){w.SCREEN_WIDTH/2,w.SCREEN_HEIGHT/2;let t;return g.subscribe(c=>{t=c}),[()=>{console.log("game over"),g.gameOver()},()=>{g.pauseGame()},()=>{g.resumeGame()},c=>{console.log(`onkeydown ${t.status}`),t.status==m.RUNNING&&(console.log(c),c.key,c.keyCode)}]}class k extends H{constructor(t){super(),O(this,t,me,de,I,{})}}function _e(e){let t,n,s,r,i,c,l;return{c(){t=d("div"),n=d("div"),n.textContent="Snake",s=G(),r=d("div"),i=d("button"),i.textContent="Start",y(n,"class","title svelte-yxm8be"),y(r,"class","btn svelte-yxm8be"),y(t,"class","start-screen svelte-yxm8be")},m(u,o){v(u,t,o),_(t,n),_(t,s),_(t,r),_(r,i),c||(l=E(i,"click",e[0]),c=!0)},p:a,i:a,o:a,d(u){u&&h(t),c=!1,l()}}}function pe(e){return[()=>{console.log("start game"),g.startGame()}]}class ge extends H{constructor(t){super(),O(this,t,pe,_e,I,{})}}const b=[];function he(e,t=a){let n;const s=new Set;function r(l){if(I(e,l)&&(e=l,n)){const u=!b.length;for(const o of s)o[1](),b.push(o,e);if(u){for(let o=0;o<b.length;o+=2)b[o][0](b[o+1]);b.length=0}}}function i(l){r(l(e))}function c(l,u=a){const o=[l,u];return s.add(o),s.size===1&&(n=t(r)||a),l(e),()=>{s.delete(o),s.size===0&&(n(),n=null)}}return{set:r,update:i,subscribe:c}}const ye=()=>{const e=[{status:m.NOT_STARTED,component:ge},{status:m.RUNNING,component:k},{status:m.PAUSED,component:k},{status:m.RESUME,component:k},{status:m.GAME_OVER,component:ae}];let{update:t,subscribe:n}=he(e[0]);return{subscribe:n,startGame:()=>{t(u=>(u=e.find(o=>o.status==m.RUNNING),u))},pauseGame:()=>{t(u=>(u=e.find(o=>o.status==m.PAUSED),u))},resumeGame:()=>{t(u=>(u=e.find(o=>o.status==m.RUNNING),u))},gameOver:()=>{t(u=>(u=e.find(o=>o.status==m.GAME_OVER),u))},welcomeScreen:()=>{t(u=>(u=e.find(o=>o.status==m.NOT_STARTED),u))}}},g=ye();function $e(e){let t,n,s;var r=e[0].component;function i(c){return{}}return r&&(n=new r(i())),{c(){t=d("div"),n&&Q(n.$$.fragment),y(t,"class","container svelte-16au4d0"),q(t,"width",w.SCREEN_WIDTH+"px"),q(t,"height",w.SCREEN_HEIGHT+"px")},m(c,l){v(c,t,l),n&&M(n,t,null),s=!0},p(c,[l]){if(r!==(r=c[0].component)){if(n){ce();const u=n;J(u.$$.fragment,1,0,()=>{B(u,1)}),ue()}r?(n=new r(i()),Q(n.$$.fragment),D(n.$$.fragment,1),M(n,t,null)):n=null}},i(c){s||(n&&D(n.$$.fragment,c),s=!0)},o(c){n&&J(n.$$.fragment,c),s=!1},d(c){c&&h(t),n&&B(n)}}}function be(e,t,n){let s;return g.subscribe(r=>{n(0,s=r)}),[s]}class Ee extends H{constructor(t){super(),O(this,t,be,$e,I,{})}}new Ee({target:document.getElementById("app")});
