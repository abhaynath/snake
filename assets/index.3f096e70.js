(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function D(){}function it(t){return t()}function Ke(){return Object.create(null)}function fe(t){t.forEach(it)}function lt(t){return typeof t=="function"}function R(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function dt(t){return Object.keys(t).length===0}function we(t){return t==null?"":t}function ht(t){return t&&lt(t.destroy)?t.destroy:D}function u(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode.removeChild(t)}function rt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function F(t){return document.createElement(t)}function h(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t){return document.createTextNode(t)}function M(){return q(" ")}function We(){return q("")}function te(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function s(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function pt(t){return Array.from(t.childNodes)}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function w(t,e,n,i){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}let De;function _t(){if(De===void 0){De=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{De=!0}}return De}function mt(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=F("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=_t();let r;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=te(window,"message",l=>{l.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{r=te(i.contentWindow,"resize",e)}),u(t,i),()=>{(o||r&&i.contentWindow)&&r(),B(i)}}function gt(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,i,e),o}let ke;function be(t){ke=t}function Xe(){if(!ke)throw new Error("Function called outside component initialization");return ke}function ct(t){Xe().$$.on_mount.push(t)}function wt(t){Xe().$$.after_update.push(t)}function yt(){const t=Xe();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=gt(e,n,{cancelable:i});return o.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}const Se=[],je=[],xe=[],Ze=[],vt=Promise.resolve();let Ve=!1;function Et(){Ve||(Ve=!0,vt.then(ft))}function Ce(t){xe.push(t)}const He=new Set;let Oe=0;function ft(){const t=ke;do{for(;Oe<Se.length;){const e=Se[Oe];Oe++,be(e),St(e.$$)}for(be(null),Se.length=0,Oe=0;je.length;)je.pop()();for(let e=0;e<xe.length;e+=1){const n=xe[e];He.has(n)||(He.add(n),n())}xe.length=0}while(Se.length);for(;Ze.length;)Ze.pop()();Ve=!1,He.clear(),be(t)}function St(t){if(t.fragment!==null){t.update(),fe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ce)}}const Be=new Set;let re;function Ge(){re={r:0,c:[],p:re}}function Fe(){re.r||fe(re.c),re=re.p}function x(t,e){t&&t.i&&(Be.delete(t),t.i(e))}function U(t,e,n,i){if(t&&t.o){if(Be.has(t))return;Be.add(t),re.c.push(()=>{Be.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function bt(t,e){U(t,1,1,()=>{e.delete(t.key)})}function kt(t,e,n,i,o,r,l,c,f,a,d,p){let G=t.length,k=r.length,g=G;const m={};for(;g--;)m[t[g].key]=g;const A=[],v=new Map,y=new Map;for(g=k;g--;){const S=p(o,r,g),I=n(S);let O=l.get(I);O?i&&O.p(S,e):(O=a(I,S),O.c()),v.set(I,A[g]=O),I in m&&y.set(I,Math.abs(g-m[I]))}const _=new Set,E=new Set;function N(S){x(S,1),S.m(c,d),l.set(S.key,S),d=S.first,k--}for(;G&&k;){const S=A[k-1],I=t[G-1],O=S.key,W=I.key;S===I?(d=S.first,G--,k--):v.has(W)?!l.has(O)||_.has(O)?N(S):E.has(W)?G--:y.get(O)>y.get(W)?(E.add(O),N(S)):(_.add(W),G--):(f(I,l),G--)}for(;G--;){const S=t[G];v.has(S.key)||f(S,l)}for(;k;)N(A[k-1]);return A}function Z(t){t&&t.c()}function Y(t,e,n,i){const{fragment:o,on_mount:r,on_destroy:l,after_update:c}=t.$$;o&&o.m(e,n),i||Ce(()=>{const f=r.map(it).filter(lt);l?l.push(...f):fe(f),t.$$.on_mount=[]}),c.forEach(Ce)}function K(t,e){const n=t.$$;n.fragment!==null&&(fe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Gt(t,e){t.$$.dirty[0]===-1&&(Se.push(t),Et(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(t,e,n,i,o,r,l,c=[-1]){const f=ke;be(t);const a=t.$$={fragment:null,ctx:null,props:r,update:D,not_equal:o,bound:Ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:Ke(),dirty:c,skip_bound:!1,root:e.target||f.$$.root};l&&l(a.root);let d=!1;if(a.ctx=n?n(t,e.props||{},(p,G,...k)=>{const g=k.length?k[0]:G;return a.ctx&&o(a.ctx[p],a.ctx[p]=g)&&(!a.skip_bound&&a.bound[p]&&a.bound[p](g),d&&Gt(t,p)),G}):[],a.update(),d=!0,fe(a.before_update),a.fragment=i?i(a.ctx):!1,e.target){if(e.hydrate){const p=pt(e.target);a.fragment&&a.fragment.l(p),p.forEach(B)}else a.fragment&&a.fragment.c();e.intro&&x(t.$$.fragment),Y(t,e.target,e.anchor,e.customElement),ft()}be(f)}class P{$destroy(){K(this,1),this.$destroy=D}$on(e,n){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!dt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var T=(t=>(t.UP="up",t.RIGHT="right",t.LEFT="left",t.DOWN="down",t.UNKNOWN="",t))(T||{});const Je={SCREEN_WIDTH:600,SCREEN_HEIGHT:400,BLOCK_SIZE:50};var le=(t=>(t[t.DELAY=1e3]="DELAY",t[t.MAX_POINTS=10]="MAX_POINTS",t[t.BONUS_TIME=5e3]="BONUS_TIME",t[t.MESSAGE_TIME=3e3]="MESSAGE_TIME",t))(le||{}),me=(t=>(t.UP="ArrowUp",t.LEFT="ArrowLeft",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.SPACEBAR="Space",t))(me||{}),ze=(t=>(t.NEXT_LEVEL="Next Level",t.GAME_OVER="Game Over",t))(ze||{});const _e=[];function at(t,e=D){let n;const i=new Set;function o(c){if(R(t,c)&&(t=c,n)){const f=!_e.length;for(const a of i)a[1](),_e.push(a,t);if(f){for(let a=0;a<_e.length;a+=2)_e[a][0](_e[a+1]);_e.length=0}}}function r(c){o(c(t))}function l(c,f=D){const a=[c,f];return i.add(a),i.size===1&&(n=e(o)||D),c(t),()=>{i.delete(a),i.size===0&&(n(),n=null)}}return{set:o,update:r,subscribe:l}}const Ft=()=>{let t={playerName:"Abhay",level:1,stage:1,score:0,highScore:0,bonus:0,food:0},{update:e,subscribe:n}=at(t);return{subscribe:n,resetScore:()=>{e(c=>(c.food=0,c.bonus=0,c.score=0,c))},eatFood:()=>{e(c=>(c.food=c.food+1,c.score=c.food*5+c.bonus*20,c.score>c.highScore&&(c.highScore=c.score),c))},getBonus:()=>{e(c=>(c.bonus=c.bonus+1,c))},nextLevel:()=>{e(c=>(c.level=c.level+1,c))}}};let ee=Ft();function At(t){let e,n,i,o,r,l,c,f,a,d,p,G,k,g,m,A;return{c(){e=F("div"),n=h("svg"),i=h("g"),o=h("g"),r=h("g"),l=h("g"),c=h("ellipse"),f=h("g"),a=h("path"),d=h("path"),p=h("g"),G=h("path"),k=h("g"),g=h("path"),m=h("g"),A=h("ellipse"),s(i,"id","Layer_1"),s(c,"id","shadow"),s(c,"opacity","0.3"),s(c,"cx","438.7"),s(c,"cy","765.8"),s(c,"rx","283"),s(c,"ry","32.9"),s(a,"id","cup-shadow"),s(a,"fill","#E7F4FA"),s(a,"d",`M135.4,492.8c0,0,17,201,77,230c81.1,39.2,258,43.7,392,25.1\r
            c100.5-13.9,115.1-120.1,122-154.4c8-39.7,19.5-119,6.5-137S217.4,370.8,135.4,492.8z`),s(d,"id","cup-light"),s(d,"fill","#FFFFFF"),s(d,"d",`M155.8,563.9c0,0,12.5,129.5,68.5,151.7c75.8,30,241,33.4,366.1,19.2\r
            c93.8-10.7,107.5-92,114-118.3c7.5-30.4,22.7-73.8,15.3-89C711.8,510.9,478.4,406.5,155.8,563.9z`),s(G,"id","mainFood"),s(G,"fill","#DB343C"),s(G,"d",`M57,240.8c35.9-55.2,83.5-142,189.1-192.7C365.6-9.3,527.4-11.2,598.8,20.8\r
            c41.7,18.7,160.6,74,214.5,205.5c92,224.4,10.9,261.8-27.3,263.6s-285.6-42.4-347.6-36.1c-59.9,6.1-148.2,2.1-312.4,77.9\r
            C54.4,564.8,8.4,515.8,0.6,479C-3.5,459.8,13.4,307.8,57,240.8z`),s(g,"id","highlight"),s(g,"opacity","0.3"),s(g,"fill","#FFFFFF"),s(g,"stroke","#000000"),s(g,"stroke-width","0.25"),s(g,"stroke-miterlimit","10"),s(g,"d",`M231.4,76.8\r
            c74.3-34.1,184.9-82.6,345-35c148,44,244,176,207,256s-53.4,66.9-110,58c-83-13-226-101-256-120s-175-97-186-111\r
            S189.5,96,231.4,76.8z`),s(A,"id","c2"),s(A,"fill","#FFFFFF"),s(A,"cx","436.8"),s(A,"cy","144.3"),s(A,"rx","140.6"),s(A,"ry","138.4"),s(m,"id","c1"),s(o,"id","Layer_2"),s(n,"viewBox","0 0 855.6 798.6"),s(e,"class","food svelte-h8lqdv"),w(e,"left",t[1]*t[2]+"px"),w(e,"top",t[0]*t[2]+"px"),w(e,"width",t[2]-2+"px"),w(e,"height",t[2]-2+"px")},m(v,y){C(v,e,y),u(e,n),u(n,i),u(n,o),u(o,r),u(r,l),u(l,c),u(r,f),u(f,a),u(f,d),u(r,p),u(p,G),u(r,k),u(k,g),u(r,m),u(m,A)},p(v,[y]){y&6&&w(e,"left",v[1]*v[2]+"px"),y&5&&w(e,"top",v[0]*v[2]+"px"),y&4&&w(e,"width",v[2]-2+"px"),y&4&&w(e,"height",v[2]-2+"px")},i:D,o:D,d(v){v&&B(e)}}}function Lt(t,e,n){let{top:i=0}=e,{left:o=0}=e,{size:r=0}=e;return t.$$set=l=>{"top"in l&&n(0,i=l.top),"left"in l&&n(1,o=l.left),"size"in l&&n(2,r=l.size)},[i,o,r]}class It extends P{constructor(e){super(),V(this,e,Lt,At,R,{top:0,left:1,size:2})}}function Nt(t){let e,n,i,o,r;return{c(){e=F("div"),n=h("svg"),i=h("style"),o=q(`.red {\r
        fill: red;\r
        animation: blink 250ms linear infinite;\r
      }\r
      @keyframes blink {\r
        0% {\r
          fill: yellow;\r
        }\r
        50% {\r
          /* opacity: 0.5; */\r
        }\r
        100% {\r
          fill: red;\r
        }\r
      }\r
    `),r=h("polygon"),s(i,"id","style2"),s(r,"fill","#FFA300"),s(r,"stroke","#EB0000"),s(r,"stroke-width","0.25"),s(r,"stroke-miterlimit","10"),s(r,"points",`221.7,0.3 290.1,138.9 443.1,161.1 \r
        332.4,269 358.5,421.4 221.7,349.5 84.8,421.4 111,269 0.3,161.1 153.3,138.9 `),s(r,"class","red"),s(n,"viewBox","0 0 443.3 421.6"),s(e,"class","bonus svelte-y90akj"),w(e,"width",t[2]+"px"),w(e,"height",t[2]+"px"),w(e,"left",t[0]*t[2]+"px"),w(e,"top",t[1]*t[2]+"px")},m(l,c){C(l,e,c),u(e,n),u(n,i),u(i,o),u(n,r)},p(l,[c]){c&4&&w(e,"width",l[2]+"px"),c&4&&w(e,"height",l[2]+"px"),c&5&&w(e,"left",l[0]*l[2]+"px"),c&6&&w(e,"top",l[1]*l[2]+"px")},i:D,o:D,d(l){l&&B(e)}}}function Dt(t,e,n){const i=yt();let{left:o}=e,{top:r}=e,{size:l=0}=e,{id:c}=e;return ct(()=>{setTimeout(()=>{i("bonusFinished",c)},le.BONUS_TIME)}),t.$$set=f=>{"left"in f&&n(0,o=f.left),"top"in f&&n(1,r=f.top),"size"in f&&n(2,l=f.size),"id"in f&&n(3,c=f.id)},[o,r,l,c]}class Ot extends P{constructor(e){super(),V(this,e,Dt,Nt,R,{left:0,top:1,size:2,id:3})}}function Tt(t){let e,n,i,o,r,l,c,f=t[0].playerName+"",a,d,p,G,k,g=t[0].score+"",m,A,v,y,_,E=t[0].food+"",N,S,I,O,W,J=t[0].bonus+"",ne,Ae,se,oe,ae,ue=t[0].highScore+"",ye,Le,de,he,Q,ie=t[0].level+"",ve,b,L=t[0].stage+"",z,Ue,pe,Ie,qe,Ne,Me,Ye;return{c(){e=F("div"),n=F("div"),n.textContent="Snake",i=M(),o=F("table"),r=F("tr"),l=F("td"),l.textContent="Player",c=F("td"),a=q(f),d=M(),p=F("tr"),G=F("td"),G.textContent="Score",k=F("td"),m=q(g),A=M(),v=F("tr"),y=F("td"),y.textContent="Food",_=F("td"),N=q(E),S=M(),I=F("tr"),O=F("td"),O.textContent="Bonus",W=F("td"),ne=q(J),Ae=M(),se=F("tr"),oe=F("td"),oe.textContent="High Score",ae=F("td"),ye=q(ue),Le=M(),de=F("tr"),he=F("td"),he.textContent="Level-Stage",Q=F("td"),ve=q(ie),b=F("span"),b.textContent="-",z=q(L),Ue=M(),pe=F("div"),Ie=F("button"),Ie.textContent="Replay",qe=M(),Ne=F("button"),Ne.textContent="Menu",s(n,"class","title svelte-mdywih"),s(l,"class","c1 svelte-mdywih"),s(c,"class","c2 svelte-mdywih"),s(G,"class","c1 svelte-mdywih"),s(k,"class","c2 svelte-mdywih"),s(y,"class","c1 svelte-mdywih"),s(_,"class","c2 svelte-mdywih"),s(O,"class","c1 svelte-mdywih"),s(W,"class","c2 svelte-mdywih"),s(oe,"class","c1 svelte-mdywih"),s(ae,"class","c2 svelte-mdywih"),s(he,"class","c1 svelte-mdywih"),s(Q,"class","c2 svelte-mdywih"),s(o,"class","svelte-mdywih"),s(pe,"class","flex svelte-mdywih"),s(e,"class","game-over-screen svelte-mdywih")},m(X,j){C(X,e,j),u(e,n),u(e,i),u(e,o),u(o,r),u(r,l),u(r,c),u(c,a),u(o,d),u(o,p),u(p,G),u(p,k),u(k,m),u(o,A),u(o,v),u(v,y),u(v,_),u(_,N),u(o,S),u(o,I),u(I,O),u(I,W),u(W,ne),u(o,Ae),u(o,se),u(se,oe),u(se,ae),u(ae,ye),u(o,Le),u(o,de),u(de,he),u(de,Q),u(Q,ve),u(Q,b),u(Q,z),u(e,Ue),u(e,pe),u(pe,Ie),u(pe,qe),u(pe,Ne),Me||(Ye=[te(Ie,"click",t[2]),te(Ne,"click",t[1])],Me=!0)},p(X,[j]){j&1&&f!==(f=X[0].playerName+"")&&$(a,f),j&1&&g!==(g=X[0].score+"")&&$(m,g),j&1&&E!==(E=X[0].food+"")&&$(N,E),j&1&&J!==(J=X[0].bonus+"")&&$(ne,J),j&1&&ue!==(ue=X[0].highScore+"")&&$(ye,ue),j&1&&ie!==(ie=X[0].level+"")&&$(ve,ie),j&1&&L!==(L=X[0].stage+"")&&$(z,L)},i:D,o:D,d(X){X&&B(e),Me=!1,fe(Ye)}}}function xt(t,e,n){const i=()=>{console.log("restart game"),ce.welcomeScreen()},o=()=>{ee.resetScore(),ce.startGame()};let r;return ee.subscribe(l=>{n(0,r=l)}),[r,i,o]}class Bt extends P{constructor(e){super(),V(this,e,xt,Tt,R,{})}}const zt=300,Ct=60,ut="none";function Ee(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function Ut(t,e){return e.filter(n=>t.pointerId!==n.pointerId)}function Te(t,e,n,i,o){t.dispatchEvent(new CustomEvent(`${e}${o}`,{detail:{event:n,pointersCount:i.length}}))}function Mt(t,e,n,i,o,r=ut){e.style.touchAction=r;let l=[];function c(a){l.push(a),Te(e,t,a,l,"down"),i==null||i(l,a);const d=a.pointerId;function p(v){d===v.pointerId&&(l=Ut(v,l),l.length||G(),Te(e,t,v,l,"up"),o==null||o(l,v))}function G(){k(),g(),m(),A()}const k=Ee(e,"pointermove",v=>{l=l.map(y=>v.pointerId===y.pointerId?v:y),Te(e,t,v,l,"move"),n==null||n(l,v)}),g=Ee(e,"lostpointercapture",v=>{p(v)}),m=Ee(e,"pointerup",v=>{p(v)}),A=Ee(e,"pointerleave",v=>{l=[],G(),Te(e,t,v,l,"up"),o==null||o(l,v)})}const f=Ee(e,"pointerdown",c);return{destroy:()=>{f()}}}function Ht(t,e={timeframe:zt,minSwipeDistance:Ct,touchAction:ut}){const n="swipe";let i,o,r,l;function c(a,d){o=d.clientX,r=d.clientY,i=Date.now(),a.length===1&&(l=d.target)}function f(a,d){if(d.type==="pointerup"&&a.length===0&&Date.now()-i<e.timeframe){const p=d.clientX-o,G=d.clientY-r,k=Math.abs(p),g=Math.abs(G);let m=null;k>=2*g&&k>e.minSwipeDistance?m=p>0?"right":"left":g>=2*k&&g>e.minSwipeDistance&&(m=G>0?"bottom":"top"),m&&t.dispatchEvent(new CustomEvent(n,{detail:{direction:m,target:l}}))}}return Mt(n,t,null,c,f,e.touchAction)}function Rt(t){let e,n,i;return{c(){e=h("svg"),n=h("rect"),s(n,"y","77"),s(n,"fill","#0037FF"),s(n,"width","258"),s(n,"height","102"),s(e,"viewBox","0 0 258 258"),s(e,"class",i=we(t[5])+" svelte-kpsm61")},m(o,r){C(o,e,r),u(e,n)},p(o,r){r&32&&i!==(i=we(o[5])+" svelte-kpsm61")&&s(e,"class",i)},d(o){o&&B(e)}}}function Vt(t){let e,n,i;return{c(){e=h("svg"),n=h("polygon"),s(n,"fill","#0037FF"),s(n,"points","258,179 0,128 0,128 258,77 "),s(e,"viewBox","0 0 258 258"),s(e,"class",i=we(t[5])+" svelte-kpsm61")},m(o,r){C(o,e,r),u(e,n)},p(o,r){r&32&&i!==(i=we(o[5])+" svelte-kpsm61")&&s(e,"class",i)},d(o){o&&B(e)}}}function Pt(t){let e,n,i,o,r,l,c;return{c(){e=h("svg"),n=h("g"),i=h("rect"),o=h("path"),r=h("circle"),l=h("circle"),s(i,"opacity","0"),s(i,"fill","#FFFFFF"),s(i,"width","258"),s(i,"height","258"),s(o,"fill","#0037FF"),s(o,"d",`M147.5,29.2C111.6,29.2,80.1,48,62.6,77H0v104h62.6c17.5,28,49,47.3,84.9,47.3c55,0,99.6-44.6,99.6-99.6\r
          S202.5,29.2,147.5,29.2z`),s(r,"fill","#FFF800"),s(r,"stroke","#000000"),s(r,"stroke-miterlimit","10"),s(r,"cx","184.3"),s(r,"cy","84.5"),s(r,"r","21.8"),s(l,"fill","#FFF800"),s(l,"stroke","#000000"),s(l,"stroke-miterlimit","10"),s(l,"cx","184.3"),s(l,"cy","164.5"),s(l,"r","21.8"),s(e,"viewBox","0 0 258 258"),s(e,"class",c=we(t[5])+" svelte-kpsm61")},m(f,a){C(f,e,a),u(e,n),u(n,i),u(n,o),u(n,r),u(n,l)},p(f,a){a&32&&c!==(c=we(f[5])+" svelte-kpsm61")&&s(e,"class",c)},d(f){f&&B(e)}}}function Wt(t){let e;function n(r,l){return r[3]?Pt:r[4]?Vt:Rt}let i=n(t),o=i(t);return{c(){e=F("div"),o.c(),w(e,"left",t[2]*t[0]+"px"),w(e,"top",t[1]*t[0]+"px"),w(e,"width",t[0]+"px"),w(e,"height",t[0]+"px"),s(e,"class","snake-body svelte-kpsm61")},m(r,l){C(r,e,l),o.m(e,null)},p(r,[l]){i===(i=n(r))&&o?o.p(r,l):(o.d(1),o=i(r),o&&(o.c(),o.m(e,null))),l&5&&w(e,"left",r[2]*r[0]+"px"),l&3&&w(e,"top",r[1]*r[0]+"px"),l&1&&w(e,"width",r[0]+"px"),l&1&&w(e,"height",r[0]+"px")},i:D,o:D,d(r){r&&B(e),o.d()}}}function Xt(t,e,n){let{size:i=0}=e,{top:o=Je.BLOCK_SIZE}=e,{left:r=Je.BLOCK_SIZE}=e,{isHead:l=!1}=e,{isTail:c=!1}=e,{direction:f="right"}=e,{maxWidth:a=0}=e,{maxHeight:d=0}=e;return t.$$set=p=>{"size"in p&&n(0,i=p.size),"top"in p&&n(1,o=p.top),"left"in p&&n(2,r=p.left),"isHead"in p&&n(3,l=p.isHead),"isTail"in p&&n(4,c=p.isTail),"direction"in p&&n(5,f=p.direction),"maxWidth"in p&&n(6,a=p.maxWidth),"maxHeight"in p&&n(7,d=p.maxHeight)},[i,o,r,l,c,f,a,d]}class qt extends P{constructor(e){super(),V(this,e,Xt,Wt,R,{size:0,top:1,left:2,isHead:3,isTail:4,direction:5,maxWidth:6,maxHeight:7})}}function Qe(t,e,n){const i=t.slice();return i[5]=e[n],i[7]=n,i}function $e(t){let e,n;return e=new qt({props:{isHead:t[7]==0,isTail:t[7]==t[0].length-1,top:t[5].top,left:t[5].left,direction:t[1],size:t[2],maxWidth:t[3],maxHeight:t[4]}}),{c(){Z(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&1&&(r.isTail=i[7]==i[0].length-1),o&1&&(r.top=i[5].top),o&1&&(r.left=i[5].left),o&2&&(r.direction=i[1]),o&4&&(r.size=i[2]),o&8&&(r.maxWidth=i[3]),o&16&&(r.maxHeight=i[4]),e.$set(r)},i(i){n||(x(e.$$.fragment,i),n=!0)},o(i){U(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function Yt(t){let e,n,i=t[0],o=[];for(let l=0;l<i.length;l+=1)o[l]=$e(Qe(t,i,l));const r=l=>U(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=We()},m(l,c){for(let f=0;f<o.length;f+=1)o[f].m(l,c);C(l,e,c),n=!0},p(l,[c]){if(c&31){i=l[0];let f;for(f=0;f<i.length;f+=1){const a=Qe(l,i,f);o[f]?(o[f].p(a,c),x(o[f],1)):(o[f]=$e(a),o[f].c(),x(o[f],1),o[f].m(e.parentNode,e))}for(Ge(),f=i.length;f<o.length;f+=1)r(f);Fe()}},i(l){if(!n){for(let c=0;c<i.length;c+=1)x(o[c]);n=!0}},o(l){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)U(o[c]);n=!1},d(l){rt(o,l),l&&B(e)}}}function Kt(t,e,n){let{snakeBodies:i=[]}=e,{direction:o="right"}=e,{size:r=0}=e,{maxWidth:l=0}=e,{maxHeight:c=0}=e;return t.$$set=f=>{"snakeBodies"in f&&n(0,i=f.snakeBodies),"direction"in f&&n(1,o=f.direction),"size"in f&&n(2,r=f.size),"maxWidth"in f&&n(3,l=f.maxWidth),"maxHeight"in f&&n(4,c=f.maxHeight)},[i,o,r,l,c]}class jt extends P{constructor(e){super(),V(this,e,Kt,Yt,R,{snakeBodies:0,direction:1,size:2,maxWidth:3,maxHeight:4})}}var Pe=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.ROCK=1]="ROCK",t[t.CONCRETE=2]="CONCRETE",t))(Pe||{});const ge=[{bg:"#affbaf",wall:[{type:0,top:2,left:2},{type:1,top:2,left:3},{type:1,top:2,left:4},{type:0,top:2,left:5},{type:2,top:1,left:3},{type:2,top:3,left:4}]},{bg:"#fda2f2",wall:[{type:0,top:200,left:100},{type:1,top:200,left:125},{type:1,top:200,left:150},{type:0,top:200,left:175},{type:2,top:175,left:125},{type:2,top:225,left:150}]},{bg:"#7f61bb",wall:[]},{bg:"#c34366",wall:[]}],Zt=()=>Date.now().toString(36)+Math.random().toString(36).substr(2);function Jt(t){let e,n,i;return{c(){e=F("div"),n=F("h1"),i=q(t[0]),s(n,"class","svelte-1x8upsq"),s(e,"class","message-box svelte-1x8upsq")},m(o,r){C(o,e,r),u(e,n),u(n,i)},p(o,[r]){r&1&&$(i,o[0])},i:D,o:D,d(o){o&&B(e)}}}function Qt(t,e,n){let{message:i=""}=e;return t.$$set=o=>{"message"in o&&n(0,i=o.message)},[i]}class $t extends P{constructor(e){super(),V(this,e,Qt,Jt,R,{message:0})}}function en(t){let e,n,i,o,r,l,c,f,a;return{c(){e=h("svg"),n=h("radialGradient"),i=h("stop"),o=h("stop"),r=h("rect"),l=h("linearGradient"),c=h("stop"),f=h("stop"),a=h("rect"),s(i,"offset","0"),w(i,"stop-color","#333333"),s(o,"offset","1"),w(o,"stop-color","#000000"),s(n,"id","rock_svgid"),s(n,"cx","219.5"),s(n,"cy","219.5"),s(n,"r","219"),s(n,"gradientUnits","userSpaceOnUse"),s(r,"x","0.5"),s(r,"y","0.5"),s(r,"fill","url(#rock_svgid)"),s(r,"stroke","#000000"),s(r,"stroke-miterlimit","10"),s(r,"width","438"),s(r,"height","438"),s(c,"offset","0"),w(c,"stop-color","#000000"),w(c,"stop-opacity","0"),s(f,"offset","1"),w(f,"stop-color","#FFFFFF"),w(f,"stop-opacity","0.5"),s(l,"id","rock_svgid2"),s(l,"gradientUnits","userSpaceOnUse"),s(l,"x1","219"),s(l,"y1","431"),s(l,"x2","219"),s(l,"y2","9.0005"),s(a,"x","8"),s(a,"y","9"),s(a,"fill","url(#rock_svgid2)"),s(a,"width","422"),s(a,"height","422"),s(e,"viewBox","0 0 439 439")},m(d,p){C(d,e,p),u(e,n),u(n,i),u(n,o),u(e,r),u(e,l),u(l,c),u(l,f),u(e,a)},d(d){d&&B(e)}}}function tn(t){let e,n,i,o,r,l,c,f,a,d,p,G,k,g,m,A,v,y,_,E,N,S;return{c(){e=h("svg"),n=h("g"),i=h("linearGradient"),o=h("stop"),r=h("stop"),l=h("rect"),c=h("linearGradient"),f=h("stop"),a=h("stop"),d=h("rect"),p=h("linearGradient"),G=h("stop"),k=h("stop"),g=h("polygon"),m=h("linearGradient"),A=h("stop"),v=h("stop"),y=h("rect"),_=h("linearGradient"),E=h("stop"),N=h("stop"),S=h("rect"),s(o,"offset","0"),w(o,"stop-color","#998675"),s(r,"offset","1"),w(r,"stop-color","#C7B299"),s(i,"id","concrete_SVGID_1_"),s(i,"gradientUnits","userSpaceOnUse"),s(i,"x1","4"),s(i,"y1","96.5"),s(i,"x2","281"),s(i,"y2","96.5"),s(l,"x","4"),s(l,"y","4"),s(l,"fill","url(#concrete_SVGID_1_)"),s(l,"stroke","#CABD99"),s(l,"stroke-width","8"),s(l,"stroke-miterlimit","10"),s(l,"width","277"),s(l,"height","185"),s(f,"offset","0"),w(f,"stop-color","#998675"),s(a,"offset","1"),w(a,"stop-color","#C7B299"),s(c,"id","concrete_SVGID_2_"),s(c,"gradientUnits","userSpaceOnUse"),s(c,"x1","420"),s(c,"y1","189"),s(c,"x2","420"),s(c,"y2","4"),s(d,"x","281"),s(d,"y","4"),s(d,"fill","url(#concrete_SVGID_2_)"),s(d,"stroke","#CABD99"),s(d,"stroke-width","8"),s(d,"stroke-miterlimit","10"),s(d,"width","278"),s(d,"height","185"),s(G,"offset","0"),w(G,"stop-color","#998675"),s(k,"offset","1"),w(k,"stop-color","#C7B299"),s(p,"id","concrete_SVGID_3_"),s(p,"gradientUnits","userSpaceOnUse"),s(p,"x1","281.5"),s(p,"y1","374"),s(p,"x2","281.5"),s(p,"y2","189.0005"),s(g,"fill","url(#concrete_SVGID_3_)"),s(g,"stroke","#CABD99"),s(g,"stroke-width","8"),s(g,"stroke-miterlimit","10"),s(g,"points",`281,189 4,189 4,374 281,374 \r
    559,374 559,189 	`),s(A,"offset","0"),w(A,"stop-color","#998675"),s(v,"offset","1"),w(v,"stop-color","#C7B299"),s(m,"id","concrete_SVGID_4_"),s(m,"gradientUnits","userSpaceOnUse"),s(m,"x1","4"),s(m,"y1","466.5"),s(m,"x2","281"),s(m,"y2","466.5"),s(y,"x","4"),s(y,"y","374"),s(y,"fill","url(#concrete_SVGID_4_)"),s(y,"stroke","#CABD99"),s(y,"stroke-width","8"),s(y,"stroke-miterlimit","10"),s(y,"width","277"),s(y,"height","185"),s(E,"offset","0"),w(E,"stop-color","#998675"),s(N,"offset","1"),w(N,"stop-color","#C7B299"),s(_,"id","concrete_SVGID_5_"),s(_,"gradientUnits","userSpaceOnUse"),s(_,"x1","281"),s(_,"y1","466.5"),s(_,"x2","559"),s(_,"y2","466.5"),s(S,"x","281"),s(S,"y","374"),s(S,"fill","url(#concrete_SVGID_5_)"),s(S,"stroke","#CABD99"),s(S,"stroke-width","8"),s(S,"stroke-miterlimit","10"),s(S,"width","278"),s(S,"height","185"),s(e,"viewBox","0 0 563 563")},m(I,O){C(I,e,O),u(e,n),u(n,i),u(i,o),u(i,r),u(n,l),u(n,c),u(c,f),u(c,a),u(n,d),u(n,p),u(p,G),u(p,k),u(n,g),u(n,m),u(m,A),u(m,v),u(n,y),u(n,_),u(_,E),u(_,N),u(n,S)},d(I){I&&B(e)}}}function nn(t){let e,n,i,o,r,l,c,f,a,d,p,G,k,g,m,A,v,y,_,E,N,S;return{c(){e=h("svg"),n=h("g"),i=h("linearGradient"),o=h("stop"),r=h("stop"),l=h("rect"),c=h("linearGradient"),f=h("stop"),a=h("stop"),d=h("rect"),p=h("linearGradient"),G=h("stop"),k=h("stop"),g=h("polygon"),m=h("linearGradient"),A=h("stop"),v=h("stop"),y=h("rect"),_=h("linearGradient"),E=h("stop"),N=h("stop"),S=h("rect"),s(o,"offset","0"),w(o,"stop-color","#9E2000"),s(r,"offset","1"),w(r,"stop-color","#F15A24"),s(i,"id","brick_SVGID_1_"),s(i,"gradientUnits","userSpaceOnUse"),s(i,"x1","4"),s(i,"y1","96.5"),s(i,"x2","281"),s(i,"y2","96.5"),s(l,"x","4"),s(l,"y","4"),s(l,"fill","url(#brick_SVGID_1_)"),s(l,"stroke","#000000"),s(l,"stroke-width","8"),s(l,"stroke-miterlimit","10"),s(l,"width","277"),s(l,"height","185"),s(f,"offset","0"),w(f,"stop-color","#9E2000"),s(a,"offset","1"),w(a,"stop-color","#F15A24"),s(c,"id","SVGID_2_"),s(c,"gradientUnits","userSpaceOnUse"),s(c,"x1","420"),s(c,"y1","189"),s(c,"x2","420"),s(c,"y2","4"),s(d,"x","281"),s(d,"y","4"),s(d,"fill","url(#SVGID_2_)"),s(d,"stroke","#000000"),s(d,"stroke-width","8"),s(d,"stroke-miterlimit","10"),s(d,"width","278"),s(d,"height","185"),s(G,"offset","0"),w(G,"stop-color","#9E2000"),s(k,"offset","1"),w(k,"stop-color","#F15A24"),s(p,"id","SVGID_3_"),s(p,"gradientUnits","userSpaceOnUse"),s(p,"x1","281.5"),s(p,"y1","374"),s(p,"x2","281.5"),s(p,"y2","189.0005"),s(g,"fill","url(#SVGID_3_)"),s(g,"stroke","#000000"),s(g,"stroke-width","8"),s(g,"stroke-miterlimit","10"),s(g,"points",`281,189 4,189 4,374 281,374 \r
            559,374 559,189 	`),s(A,"offset","0"),w(A,"stop-color","#9E2000"),s(v,"offset","1"),w(v,"stop-color","#F15A24"),s(m,"id","SVGID_4_"),s(m,"gradientUnits","userSpaceOnUse"),s(m,"x1","4"),s(m,"y1","466.5"),s(m,"x2","281"),s(m,"y2","466.5"),s(y,"x","4"),s(y,"y","374"),s(y,"fill","url(#SVGID_4_)"),s(y,"stroke","#000000"),s(y,"stroke-width","8"),s(y,"stroke-miterlimit","10"),s(y,"width","277"),s(y,"height","185"),s(E,"offset","0"),w(E,"stop-color","#9E2000"),s(N,"offset","1"),w(N,"stop-color","#F15A24"),s(_,"id","SVGID_5_"),s(_,"gradientUnits","userSpaceOnUse"),s(_,"x1","281"),s(_,"y1","466.5"),s(_,"x2","559"),s(_,"y2","466.5"),s(S,"x","281"),s(S,"y","374"),s(S,"fill","url(#SVGID_5_)"),s(S,"stroke","#000000"),s(S,"stroke-width","8"),s(S,"stroke-miterlimit","10"),s(S,"width","278"),s(S,"height","185"),s(e,"viewBox","0 0 563 563")},m(I,O){C(I,e,O),u(e,n),u(n,i),u(i,o),u(i,r),u(n,l),u(n,c),u(c,f),u(c,a),u(n,d),u(n,p),u(p,G),u(p,k),u(n,g),u(n,m),u(m,A),u(m,v),u(n,y),u(n,_),u(_,E),u(_,N),u(n,S)},d(I){I&&B(e)}}}function sn(t){let e;function n(r,l){return r[1].type==Pe.DEFAULT?nn:r[1].type==Pe.CONCRETE?tn:en}let i=n(t),o=i(t);return{c(){e=F("div"),o.c(),s(e,"class","brick svelte-1ezhfpr"),w(e,"top",t[1].top*t[0]+"px"),w(e,"left",t[1].left*t[0]+"px"),w(e,"width",t[0]+"px"),w(e,"height",t[0]+"px")},m(r,l){C(r,e,l),o.m(e,null)},p(r,[l]){i!==(i=n(r))&&(o.d(1),o=i(r),o&&(o.c(),o.m(e,null))),l&3&&w(e,"top",r[1].top*r[0]+"px"),l&3&&w(e,"left",r[1].left*r[0]+"px"),l&1&&w(e,"width",r[0]+"px"),l&1&&w(e,"height",r[0]+"px")},i:D,o:D,d(r){r&&B(e),o.d()}}}function on(t,e,n){let{size:i=0}=e,{data:o}=e;return t.$$set=r=>{"size"in r&&n(0,i=r.size),"data"in r&&n(1,o=r.data)},[i,o]}class ln extends P{constructor(e){super(),V(this,e,on,sn,R,{size:0,data:1})}}function et(t,e,n){const i=t.slice();return i[3]=e[n],i}function tt(t){let e,n;return e=new ln({props:{data:t[3],size:t[0]}}),{c(){Z(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o&2&&(r.data=i[3]),o&1&&(r.size=i[0]),e.$set(r)},i(i){n||(x(e.$$.fragment,i),n=!0)},o(i){U(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function rn(t){let e,n,i=t[1],o=[];for(let l=0;l<i.length;l+=1)o[l]=tt(et(t,i,l));const r=l=>U(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=We()},m(l,c){for(let f=0;f<o.length;f+=1)o[f].m(l,c);C(l,e,c),n=!0},p(l,[c]){if(c&3){i=l[1];let f;for(f=0;f<i.length;f+=1){const a=et(l,i,f);o[f]?(o[f].p(a,c),x(o[f],1)):(o[f]=tt(a),o[f].c(),x(o[f],1),o[f].m(e.parentNode,e))}for(Ge(),f=i.length;f<o.length;f+=1)r(f);Fe()}},i(l){if(!n){for(let c=0;c<i.length;c+=1)x(o[c]);n=!0}},o(l){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)U(o[c]);n=!1},d(l){rt(o,l),l&&B(e)}}}function cn(t,e,n){let i,{size:o=0}=e,r;return ee.subscribe(l=>{n(2,r=l)}),t.$$set=l=>{"size"in l&&n(0,o=l.size)},t.$$.update=()=>{t.$$.dirty&4&&n(1,i=ge[r.level-1].wall)},[o,i,r]}class fn extends P{constructor(e){super(),V(this,e,cn,rn,R,{size:0})}}function nt(t,e,n){const i=t.slice();return i[43]=e[n],i}function st(t,e){let n,i,o;return i=new Ot({props:{id:e[43].id,left:e[43].left,top:e[43].top,size:e[3]}}),i.$on("bonusFinished",e[14]),{key:t,first:null,c(){n=We(),Z(i.$$.fragment),this.first=n},m(r,l){C(r,n,l),Y(i,r,l),o=!0},p(r,l){e=r;const c={};l[0]&2048&&(c.id=e[43].id),l[0]&2048&&(c.left=e[43].left),l[0]&2048&&(c.top=e[43].top),l[0]&8&&(c.size=e[3]),i.$set(c)},i(r){o||(x(i.$$.fragment,r),o=!0)},o(r){U(i.$$.fragment,r),o=!1},d(r){r&&B(n),K(i,r)}}}function ot(t){let e,n;return e=new $t({props:{message:t[6]}}),{c(){Z(e.$$.fragment)},m(i,o){Y(e,i,o),n=!0},p(i,o){const r={};o[0]&64&&(r.message=i[6]),e.$set(r)},i(i){n||(x(e.$$.fragment,i),n=!0)},o(i){U(e.$$.fragment,i),n=!1},d(i){K(e,i)}}}function an(t){let e,n,i,o,r,l,c,f,a=[],d=new Map,p,G,k,g,m;i=new fn({props:{size:t[3]}}),r=new jt({props:{direction:t[9],snakeBodies:t[10],size:t[3],maxWidth:t[0],maxHeight:t[1]}}),c=new It({props:{left:t[7],top:t[8],size:t[3]}});let A=t[11];const v=_=>_[43].id;for(let _=0;_<A.length;_+=1){let E=nt(t,A,_),N=v(E);d.set(N,a[_]=st(N,E))}let y=t[5]==!0&&ot(t);return{c(){e=F("div"),n=F("main"),Z(i.$$.fragment),o=M(),Z(r.$$.fragment),l=M(),Z(c.$$.fragment),f=M();for(let _=0;_<a.length;_+=1)a[_].c();p=M(),y&&y.c(),w(n,"width",t[2]+"px"),w(n,"height",t[2]+"px"),w(n,"background",ge[t[4].level].bg),s(n,"class","svelte-xm6tpe"),s(e,"class","wrap svelte-xm6tpe"),Ce(()=>t[15].call(e))},m(_,E){C(_,e,E),u(e,n),Y(i,n,null),u(n,o),Y(r,n,null),u(n,l),Y(c,n,null),u(n,f);for(let N=0;N<a.length;N+=1)a[N].m(n,null);u(n,p),y&&y.m(n,null),G=mt(e,t[15].bind(e)),k=!0,g||(m=[te(window,"keydown",t[13]),ht(Ht.call(null,n,{timeframe:300,minSwipeDistance:60,touchAction:"none"})),te(n,"swipe",t[12])],g=!0)},p(_,E){const N={};E[0]&8&&(N.size=_[3]),i.$set(N);const S={};E[0]&512&&(S.direction=_[9]),E[0]&1024&&(S.snakeBodies=_[10]),E[0]&8&&(S.size=_[3]),E[0]&1&&(S.maxWidth=_[0]),E[0]&2&&(S.maxHeight=_[1]),r.$set(S);const I={};E[0]&128&&(I.left=_[7]),E[0]&256&&(I.top=_[8]),E[0]&8&&(I.size=_[3]),c.$set(I),E[0]&18440&&(A=_[11],Ge(),a=kt(a,E,v,1,_,A,d,n,bt,st,p,nt),Fe()),_[5]==!0?y?(y.p(_,E),E[0]&32&&x(y,1)):(y=ot(_),y.c(),x(y,1),y.m(n,null)):y&&(Ge(),U(y,1,1,()=>{y=null}),Fe()),(!k||E[0]&4)&&w(n,"width",_[2]+"px"),(!k||E[0]&4)&&w(n,"height",_[2]+"px"),(!k||E[0]&16)&&w(n,"background",ge[_[4].level].bg)},i(_){if(!k){x(i.$$.fragment,_),x(r.$$.fragment,_),x(c.$$.fragment,_);for(let E=0;E<A.length;E+=1)x(a[E]);x(y),k=!0}},o(_){U(i.$$.fragment,_),U(r.$$.fragment,_),U(c.$$.fragment,_);for(let E=0;E<a.length;E+=1)U(a[E]);U(y),k=!1},d(_){_&&B(e),K(i),K(r),K(c);for(let E=0;E<a.length;E+=1)a[E].d();y&&y.d(),G(),g=!1,fe(m)}}}function un(t,e,n){let i=!1,o=!1,r=ze.NEXT_LEVEL,l=!1,c,f,a=0,d=0;ct(()=>{console.log(`--onMount = ${d} ${a}`)}),wt(()=>{});let p;ce.subscribe(b=>{}),ee.subscribe(b=>{n(4,p=b)});let G=0,k=0,g=T.RIGHT,m=[],A=[],v;function y(b){b.detail.direction,b.detail.target}const _=b=>{n(6,r=b),n(5,o=!0)},E=()=>{n(5,o=!1),n(6,r=ze.GAME_OVER)},N=()=>{_(ze.NEXT_LEVEL),clearInterval(v),setTimeout(()=>{E(),ee.nextLevel(),ee.resetScore(),J(),oe()},le.MESSAGE_TIME)},S=b=>{A.forEach(L=>{ne(b,L)&&(ie(L.id),ee.getBonus())})},I=()=>{m.length/le.MAX_POINTS>1&&m.length%le.MAX_POINTS==0&&(p.level<ge.length-1?N():(clearInterval(v),ce.allLevelsCleared()))},O=()=>{let{left:b,top:L}=m[0];return g===T.UP?L-=1:g===T.DOWN?L+=1:g===T.LEFT?b-=1:g===T.RIGHT&&(b+=1),{left:b,top:L}},W=b=>{ne(b,{left:G,top:k})&&(n(10,m=[...m,m[m.length-1]]),ee.eatFood(),se(),p.food%5==0&&Q())},J=()=>{let b=ge.length-p.level;b=b*le.DELAY,v=setInterval(()=>{l=!0,ue(),ae();const L=O();S(L),m.pop(),n(10,m=[L,...m]),W(L),I(),l=!1},le.DELAY)},ne=(b,L)=>!(b.top<L.top||b.top>L.top||b.left<L.left||b.left>L.left),Ae=()=>{let b=0,L=0,z={top:b,left:L};return b=Math.floor(Math.random()*(a/d)),L=Math.floor(Math.random()*(a/d)),z={top:b,left:L},console.log("162",z),m.forEach(Ue=>{}),z},se=()=>{const{top:b,left:L}=Ae();n(7,G=L),n(8,k=b)},oe=()=>{se(),n(9,g=T.RIGHT),n(10,m=[{left:2,top:0},{left:1,top:0},{left:0,top:0}])},ae=()=>{const{top:b,left:L}=m[0],z=Math.floor(a/d);L>=z&&g==T.RIGHT&&n(10,m[0].left=-2,m),L<0&&g==T.LEFT&&n(10,m[0].left=z+1,m),b<0&&g==T.UP&&n(10,m[0].top=z+1,m),b>=z&&g==T.DOWN&&n(10,m[0].top=-2,m)},ue=()=>m.slice(1).filter(z=>ne(z,m[0])).length>0,ye=()=>{clearInterval(v)},Le=b=>b===me.UP&&g!=T.DOWN?T.UP:b===me.RIGHT&&g!=T.LEFT?T.RIGHT:b===me.LEFT&&g!=T.RIGHT?T.LEFT:b===me.DOWN&&g!=T.UP?T.DOWN:T.UNKNOWN,de=b=>{if(l)return;const L=b.code;if(L===me.SPACEBAR&&(i=!i,i?ye():J()),i)return;const z=Le(L);z!=T.UNKNOWN&&n(9,g=z)},he=b=>{ie(b.detail)},Q=()=>{const b=Zt();let L={top:0,left:0,id:b};L.top=Math.floor(Math.random()*(a/d)),L.left=Math.floor(Math.random()*(a/d)),A.push(L),n(11,A)},ie=b=>{const L=A.findIndex(z=>z.id==b);L!=-1&&(A.splice(L,1),n(11,A))};J(),oe();function ve(){c=this.clientWidth,f=this.clientHeight,n(0,c),n(1,f)}return t.$$.update=()=>{t.$$.dirty[0]&15&&(n(2,a=Math.min(c,f)),n(2,a=a-50),console.log(`--reactive = ${d} ${a}`),isNaN(a)||n(3,d=a/20)),t.$$.dirty[0]&16&&ge[p.level-1].wall},[c,f,a,d,p,o,r,G,k,g,m,A,y,de,he,ve]}class Re extends P{constructor(e){super(),V(this,e,un,an,R,{},null,[-1,-1])}}function dn(t){let e,n,i,o,r,l,c;return{c(){e=F("div"),n=F("div"),n.textContent="Snake",i=M(),o=F("div"),r=F("button"),r.textContent="Start",s(n,"class","title svelte-yxm8be"),s(o,"class","btn svelte-yxm8be"),s(e,"class","start-screen svelte-yxm8be")},m(f,a){C(f,e,a),u(e,n),u(e,i),u(e,o),u(o,r),l||(c=te(r,"click",t[0]),l=!0)},p:D,i:D,o:D,d(f){f&&B(e),l=!1,c()}}}function hn(t){return[()=>{console.log("start game"),ce.startGame()}]}class pn extends P{constructor(e){super(),V(this,e,hn,dn,R,{})}}function _n(t){let e,n,i,o,r,l,c,f;return{c(){e=F("div"),n=F("div"),n.textContent="Congratulations !",i=M(),o=F("div"),o.textContent="You have cleared all the levels.",r=M(),l=F("button"),l.textContent="Menu",s(n,"class","title svelte-gyhhqq"),s(e,"class","final svelte-gyhhqq")},m(a,d){C(a,e,d),u(e,n),u(e,i),u(e,o),u(e,r),u(e,l),c||(f=te(l,"click",t[0]),c=!0)},p:D,i:D,o:D,d(a){a&&B(e),c=!1,f()}}}function mn(t){return[()=>{console.log("restart game"),ce.welcomeScreen()}]}class gn extends P{constructor(e){super(),V(this,e,mn,_n,R,{})}}var H=(t=>(t.NOT_STARTED="NOT_STARTED",t.RUNNING="RUNNING",t.PAUSED="PAUSED",t.RESUME="RESUME",t.GAME_OVER="GAME OVER",t.ALL_LEVELS_CLEARED="ALL_LEVELS_CLEARED",t))(H||{});const wn=()=>{const t=[{status:H.NOT_STARTED,component:pn},{status:H.RUNNING,component:Re},{status:H.PAUSED,component:Re},{status:H.RESUME,component:Re},{status:H.GAME_OVER,component:Bt},{status:H.ALL_LEVELS_CLEARED,component:gn}];let{update:e,subscribe:n}=at(t.find(a=>a.status==H.RUNNING));return{subscribe:n,startGame:()=>{e(a=>(a=t.find(d=>d.status==H.RUNNING),a))},pauseGame:()=>{e(a=>(a=t.find(d=>d.status==H.PAUSED),a))},resumeGame:()=>{e(a=>(a=t.find(d=>d.status==H.RUNNING),a))},gameOver:()=>{e(a=>(a=t.find(d=>d.status==H.GAME_OVER),a))},welcomeScreen:()=>{e(a=>(a=t.find(d=>d.status==H.NOT_STARTED),a))},allLevelsCleared:()=>{e(a=>(a=t.find(d=>d.status==H.ALL_LEVELS_CLEARED),a))}}},ce=wn();function yn(t){let e,n,i;var o=t[0].component;function r(l){return{}}return o&&(n=new o(r())),{c(){e=F("div"),n&&Z(n.$$.fragment),s(e,"class","container svelte-174qdzj")},m(l,c){C(l,e,c),n&&Y(n,e,null),i=!0},p(l,[c]){if(o!==(o=l[0].component)){if(n){Ge();const f=n;U(f.$$.fragment,1,0,()=>{K(f,1)}),Fe()}o?(n=new o(r()),Z(n.$$.fragment),x(n.$$.fragment,1),Y(n,e,null)):n=null}},i(l){i||(n&&x(n.$$.fragment,l),i=!0)},o(l){n&&U(n.$$.fragment,l),i=!1},d(l){l&&B(e),n&&K(n)}}}function vn(t,e,n){let i;return ce.subscribe(o=>{n(0,i=o)}),[i]}class En extends P{constructor(e){super(),V(this,e,vn,yn,R,{})}}new En({target:document.getElementById("app")});
