(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();function O(){}function ot(t){return t()}function je(){return Object.create(null)}function fe(t){t.forEach(ot)}function it(t){return typeof t=="function"}function P(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ut(t){return Object.keys(t).length===0}function ve(t){return t==null?"":t}function dt(t){return t&&it(t.destroy)?t.destroy:O}function f(t,e){t.appendChild(e)}function U(t,e,s){t.insertBefore(e,s||null)}function z(t){t.parentNode.removeChild(t)}function lt(t,e){for(let s=0;s<t.length;s+=1)t[s]&&t[s].d(e)}function G(t){return document.createElement(t)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function j(t){return document.createTextNode(t)}function C(){return j(" ")}function We(){return j("")}function ie(t,e,s,i){return t.addEventListener(e,s,i),()=>t.removeEventListener(e,s,i)}function n(t,e,s){s==null?t.removeAttribute(e):t.getAttribute(e)!==s&&t.setAttribute(e,s)}function pt(t){return Array.from(t.childNodes)}function te(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e,s,i){s===null?t.style.removeProperty(e):t.style.setProperty(e,s,i?"important":"")}let De;function ht(){if(De===void 0){De=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{De=!0}}return De}function _t(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=G("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=ht();let r;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=ie(window,"message",l=>{l.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{r=ie(i.contentWindow,"resize",e)}),f(t,i),()=>{(o||r&&i.contentWindow)&&r(),z(i)}}function mt(t,e,{bubbles:s=!1,cancelable:i=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,s,i,e),o}let Fe;function Ae(t){Fe=t}function Xe(){if(!Fe)throw new Error("Function called outside component initialization");return Fe}function rt(t){Xe().$$.on_mount.push(t)}function gt(t){Xe().$$.after_update.push(t)}function wt(){const t=Xe();return(e,s,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=mt(e,s,{cancelable:i});return o.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}const ke=[],Ke=[],ze=[],Ze=[],yt=Promise.resolve();let Pe=!1;function vt(){Pe||(Pe=!0,yt.then(ct))}function Ue(t){ze.push(t)}const Re=new Set;let Me=0;function ct(){const t=Fe;do{for(;Me<ke.length;){const e=ke[Me];Me++,Ae(e),Et(e.$$)}for(Ae(null),ke.length=0,Me=0;Ke.length;)Ke.pop()();for(let e=0;e<ze.length;e+=1){const s=ze[e];Re.has(s)||(Re.add(s),s())}ze.length=0}while(ke.length);for(;Ze.length;)Ze.pop()();Pe=!1,Re.clear(),Ae(t)}function Et(t){if(t.fragment!==null){t.update(),fe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ue)}}const Be=new Set;let ce;function Le(){ce={r:0,c:[],p:ce}}function Ie(){ce.r||fe(ce.c),ce=ce.p}function x(t,e){t&&t.i&&(Be.delete(t),t.i(e))}function R(t,e,s,i){if(t&&t.o){if(Be.has(t))return;Be.add(t),ce.c.push(()=>{Be.delete(t),i&&(s&&t.d(1),i())}),t.o(e)}else i&&i()}function St(t,e){R(t,1,1,()=>{e.delete(t.key)})}function bt(t,e,s,i,o,r,l,c,u,a,d,h){let A=t.length,F=r.length,E=A;const y={};for(;E--;)y[t[E].key]=E;const v=[],w=new Map,k=new Map;for(E=F;E--;){const m=h(o,r,E),_=s(m);let S=l.get(_);S?i&&S.p(m,e):(S=a(_,m),S.c()),w.set(_,v[E]=S),_ in y&&k.set(_,Math.abs(E-y[_]))}const I=new Set,N=new Set;function T(m){x(m,1),m.m(c,d),l.set(m.key,m),d=m.first,F--}for(;A&&F;){const m=v[F-1],_=t[A-1],S=m.key,D=_.key;m===_?(d=m.first,A--,F--):w.has(D)?!l.has(S)||I.has(S)?T(m):N.has(D)?A--:k.get(S)>k.get(D)?(N.add(S),T(m)):(I.add(D),A--):(u(_,l),A--)}for(;A--;){const m=t[A];w.has(m.key)||u(m,l)}for(;F;)T(v[F-1]);return v}function Q(t){t&&t.c()}function K(t,e,s,i){const{fragment:o,on_mount:r,on_destroy:l,after_update:c}=t.$$;o&&o.m(e,s),i||Ue(()=>{const u=r.map(ot).filter(it);l?l.push(...u):fe(u),t.$$.on_mount=[]}),c.forEach(Ue)}function Z(t,e){const s=t.$$;s.fragment!==null&&(fe(s.on_destroy),s.fragment&&s.fragment.d(e),s.on_destroy=s.fragment=null,s.ctx=[])}function kt(t,e){t.$$.dirty[0]===-1&&(ke.push(t),vt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(t,e,s,i,o,r,l,c=[-1]){const u=Fe;Ae(t);const a=t.$$={fragment:null,ctx:null,props:r,update:O,not_equal:o,bound:je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:je(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};l&&l(a.root);let d=!1;if(a.ctx=s?s(t,e.props||{},(h,A,...F)=>{const E=F.length?F[0]:A;return a.ctx&&o(a.ctx[h],a.ctx[h]=E)&&(!a.skip_bound&&a.bound[h]&&a.bound[h](E),d&&kt(t,h)),A}):[],a.update(),d=!0,fe(a.before_update),a.fragment=i?i(a.ctx):!1,e.target){if(e.hydrate){const h=pt(e.target);a.fragment&&a.fragment.l(h),h.forEach(z)}else a.fragment&&a.fragment.c();e.intro&&x(t.$$.fragment),K(t,e.target,e.anchor,e.customElement),ct()}Ae(u)}class q{$destroy(){Z(this,1),this.$destroy=O}$on(e,s){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(s),()=>{const o=i.indexOf(s);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!ut(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var M=(t=>(t.UP="up",t.RIGHT="right",t.LEFT="left",t.DOWN="down",t.UNKNOWN="",t))(M||{}),ne=(t=>(t[t.DELAY=200]="DELAY",t[t.MAX_POINTS=10]="MAX_POINTS",t[t.BONUS_TIME=5e3]="BONUS_TIME",t[t.MESSAGE_TIME=3e3]="MESSAGE_TIME",t))(ne||{}),we=(t=>(t.UP="ArrowUp",t.LEFT="ArrowLeft",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.SPACEBAR="Space",t))(we||{}),Ge=(t=>(t.NEXT_LEVEL="Next Level",t.GAME_OVER="Game Over",t))(Ge||{});const ge=[];function ft(t,e=O){let s;const i=new Set;function o(c){if(P(t,c)&&(t=c,s)){const u=!ge.length;for(const a of i)a[1](),ge.push(a,t);if(u){for(let a=0;a<ge.length;a+=2)ge[a][0](ge[a+1]);ge.length=0}}}function r(c){o(c(t))}function l(c,u=O){const a=[c,u];return i.add(a),i.size===1&&(s=e(o)||O),c(t),()=>{i.delete(a),i.size===0&&(s(),s=null)}}return{set:o,update:r,subscribe:l}}const Gt=()=>{let t={playerName:"Abhay",level:1,stage:1,score:0,highScore:0,bonus:0,food:0},{update:e,subscribe:s}=ft(t);return{subscribe:s,resetScore:()=>{e(c=>(c.food=0,c.bonus=0,c.score=0,c))},eatFood:()=>{e(c=>(c.food=c.food+1,c.score=c.food*5+c.bonus*20,c.score>c.highScore&&(c.highScore=c.score),c))},getBonus:()=>{e(c=>(c.bonus=c.bonus+1,c))},nextLevel:()=>{e(c=>(c.level=c.level+1,c))}}};let se=Gt();function At(t){let e,s,i,o,r,l,c,u,a,d,h,A,F,E,y,v;return{c(){e=G("div"),s=p("svg"),i=p("g"),o=p("g"),r=p("g"),l=p("g"),c=p("ellipse"),u=p("g"),a=p("path"),d=p("path"),h=p("g"),A=p("path"),F=p("g"),E=p("path"),y=p("g"),v=p("ellipse"),n(i,"id","Layer_1"),n(c,"id","shadow"),n(c,"opacity","0.3"),n(c,"cx","438.7"),n(c,"cy","765.8"),n(c,"rx","283"),n(c,"ry","32.9"),n(a,"id","cup-shadow"),n(a,"fill","#E7F4FA"),n(a,"d",`M135.4,492.8c0,0,17,201,77,230c81.1,39.2,258,43.7,392,25.1\r
            c100.5-13.9,115.1-120.1,122-154.4c8-39.7,19.5-119,6.5-137S217.4,370.8,135.4,492.8z`),n(d,"id","cup-light"),n(d,"fill","#FFFFFF"),n(d,"d",`M155.8,563.9c0,0,12.5,129.5,68.5,151.7c75.8,30,241,33.4,366.1,19.2\r
            c93.8-10.7,107.5-92,114-118.3c7.5-30.4,22.7-73.8,15.3-89C711.8,510.9,478.4,406.5,155.8,563.9z`),n(A,"id","mainFood"),n(A,"fill","#DB343C"),n(A,"d",`M57,240.8c35.9-55.2,83.5-142,189.1-192.7C365.6-9.3,527.4-11.2,598.8,20.8\r
            c41.7,18.7,160.6,74,214.5,205.5c92,224.4,10.9,261.8-27.3,263.6s-285.6-42.4-347.6-36.1c-59.9,6.1-148.2,2.1-312.4,77.9\r
            C54.4,564.8,8.4,515.8,0.6,479C-3.5,459.8,13.4,307.8,57,240.8z`),n(E,"id","highlight"),n(E,"opacity","0.3"),n(E,"fill","#FFFFFF"),n(E,"stroke","#000000"),n(E,"stroke-width","0.25"),n(E,"stroke-miterlimit","10"),n(E,"d",`M231.4,76.8\r
            c74.3-34.1,184.9-82.6,345-35c148,44,244,176,207,256s-53.4,66.9-110,58c-83-13-226-101-256-120s-175-97-186-111\r
            S189.5,96,231.4,76.8z`),n(v,"id","c2"),n(v,"fill","#FFFFFF"),n(v,"cx","436.8"),n(v,"cy","144.3"),n(v,"rx","140.6"),n(v,"ry","138.4"),n(y,"id","c1"),n(o,"id","Layer_2"),n(s,"viewBox","0 0 855.6 798.6"),n(e,"class","food svelte-h8lqdv"),g(e,"left",t[1]*t[2]+"px"),g(e,"top",t[0]*t[2]+"px"),g(e,"width",t[2]-2+"px"),g(e,"height",t[2]-2+"px")},m(w,k){U(w,e,k),f(e,s),f(s,i),f(s,o),f(o,r),f(r,l),f(l,c),f(r,u),f(u,a),f(u,d),f(r,h),f(h,A),f(r,F),f(F,E),f(r,y),f(y,v)},p(w,[k]){k&6&&g(e,"left",w[1]*w[2]+"px"),k&5&&g(e,"top",w[0]*w[2]+"px"),k&4&&g(e,"width",w[2]-2+"px"),k&4&&g(e,"height",w[2]-2+"px")},i:O,o:O,d(w){w&&z(e)}}}function Ft(t,e,s){let{top:i=0}=e,{left:o=0}=e,{size:r=0}=e;return t.$$set=l=>{"top"in l&&s(0,i=l.top),"left"in l&&s(1,o=l.left),"size"in l&&s(2,r=l.size)},[i,o,r]}class Lt extends q{constructor(e){super(),X(this,e,Ft,At,P,{top:0,left:1,size:2})}}function It(t){let e,s,i,o,r;return{c(){e=G("div"),s=p("svg"),i=p("style"),o=j(`.red {\r
        fill: red;\r
        animation: blink 250ms linear infinite;\r
      }\r
      @keyframes blink {\r
        0% {\r
          fill: yellow;\r
        }\r
        50% {\r
          /* opacity: 0.5; */\r
        }\r
        100% {\r
          fill: red;\r
        }\r
      }\r
    `),r=p("polygon"),n(i,"id","style2"),n(r,"fill","#FFA300"),n(r,"stroke","#EB0000"),n(r,"stroke-width","0.25"),n(r,"stroke-miterlimit","10"),n(r,"points",`221.7,0.3 290.1,138.9 443.1,161.1 \r
        332.4,269 358.5,421.4 221.7,349.5 84.8,421.4 111,269 0.3,161.1 153.3,138.9 `),n(r,"class","red"),n(s,"viewBox","0 0 443.3 421.6"),n(e,"class","bonus bounce-top svelte-y90akj"),g(e,"width",t[2]+"px"),g(e,"height",t[2]+"px"),g(e,"left",t[0]*t[2]+"px"),g(e,"top",t[1]*t[2]+"px")},m(l,c){U(l,e,c),f(e,s),f(s,i),f(i,o),f(s,r)},p(l,[c]){c&4&&g(e,"width",l[2]+"px"),c&4&&g(e,"height",l[2]+"px"),c&5&&g(e,"left",l[0]*l[2]+"px"),c&6&&g(e,"top",l[1]*l[2]+"px")},i:O,o:O,d(l){l&&z(e)}}}function Nt(t,e,s){const i=wt();let{left:o}=e,{top:r}=e,{size:l=0}=e,{id:c}=e;return rt(()=>{setTimeout(()=>{i("bonusFinished",c)},ne.BONUS_TIME)}),t.$$set=u=>{"left"in u&&s(0,o=u.left),"top"in u&&s(1,r=u.top),"size"in u&&s(2,l=u.size),"id"in u&&s(3,c=u.id)},[o,r,l,c]}class Ot extends q{constructor(e){super(),X(this,e,Nt,It,P,{left:0,top:1,size:2,id:3})}}function Tt(t){let e,s,i,o,r,l,c,u=t[0].playerName+"",a,d,h,A,F,E=t[0].score+"",y,v,w,k,I,N=t[0].food+"",T,m,_,S,D,H=t[0].bonus+"",W,ae,ue,le,$,de=t[0].highScore+"",Ee,Ne,pe,he,ee,_e=t[0].level+"",me,Se,b=t[0].stage+"",L,B,re,Oe,qe,Te,Ce,Ye;return{c(){e=G("div"),s=G("div"),s.textContent="Snake",i=C(),o=G("table"),r=G("tr"),l=G("td"),l.textContent="Player",c=G("td"),a=j(u),d=C(),h=G("tr"),A=G("td"),A.textContent="Score",F=G("td"),y=j(E),v=C(),w=G("tr"),k=G("td"),k.textContent="Food",I=G("td"),T=j(N),m=C(),_=G("tr"),S=G("td"),S.textContent="Bonus",D=G("td"),W=j(H),ae=C(),ue=G("tr"),le=G("td"),le.textContent="High Score",$=G("td"),Ee=j(de),Ne=C(),pe=G("tr"),he=G("td"),he.textContent="Level-Stage",ee=G("td"),me=j(_e),Se=G("span"),Se.textContent="-",L=j(b),B=C(),re=G("div"),Oe=G("button"),Oe.textContent="Replay",qe=C(),Te=G("button"),Te.textContent="Menu",n(s,"class","title svelte-mdywih"),n(l,"class","c1 svelte-mdywih"),n(c,"class","c2 svelte-mdywih"),n(A,"class","c1 svelte-mdywih"),n(F,"class","c2 svelte-mdywih"),n(k,"class","c1 svelte-mdywih"),n(I,"class","c2 svelte-mdywih"),n(S,"class","c1 svelte-mdywih"),n(D,"class","c2 svelte-mdywih"),n(le,"class","c1 svelte-mdywih"),n($,"class","c2 svelte-mdywih"),n(he,"class","c1 svelte-mdywih"),n(ee,"class","c2 svelte-mdywih"),n(o,"class","svelte-mdywih"),n(re,"class","flex svelte-mdywih"),n(e,"class","game-over-screen svelte-mdywih")},m(Y,J){U(Y,e,J),f(e,s),f(e,i),f(e,o),f(o,r),f(r,l),f(r,c),f(c,a),f(o,d),f(o,h),f(h,A),f(h,F),f(F,y),f(o,v),f(o,w),f(w,k),f(w,I),f(I,T),f(o,m),f(o,_),f(_,S),f(_,D),f(D,W),f(o,ae),f(o,ue),f(ue,le),f(ue,$),f($,Ee),f(o,Ne),f(o,pe),f(pe,he),f(pe,ee),f(ee,me),f(ee,Se),f(ee,L),f(e,B),f(e,re),f(re,Oe),f(re,qe),f(re,Te),Ce||(Ye=[ie(Oe,"click",t[2]),ie(Te,"click",t[1])],Ce=!0)},p(Y,[J]){J&1&&u!==(u=Y[0].playerName+"")&&te(a,u),J&1&&E!==(E=Y[0].score+"")&&te(y,E),J&1&&N!==(N=Y[0].food+"")&&te(T,N),J&1&&H!==(H=Y[0].bonus+"")&&te(W,H),J&1&&de!==(de=Y[0].highScore+"")&&te(Ee,de),J&1&&_e!==(_e=Y[0].level+"")&&te(me,_e),J&1&&b!==(b=Y[0].stage+"")&&te(L,b)},i:O,o:O,d(Y){Y&&z(e),Ce=!1,fe(Ye)}}}function Dt(t,e,s){const i=()=>{console.log("restart game"),oe.welcomeScreen()},o=()=>{se.resetScore(),oe.startGame()};let r;return se.subscribe(l=>{s(0,r=l)}),[r,i,o]}class Mt extends q{constructor(e){super(),X(this,e,Dt,Tt,P,{})}}const xt=300,zt=60,at="none";function be(t,e,s){return t.addEventListener(e,s),()=>t.removeEventListener(e,s)}function Bt(t,e){return e.filter(s=>t.pointerId!==s.pointerId)}function xe(t,e,s,i,o){t.dispatchEvent(new CustomEvent(`${e}${o}`,{detail:{event:s,pointersCount:i.length}}))}function Ut(t,e,s,i,o,r=at){e.style.touchAction=r;let l=[];function c(a){l.push(a),xe(e,t,a,l,"down"),i==null||i(l,a);const d=a.pointerId;function h(w){d===w.pointerId&&(l=Bt(w,l),l.length||A(),xe(e,t,w,l,"up"),o==null||o(l,w))}function A(){F(),E(),y(),v()}const F=be(e,"pointermove",w=>{l=l.map(k=>w.pointerId===k.pointerId?w:k),xe(e,t,w,l,"move"),s==null||s(l,w)}),E=be(e,"lostpointercapture",w=>{h(w)}),y=be(e,"pointerup",w=>{h(w)}),v=be(e,"pointerleave",w=>{l=[],A(),xe(e,t,w,l,"up"),o==null||o(l,w)})}const u=be(e,"pointerdown",c);return{destroy:()=>{u()}}}function Ct(t,e={timeframe:xt,minSwipeDistance:zt,touchAction:at}){const s="swipe";let i,o,r,l;function c(a,d){o=d.clientX,r=d.clientY,i=Date.now(),a.length===1&&(l=d.target)}function u(a,d){if(d.type==="pointerup"&&a.length===0&&Date.now()-i<e.timeframe){const h=d.clientX-o,A=d.clientY-r,F=Math.abs(h),E=Math.abs(A);let y=null;F>=2*E&&F>e.minSwipeDistance?y=h>0?"right":"left":E>=2*F&&E>e.minSwipeDistance&&(y=A>0?"bottom":"top"),y&&t.dispatchEvent(new CustomEvent(s,{detail:{direction:y,target:l}}))}}return Ut(s,t,null,c,u,e.touchAction)}function Rt(t){let e,s,i;return{c(){e=p("svg"),s=p("rect"),n(s,"y","77"),n(s,"fill","#0037FF"),n(s,"width","258"),n(s,"height","102"),n(e,"viewBox","0 0 258 258"),n(e,"class",i=ve(t[5])+" svelte-kpsm61")},m(o,r){U(o,e,r),f(e,s)},p(o,r){r&32&&i!==(i=ve(o[5])+" svelte-kpsm61")&&n(e,"class",i)},d(o){o&&z(e)}}}function Vt(t){let e,s,i;return{c(){e=p("svg"),s=p("polygon"),n(s,"fill","#0037FF"),n(s,"points","258,179 0,128 0,128 258,77 "),n(e,"viewBox","0 0 258 258"),n(e,"class",i=ve(t[5])+" svelte-kpsm61")},m(o,r){U(o,e,r),f(e,s)},p(o,r){r&32&&i!==(i=ve(o[5])+" svelte-kpsm61")&&n(e,"class",i)},d(o){o&&z(e)}}}function Pt(t){let e,s,i,o,r,l,c;return{c(){e=p("svg"),s=p("g"),i=p("rect"),o=p("path"),r=p("circle"),l=p("circle"),n(i,"opacity","0"),n(i,"fill","#FFFFFF"),n(i,"width","258"),n(i,"height","258"),n(o,"fill","#0037FF"),n(o,"d",`M147.5,29.2C111.6,29.2,80.1,48,62.6,77H0v104h62.6c17.5,28,49,47.3,84.9,47.3c55,0,99.6-44.6,99.6-99.6\r
          S202.5,29.2,147.5,29.2z`),n(r,"fill","#FFF800"),n(r,"stroke","#000000"),n(r,"stroke-miterlimit","10"),n(r,"cx","184.3"),n(r,"cy","84.5"),n(r,"r","21.8"),n(l,"fill","#FFF800"),n(l,"stroke","#000000"),n(l,"stroke-miterlimit","10"),n(l,"cx","184.3"),n(l,"cy","164.5"),n(l,"r","21.8"),n(e,"viewBox","0 0 258 258"),n(e,"class",c=ve(t[5])+" svelte-kpsm61")},m(u,a){U(u,e,a),f(e,s),f(s,i),f(s,o),f(s,r),f(s,l)},p(u,a){a&32&&c!==(c=ve(u[5])+" svelte-kpsm61")&&n(e,"class",c)},d(u){u&&z(e)}}}function Ht(t){let e;function s(r,l){return r[3]?Pt:r[4]?Vt:Rt}let i=s(t),o=i(t);return{c(){e=G("div"),o.c(),g(e,"left",t[2]*t[0]+"px"),g(e,"top",t[1]*t[0]+"px"),g(e,"width",t[0]+"px"),g(e,"height",t[0]+"px"),n(e,"class","snake-body svelte-kpsm61")},m(r,l){U(r,e,l),o.m(e,null)},p(r,[l]){i===(i=s(r))&&o?o.p(r,l):(o.d(1),o=i(r),o&&(o.c(),o.m(e,null))),l&5&&g(e,"left",r[2]*r[0]+"px"),l&3&&g(e,"top",r[1]*r[0]+"px"),l&1&&g(e,"width",r[0]+"px"),l&1&&g(e,"height",r[0]+"px")},i:O,o:O,d(r){r&&z(e),o.d()}}}function Wt(t,e,s){let{size:i=0}=e,{top:o=0}=e,{left:r=0}=e,{isHead:l=!1}=e,{isTail:c=!1}=e,{direction:u="right"}=e,{maxWidth:a=0}=e;return t.$$set=d=>{"size"in d&&s(0,i=d.size),"top"in d&&s(1,o=d.top),"left"in d&&s(2,r=d.left),"isHead"in d&&s(3,l=d.isHead),"isTail"in d&&s(4,c=d.isTail),"direction"in d&&s(5,u=d.direction),"maxWidth"in d&&s(6,a=d.maxWidth)},[i,o,r,l,c,u,a]}class Xt extends q{constructor(e){super(),X(this,e,Wt,Ht,P,{size:0,top:1,left:2,isHead:3,isTail:4,direction:5,maxWidth:6})}}function Je(t,e,s){const i=t.slice();return i[4]=e[s],i[6]=s,i}function Qe(t){let e,s;return e=new Xt({props:{isHead:t[6]==0,isTail:t[6]==t[0].length-1,top:t[4].top,left:t[4].left,direction:t[1],size:t[2],maxWidth:t[3]}}),{c(){Q(e.$$.fragment)},m(i,o){K(e,i,o),s=!0},p(i,o){const r={};o&1&&(r.isTail=i[6]==i[0].length-1),o&1&&(r.top=i[4].top),o&1&&(r.left=i[4].left),o&2&&(r.direction=i[1]),o&4&&(r.size=i[2]),o&8&&(r.maxWidth=i[3]),e.$set(r)},i(i){s||(x(e.$$.fragment,i),s=!0)},o(i){R(e.$$.fragment,i),s=!1},d(i){Z(e,i)}}}function qt(t){let e,s,i=t[0],o=[];for(let l=0;l<i.length;l+=1)o[l]=Qe(Je(t,i,l));const r=l=>R(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=We()},m(l,c){for(let u=0;u<o.length;u+=1)o[u].m(l,c);U(l,e,c),s=!0},p(l,[c]){if(c&15){i=l[0];let u;for(u=0;u<i.length;u+=1){const a=Je(l,i,u);o[u]?(o[u].p(a,c),x(o[u],1)):(o[u]=Qe(a),o[u].c(),x(o[u],1),o[u].m(e.parentNode,e))}for(Le(),u=i.length;u<o.length;u+=1)r(u);Ie()}},i(l){if(!s){for(let c=0;c<i.length;c+=1)x(o[c]);s=!0}},o(l){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)R(o[c]);s=!1},d(l){lt(o,l),l&&z(e)}}}function Yt(t,e,s){let{snakeBodies:i=[]}=e,{direction:o="right"}=e,{size:r=0}=e,{maxWidth:l=0}=e;return t.$$set=c=>{"snakeBodies"in c&&s(0,i=c.snakeBodies),"direction"in c&&s(1,o=c.direction),"size"in c&&s(2,r=c.size),"maxWidth"in c&&s(3,l=c.maxWidth)},[i,o,r,l]}class jt extends q{constructor(e){super(),X(this,e,Yt,qt,P,{snakeBodies:0,direction:1,size:2,maxWidth:3})}}var He=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.ROCK=1]="ROCK",t[t.CONCRETE=2]="CONCRETE",t))(He||{});const ye=[{bg:"#affbaf",wall:[{type:0,top:2,left:2},{type:1,top:2,left:3},{type:1,top:2,left:4},{type:0,top:2,left:5},{type:2,top:1,left:3},{type:2,top:3,left:4}]},{bg:"#fda2f2",wall:[{type:0,top:200,left:100},{type:1,top:200,left:125},{type:1,top:200,left:150},{type:0,top:200,left:175},{type:2,top:175,left:125},{type:2,top:225,left:150}]},{bg:"#7f61bb",wall:[]},{bg:"#c34366",wall:[]}],Kt=()=>Date.now().toString(36)+Math.random().toString(36).substr(2);function Zt(t){let e,s,i;return{c(){e=G("div"),s=G("h1"),i=j(t[0]),n(s,"class","svelte-1x8upsq"),n(e,"class","message-box svelte-1x8upsq")},m(o,r){U(o,e,r),f(e,s),f(s,i)},p(o,[r]){r&1&&te(i,o[0])},i:O,o:O,d(o){o&&z(e)}}}function Jt(t,e,s){let{message:i=""}=e;return t.$$set=o=>{"message"in o&&s(0,i=o.message)},[i]}class Qt extends q{constructor(e){super(),X(this,e,Jt,Zt,P,{message:0})}}function $t(t){let e,s,i,o,r,l,c,u,a;return{c(){e=p("svg"),s=p("radialGradient"),i=p("stop"),o=p("stop"),r=p("rect"),l=p("linearGradient"),c=p("stop"),u=p("stop"),a=p("rect"),n(i,"offset","0"),g(i,"stop-color","#333333"),n(o,"offset","1"),g(o,"stop-color","#000000"),n(s,"id","rock_svgid"),n(s,"cx","219.5"),n(s,"cy","219.5"),n(s,"r","219"),n(s,"gradientUnits","userSpaceOnUse"),n(r,"x","0.5"),n(r,"y","0.5"),n(r,"fill","url(#rock_svgid)"),n(r,"stroke","#000000"),n(r,"stroke-miterlimit","10"),n(r,"width","438"),n(r,"height","438"),n(c,"offset","0"),g(c,"stop-color","#000000"),g(c,"stop-opacity","0"),n(u,"offset","1"),g(u,"stop-color","#FFFFFF"),g(u,"stop-opacity","0.5"),n(l,"id","rock_svgid2"),n(l,"gradientUnits","userSpaceOnUse"),n(l,"x1","219"),n(l,"y1","431"),n(l,"x2","219"),n(l,"y2","9.0005"),n(a,"x","8"),n(a,"y","9"),n(a,"fill","url(#rock_svgid2)"),n(a,"width","422"),n(a,"height","422"),n(e,"viewBox","0 0 439 439")},m(d,h){U(d,e,h),f(e,s),f(s,i),f(s,o),f(e,r),f(e,l),f(l,c),f(l,u),f(e,a)},d(d){d&&z(e)}}}function en(t){let e,s,i,o,r,l,c,u,a,d,h,A,F,E,y,v,w,k,I,N,T,m;return{c(){e=p("svg"),s=p("g"),i=p("linearGradient"),o=p("stop"),r=p("stop"),l=p("rect"),c=p("linearGradient"),u=p("stop"),a=p("stop"),d=p("rect"),h=p("linearGradient"),A=p("stop"),F=p("stop"),E=p("polygon"),y=p("linearGradient"),v=p("stop"),w=p("stop"),k=p("rect"),I=p("linearGradient"),N=p("stop"),T=p("stop"),m=p("rect"),n(o,"offset","0"),g(o,"stop-color","#998675"),n(r,"offset","1"),g(r,"stop-color","#C7B299"),n(i,"id","concrete_SVGID_1_"),n(i,"gradientUnits","userSpaceOnUse"),n(i,"x1","4"),n(i,"y1","96.5"),n(i,"x2","281"),n(i,"y2","96.5"),n(l,"x","4"),n(l,"y","4"),n(l,"fill","url(#concrete_SVGID_1_)"),n(l,"stroke","#CABD99"),n(l,"stroke-width","8"),n(l,"stroke-miterlimit","10"),n(l,"width","277"),n(l,"height","185"),n(u,"offset","0"),g(u,"stop-color","#998675"),n(a,"offset","1"),g(a,"stop-color","#C7B299"),n(c,"id","concrete_SVGID_2_"),n(c,"gradientUnits","userSpaceOnUse"),n(c,"x1","420"),n(c,"y1","189"),n(c,"x2","420"),n(c,"y2","4"),n(d,"x","281"),n(d,"y","4"),n(d,"fill","url(#concrete_SVGID_2_)"),n(d,"stroke","#CABD99"),n(d,"stroke-width","8"),n(d,"stroke-miterlimit","10"),n(d,"width","278"),n(d,"height","185"),n(A,"offset","0"),g(A,"stop-color","#998675"),n(F,"offset","1"),g(F,"stop-color","#C7B299"),n(h,"id","concrete_SVGID_3_"),n(h,"gradientUnits","userSpaceOnUse"),n(h,"x1","281.5"),n(h,"y1","374"),n(h,"x2","281.5"),n(h,"y2","189.0005"),n(E,"fill","url(#concrete_SVGID_3_)"),n(E,"stroke","#CABD99"),n(E,"stroke-width","8"),n(E,"stroke-miterlimit","10"),n(E,"points",`281,189 4,189 4,374 281,374 \r
    559,374 559,189 	`),n(v,"offset","0"),g(v,"stop-color","#998675"),n(w,"offset","1"),g(w,"stop-color","#C7B299"),n(y,"id","concrete_SVGID_4_"),n(y,"gradientUnits","userSpaceOnUse"),n(y,"x1","4"),n(y,"y1","466.5"),n(y,"x2","281"),n(y,"y2","466.5"),n(k,"x","4"),n(k,"y","374"),n(k,"fill","url(#concrete_SVGID_4_)"),n(k,"stroke","#CABD99"),n(k,"stroke-width","8"),n(k,"stroke-miterlimit","10"),n(k,"width","277"),n(k,"height","185"),n(N,"offset","0"),g(N,"stop-color","#998675"),n(T,"offset","1"),g(T,"stop-color","#C7B299"),n(I,"id","concrete_SVGID_5_"),n(I,"gradientUnits","userSpaceOnUse"),n(I,"x1","281"),n(I,"y1","466.5"),n(I,"x2","559"),n(I,"y2","466.5"),n(m,"x","281"),n(m,"y","374"),n(m,"fill","url(#concrete_SVGID_5_)"),n(m,"stroke","#CABD99"),n(m,"stroke-width","8"),n(m,"stroke-miterlimit","10"),n(m,"width","278"),n(m,"height","185"),n(e,"viewBox","0 0 563 563")},m(_,S){U(_,e,S),f(e,s),f(s,i),f(i,o),f(i,r),f(s,l),f(s,c),f(c,u),f(c,a),f(s,d),f(s,h),f(h,A),f(h,F),f(s,E),f(s,y),f(y,v),f(y,w),f(s,k),f(s,I),f(I,N),f(I,T),f(s,m)},d(_){_&&z(e)}}}function tn(t){let e,s,i,o,r,l,c,u,a,d,h,A,F,E,y,v,w,k,I,N,T,m;return{c(){e=p("svg"),s=p("g"),i=p("linearGradient"),o=p("stop"),r=p("stop"),l=p("rect"),c=p("linearGradient"),u=p("stop"),a=p("stop"),d=p("rect"),h=p("linearGradient"),A=p("stop"),F=p("stop"),E=p("polygon"),y=p("linearGradient"),v=p("stop"),w=p("stop"),k=p("rect"),I=p("linearGradient"),N=p("stop"),T=p("stop"),m=p("rect"),n(o,"offset","0"),g(o,"stop-color","#9E2000"),n(r,"offset","1"),g(r,"stop-color","#F15A24"),n(i,"id","brick_SVGID_1_"),n(i,"gradientUnits","userSpaceOnUse"),n(i,"x1","4"),n(i,"y1","96.5"),n(i,"x2","281"),n(i,"y2","96.5"),n(l,"x","4"),n(l,"y","4"),n(l,"fill","url(#brick_SVGID_1_)"),n(l,"stroke","#000000"),n(l,"stroke-width","8"),n(l,"stroke-miterlimit","10"),n(l,"width","277"),n(l,"height","185"),n(u,"offset","0"),g(u,"stop-color","#9E2000"),n(a,"offset","1"),g(a,"stop-color","#F15A24"),n(c,"id","SVGID_2_"),n(c,"gradientUnits","userSpaceOnUse"),n(c,"x1","420"),n(c,"y1","189"),n(c,"x2","420"),n(c,"y2","4"),n(d,"x","281"),n(d,"y","4"),n(d,"fill","url(#SVGID_2_)"),n(d,"stroke","#000000"),n(d,"stroke-width","8"),n(d,"stroke-miterlimit","10"),n(d,"width","278"),n(d,"height","185"),n(A,"offset","0"),g(A,"stop-color","#9E2000"),n(F,"offset","1"),g(F,"stop-color","#F15A24"),n(h,"id","SVGID_3_"),n(h,"gradientUnits","userSpaceOnUse"),n(h,"x1","281.5"),n(h,"y1","374"),n(h,"x2","281.5"),n(h,"y2","189.0005"),n(E,"fill","url(#SVGID_3_)"),n(E,"stroke","#000000"),n(E,"stroke-width","8"),n(E,"stroke-miterlimit","10"),n(E,"points",`281,189 4,189 4,374 281,374 \r
            559,374 559,189 	`),n(v,"offset","0"),g(v,"stop-color","#9E2000"),n(w,"offset","1"),g(w,"stop-color","#F15A24"),n(y,"id","SVGID_4_"),n(y,"gradientUnits","userSpaceOnUse"),n(y,"x1","4"),n(y,"y1","466.5"),n(y,"x2","281"),n(y,"y2","466.5"),n(k,"x","4"),n(k,"y","374"),n(k,"fill","url(#SVGID_4_)"),n(k,"stroke","#000000"),n(k,"stroke-width","8"),n(k,"stroke-miterlimit","10"),n(k,"width","277"),n(k,"height","185"),n(N,"offset","0"),g(N,"stop-color","#9E2000"),n(T,"offset","1"),g(T,"stop-color","#F15A24"),n(I,"id","SVGID_5_"),n(I,"gradientUnits","userSpaceOnUse"),n(I,"x1","281"),n(I,"y1","466.5"),n(I,"x2","559"),n(I,"y2","466.5"),n(m,"x","281"),n(m,"y","374"),n(m,"fill","url(#SVGID_5_)"),n(m,"stroke","#000000"),n(m,"stroke-width","8"),n(m,"stroke-miterlimit","10"),n(m,"width","278"),n(m,"height","185"),n(e,"viewBox","0 0 563 563")},m(_,S){U(_,e,S),f(e,s),f(s,i),f(i,o),f(i,r),f(s,l),f(s,c),f(c,u),f(c,a),f(s,d),f(s,h),f(h,A),f(h,F),f(s,E),f(s,y),f(y,v),f(y,w),f(s,k),f(s,I),f(I,N),f(I,T),f(s,m)},d(_){_&&z(e)}}}function nn(t){let e;function s(r,l){return r[1].type==He.DEFAULT?tn:r[1].type==He.CONCRETE?en:$t}let i=s(t),o=i(t);return{c(){e=G("div"),o.c(),n(e,"class","brick svelte-1ezhfpr"),g(e,"top",t[1].top*t[0]+"px"),g(e,"left",t[1].left*t[0]+"px"),g(e,"width",t[0]+"px"),g(e,"height",t[0]+"px")},m(r,l){U(r,e,l),o.m(e,null)},p(r,[l]){i!==(i=s(r))&&(o.d(1),o=i(r),o&&(o.c(),o.m(e,null))),l&3&&g(e,"top",r[1].top*r[0]+"px"),l&3&&g(e,"left",r[1].left*r[0]+"px"),l&1&&g(e,"width",r[0]+"px"),l&1&&g(e,"height",r[0]+"px")},i:O,o:O,d(r){r&&z(e),o.d()}}}function sn(t,e,s){let{size:i=0}=e,{data:o}=e;return t.$$set=r=>{"size"in r&&s(0,i=r.size),"data"in r&&s(1,o=r.data)},[i,o]}class on extends q{constructor(e){super(),X(this,e,sn,nn,P,{size:0,data:1})}}function $e(t,e,s){const i=t.slice();return i[3]=e[s],i}function et(t){let e,s;return e=new on({props:{data:t[3],size:t[0]}}),{c(){Q(e.$$.fragment)},m(i,o){K(e,i,o),s=!0},p(i,o){const r={};o&2&&(r.data=i[3]),o&1&&(r.size=i[0]),e.$set(r)},i(i){s||(x(e.$$.fragment,i),s=!0)},o(i){R(e.$$.fragment,i),s=!1},d(i){Z(e,i)}}}function ln(t){let e,s,i=t[1],o=[];for(let l=0;l<i.length;l+=1)o[l]=et($e(t,i,l));const r=l=>R(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=We()},m(l,c){for(let u=0;u<o.length;u+=1)o[u].m(l,c);U(l,e,c),s=!0},p(l,[c]){if(c&3){i=l[1];let u;for(u=0;u<i.length;u+=1){const a=$e(l,i,u);o[u]?(o[u].p(a,c),x(o[u],1)):(o[u]=et(a),o[u].c(),x(o[u],1),o[u].m(e.parentNode,e))}for(Le(),u=i.length;u<o.length;u+=1)r(u);Ie()}},i(l){if(!s){for(let c=0;c<i.length;c+=1)x(o[c]);s=!0}},o(l){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)R(o[c]);s=!1},d(l){lt(o,l),l&&z(e)}}}function rn(t,e,s){let i,{size:o=0}=e,r;return se.subscribe(l=>{s(2,r=l)}),t.$$set=l=>{"size"in l&&s(0,o=l.size)},t.$$.update=()=>{t.$$.dirty&4&&s(1,i=ye[r.level-1].wall)},[o,i,r]}class cn extends q{constructor(e){super(),X(this,e,rn,ln,P,{size:0})}}function tt(t,e,s){const i=t.slice();return i[43]=e[s],i}function nt(t,e){let s,i,o;return i=new Ot({props:{id:e[43].id,left:e[43].left,top:e[43].top,size:e[3]}}),i.$on("bonusFinished",e[14]),{key:t,first:null,c(){s=We(),Q(i.$$.fragment),this.first=s},m(r,l){U(r,s,l),K(i,r,l),o=!0},p(r,l){e=r;const c={};l[0]&2048&&(c.id=e[43].id),l[0]&2048&&(c.left=e[43].left),l[0]&2048&&(c.top=e[43].top),l[0]&8&&(c.size=e[3]),i.$set(c)},i(r){o||(x(i.$$.fragment,r),o=!0)},o(r){R(i.$$.fragment,r),o=!1},d(r){r&&z(s),Z(i,r)}}}function st(t){let e,s;return e=new Qt({props:{message:t[6]}}),{c(){Q(e.$$.fragment)},m(i,o){K(e,i,o),s=!0},p(i,o){const r={};o[0]&64&&(r.message=i[6]),e.$set(r)},i(i){s||(x(e.$$.fragment,i),s=!0)},o(i){R(e.$$.fragment,i),s=!1},d(i){Z(e,i)}}}function fn(t){let e,s,i,o,r,l,c,u,a,d,h=[],A=new Map,F,E,y,v,w,k,I;r=new cn({props:{size:t[3]}}),c=new jt({props:{direction:t[9],snakeBodies:t[10],size:t[3],maxWidth:t[0]}}),a=new Lt({props:{left:t[7],top:t[8],size:t[3]}});let N=t[11];const T=_=>_[43].id;for(let _=0;_<N.length;_+=1){let S=tt(t,N,_),D=T(S);A.set(D,h[_]=nt(D,S))}let m=t[5]==!0&&st(t);return{c(){e=G("div"),s=G("div"),s.textContent="Score",i=C(),o=G("main"),Q(r.$$.fragment),l=C(),Q(c.$$.fragment),u=C(),Q(a.$$.fragment),d=C();for(let _=0;_<h.length;_+=1)h[_].c();F=C(),m&&m.c(),E=C(),y=G("div"),y.innerHTML="<span>Pause</span>",g(o,"width",t[2]+"px"),g(o,"height",t[2]+"px"),g(o,"background",ye[t[4].level].bg),n(o,"class","svelte-xm6tpe"),n(e,"class","wrap svelte-xm6tpe"),Ue(()=>t[15].call(e))},m(_,S){U(_,e,S),f(e,s),f(e,i),f(e,o),K(r,o,null),f(o,l),K(c,o,null),f(o,u),K(a,o,null),f(o,d);for(let D=0;D<h.length;D+=1)h[D].m(o,null);f(o,F),m&&m.m(o,null),f(e,E),f(e,y),v=_t(e,t[15].bind(e)),w=!0,k||(I=[ie(window,"keydown",t[13]),dt(Ct.call(null,o,{timeframe:300,minSwipeDistance:60,touchAction:"none"})),ie(o,"swipe",t[12])],k=!0)},p(_,S){const D={};S[0]&8&&(D.size=_[3]),r.$set(D);const H={};S[0]&512&&(H.direction=_[9]),S[0]&1024&&(H.snakeBodies=_[10]),S[0]&8&&(H.size=_[3]),S[0]&1&&(H.maxWidth=_[0]),c.$set(H);const W={};S[0]&128&&(W.left=_[7]),S[0]&256&&(W.top=_[8]),S[0]&8&&(W.size=_[3]),a.$set(W),S[0]&18440&&(N=_[11],Le(),h=bt(h,S,T,1,_,N,A,o,St,nt,F,tt),Ie()),_[5]==!0?m?(m.p(_,S),S[0]&32&&x(m,1)):(m=st(_),m.c(),x(m,1),m.m(o,null)):m&&(Le(),R(m,1,1,()=>{m=null}),Ie()),(!w||S[0]&4)&&g(o,"width",_[2]+"px"),(!w||S[0]&4)&&g(o,"height",_[2]+"px"),(!w||S[0]&16)&&g(o,"background",ye[_[4].level].bg)},i(_){if(!w){x(r.$$.fragment,_),x(c.$$.fragment,_),x(a.$$.fragment,_);for(let S=0;S<N.length;S+=1)x(h[S]);x(m),w=!0}},o(_){R(r.$$.fragment,_),R(c.$$.fragment,_),R(a.$$.fragment,_);for(let S=0;S<h.length;S+=1)R(h[S]);R(m),w=!1},d(_){_&&z(e),Z(r),Z(c),Z(a);for(let S=0;S<h.length;S+=1)h[S].d();m&&m.d(),v(),k=!1,fe(I)}}}function an(t,e,s){let i=!1,o=!1,r=Ge.NEXT_LEVEL,l=!1,c,u,a=0,d=0;rt(()=>{console.log(`--onMount = ${d} ${a}`)}),gt(()=>{});let h;oe.subscribe(b=>{}),se.subscribe(b=>{s(4,h=b)});const A=()=>{N(Ge.GAME_OVER),clearInterval(k),setTimeout(()=>{T(),$(),oe.gameOver()},ne.MESSAGE_TIME)};let F=0,E=0,y=M.RIGHT,v=[],w=[],k;function I(b){b.detail.direction,b.detail.target}const N=b=>{s(6,r=b),s(5,o=!0)},T=()=>{s(5,o=!1),s(6,r=Ge.GAME_OVER)},m=()=>{N(Ge.NEXT_LEVEL),clearInterval(k),setTimeout(()=>{T(),se.nextLevel(),se.resetScore(),W(),$()},ne.MESSAGE_TIME)},_=b=>{w.forEach(L=>{ae(b,L)&&(me(L.id),se.getBonus())})},S=()=>{v.length/ne.MAX_POINTS>1&&v.length%ne.MAX_POINTS==0&&(h.level<ye.length-1?m():(clearInterval(k),oe.allLevelsCleared()))},D=()=>{let{left:b,top:L}=v[0];return y===M.UP?L-=1:y===M.DOWN?L+=1:y===M.LEFT?b-=1:y===M.RIGHT&&(b+=1),{left:b,top:L}},H=b=>{ae(b,{left:F,top:E})&&(s(10,v=[...v,v[v.length-1]]),se.eatFood(),le(),h.food%5==0&&_e())},W=()=>{let b=ye.length-h.level;b=b*ne.DELAY,k=setInterval(()=>{l=!0,Ee()&&(l=!1,A()),de();const L=D();_(L),v.pop(),s(10,v=[L,...v]),H(L),S(),l=!1},ne.DELAY)},ae=(b,L)=>!(b.top<L.top||b.top>L.top||b.left<L.left||b.left>L.left),ue=()=>{let b=0,L=0,B={top:b,left:L};return b=Math.floor(Math.random()*(a/d)),L=Math.floor(Math.random()*(a/d)),B={top:b,left:L},console.log("162",B),v.forEach(re=>{}),B},le=()=>{const{top:b,left:L}=ue();s(7,F=L),s(8,E=b)},$=()=>{le(),s(9,y=M.RIGHT),s(10,v=[{left:2,top:0},{left:1,top:0},{left:0,top:0}])},de=()=>{const{top:b,left:L}=v[0],B=Math.floor(a/d);L>=B&&y==M.RIGHT&&s(10,v[0].left=-2,v),L<0&&y==M.LEFT&&s(10,v[0].left=B+1,v),b<0&&y==M.UP&&s(10,v[0].top=B+1,v),b>=B&&y==M.DOWN&&s(10,v[0].top=-2,v)},Ee=()=>v.slice(1).filter(B=>ae(B,v[0])).length>0,Ne=()=>{clearInterval(k)},pe=b=>b===we.UP&&y!=M.DOWN?M.UP:b===we.RIGHT&&y!=M.LEFT?M.RIGHT:b===we.LEFT&&y!=M.RIGHT?M.LEFT:b===we.DOWN&&y!=M.UP?M.DOWN:M.UNKNOWN,he=b=>{if(l)return;const L=b.code;if(L===we.SPACEBAR&&(i=!i,i?Ne():W()),i)return;const B=pe(L);B!=M.UNKNOWN&&s(9,y=B)},ee=b=>{me(b.detail)},_e=()=>{const b=Kt();let L={top:0,left:0,id:b};L.top=Math.floor(Math.random()*(a/d)),L.left=Math.floor(Math.random()*(a/d)),w.push(L),s(11,w)},me=b=>{const L=w.findIndex(B=>B.id==b);L!=-1&&(w.splice(L,1),s(11,w))};W(),$();function Se(){c=this.clientWidth,u=this.clientHeight,s(0,c),s(1,u)}return t.$$.update=()=>{t.$$.dirty[0]&15&&(s(2,a=Math.min(c,u)),s(2,a=a-50),console.log(`--reactive = ${d} ${a}`),isNaN(a)||s(3,d=a/20)),t.$$.dirty[0]&16&&ye[h.level-1].wall},[c,u,a,d,h,o,r,F,E,y,v,w,I,he,ee,Se]}class Ve extends q{constructor(e){super(),X(this,e,an,fn,P,{},null,[-1,-1])}}function un(t){let e,s,i,o,r,l,c;return{c(){e=G("div"),s=G("div"),s.textContent="Snake",i=C(),o=G("div"),r=G("button"),r.textContent="Start",n(s,"class","title svelte-yxm8be"),n(o,"class","btn svelte-yxm8be"),n(e,"class","start-screen svelte-yxm8be")},m(u,a){U(u,e,a),f(e,s),f(e,i),f(e,o),f(o,r),l||(c=ie(r,"click",t[0]),l=!0)},p:O,i:O,o:O,d(u){u&&z(e),l=!1,c()}}}function dn(t){return[()=>{console.log("start game"),oe.startGame()}]}class pn extends q{constructor(e){super(),X(this,e,dn,un,P,{})}}function hn(t){let e,s,i,o,r,l,c,u;return{c(){e=G("div"),s=G("div"),s.textContent="Congratulations !",i=C(),o=G("div"),o.textContent="You have cleared all the levels.",r=C(),l=G("button"),l.textContent="Menu",n(s,"class","title svelte-gyhhqq"),n(e,"class","final svelte-gyhhqq")},m(a,d){U(a,e,d),f(e,s),f(e,i),f(e,o),f(e,r),f(e,l),c||(u=ie(l,"click",t[0]),c=!0)},p:O,i:O,o:O,d(a){a&&z(e),c=!1,u()}}}function _n(t){return[()=>{console.log("restart game"),oe.welcomeScreen()}]}class mn extends q{constructor(e){super(),X(this,e,_n,hn,P,{})}}var V=(t=>(t.NOT_STARTED="NOT_STARTED",t.RUNNING="RUNNING",t.PAUSED="PAUSED",t.RESUME="RESUME",t.GAME_OVER="GAME OVER",t.ALL_LEVELS_CLEARED="ALL_LEVELS_CLEARED",t))(V||{});const gn=()=>{const t=[{status:V.NOT_STARTED,component:pn},{status:V.RUNNING,component:Ve},{status:V.PAUSED,component:Ve},{status:V.RESUME,component:Ve},{status:V.GAME_OVER,component:Mt},{status:V.ALL_LEVELS_CLEARED,component:mn}];let{update:e,subscribe:s}=ft(t.find(a=>a.status==V.RUNNING));return{subscribe:s,startGame:()=>{e(a=>(a=t.find(d=>d.status==V.RUNNING),a))},pauseGame:()=>{e(a=>(a=t.find(d=>d.status==V.PAUSED),a))},resumeGame:()=>{e(a=>(a=t.find(d=>d.status==V.RUNNING),a))},gameOver:()=>{e(a=>(a=t.find(d=>d.status==V.GAME_OVER),a))},welcomeScreen:()=>{e(a=>(a=t.find(d=>d.status==V.NOT_STARTED),a))},allLevelsCleared:()=>{e(a=>(a=t.find(d=>d.status==V.ALL_LEVELS_CLEARED),a))}}},oe=gn();function wn(t){let e,s,i;var o=t[0].component;function r(l){return{}}return o&&(s=new o(r())),{c(){e=G("div"),s&&Q(s.$$.fragment),n(e,"class","container svelte-174qdzj")},m(l,c){U(l,e,c),s&&K(s,e,null),i=!0},p(l,[c]){if(o!==(o=l[0].component)){if(s){Le();const u=s;R(u.$$.fragment,1,0,()=>{Z(u,1)}),Ie()}o?(s=new o(r()),Q(s.$$.fragment),x(s.$$.fragment,1),K(s,e,null)):s=null}},i(l){i||(s&&x(s.$$.fragment,l),i=!0)},o(l){s&&R(s.$$.fragment,l),i=!1},d(l){l&&z(e),s&&Z(s)}}}function yn(t,e,s){let i;return oe.subscribe(o=>{s(0,i=o)}),[i]}class vn extends q{constructor(e){super(),X(this,e,yn,wn,P,{})}}new vn({target:document.getElementById("app")});
