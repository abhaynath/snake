(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function l(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=l(s);fetch(s.href,i)}})();function D(){}function nt(t){return t()}function Pe(){return Object.create(null)}function Ee(t){t.forEach(nt)}function it(t){return typeof t=="function"}function z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ct(t){return Object.keys(t).length===0}function me(t){return t==null?"":t}function f(t,e){t.appendChild(e)}function U(t,e,l){t.insertBefore(e,l||null)}function R(t){t.parentNode.removeChild(t)}function lt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function w(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function P(t){return document.createTextNode(t)}function Z(){return P(" ")}function xe(){return P("")}function be(t,e,l,o){return t.addEventListener(e,l,o),()=>t.removeEventListener(e,l,o)}function n(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function ft(t){return Array.from(t.childNodes)}function Q(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e,l,o){l===null?t.style.removeProperty(e):t.style.setProperty(e,l,o?"important":"")}function at(t,e,{bubbles:l=!1,cancelable:o=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,l,o,e),s}let Ie;function ke(t){Ie=t}function st(){if(!Ie)throw new Error("Function called outside component initialization");return Ie}function ut(t){st().$$.on_mount.push(t)}function dt(){const t=st();return(e,l,{cancelable:o=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=at(e,l,{cancelable:o});return s.slice().forEach(r=>{r.call(t,i)}),!i.defaultPrevented}return!0}}const ye=[],We=[],Fe=[],qe=[],_t=Promise.resolve();let Me=!1;function pt(){Me||(Me=!0,_t.then(ot))}function Ke(t){Fe.push(t)}const Re=new Set;let Ne=0;function ot(){const t=Ie;do{for(;Ne<ye.length;){const e=ye[Ne];Ne++,ke(e),ht(e.$$)}for(ke(null),ye.length=0,Ne=0;We.length;)We.pop()();for(let e=0;e<Fe.length;e+=1){const l=Fe[e];Re.has(l)||(Re.add(l),l())}Fe.length=0}while(ye.length);for(;qe.length;)qe.pop()();Me=!1,Re.clear(),ke(t)}function ht(t){if(t.fragment!==null){t.update(),Ee(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ke)}}const Te=new Set;let ue;function Ce(){ue={r:0,c:[],p:ue}}function Le(){ue.r||Ee(ue.c),ue=ue.p}function K(t,e){t&&t.i&&(Te.delete(t),t.i(e))}function $(t,e,l,o){if(t&&t.o){if(Te.has(t))return;Te.add(t),ue.c.push(()=>{Te.delete(t),o&&(l&&t.d(1),o())}),t.o(e)}else o&&o()}function gt(t,e){$(t,1,1,()=>{e.delete(t.key)})}function mt(t,e,l,o,s,i,r,c,a,u,p,h){let _=t.length,k=i.length,m=_;const b={};for(;m--;)b[t[m].key]=m;const O=[],N=new Map,I=new Map;for(m=k;m--;){const v=h(s,i,m),B=l(v);let F=r.get(B);F?o&&F.p(v,e):(F=u(B,v),F.c()),N.set(B,O[m]=F),B in b&&I.set(B,Math.abs(m-b[B]))}const G=new Set,A=new Set;function x(v){K(v,1),v.m(c,p),r.set(v.key,v),p=v.first,k--}for(;_&&k;){const v=O[k-1],B=t[_-1],F=v.key,V=B.key;v===B?(p=v.first,_--,k--):N.has(V)?!r.has(F)||G.has(F)?x(v):A.has(V)?_--:I.get(F)>I.get(V)?(A.add(F),x(v)):(G.add(V),_--):(a(B,r),_--)}for(;_--;){const v=t[_];N.has(v.key)||a(v,r)}for(;k;)x(O[k-1]);return O}function oe(t){t&&t.c()}function te(t,e,l,o){const{fragment:s,on_mount:i,on_destroy:r,after_update:c}=t.$$;s&&s.m(e,l),o||Ke(()=>{const a=i.map(nt).filter(it);r?r.push(...a):Ee(a),t.$$.on_mount=[]}),c.forEach(Ke)}function ne(t,e){const l=t.$$;l.fragment!==null&&(Ee(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Et(t,e){t.$$.dirty[0]===-1&&(ye.push(t),pt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(t,e,l,o,s,i,r,c=[-1]){const a=Ie;ke(t);const u=t.$$={fragment:null,ctx:null,props:i,update:D,not_equal:s,bound:Pe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Pe(),dirty:c,skip_bound:!1,root:e.target||a.$$.root};r&&r(u.root);let p=!1;if(u.ctx=l?l(t,e.props||{},(h,_,...k)=>{const m=k.length?k[0]:_;return u.ctx&&s(u.ctx[h],u.ctx[h]=m)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](m),p&&Et(t,h)),_}):[],u.update(),p=!0,Ee(u.before_update),u.fragment=o?o(u.ctx):!1,e.target){if(e.hydrate){const h=ft(e.target);u.fragment&&u.fragment.l(h),h.forEach(R)}else u.fragment&&u.fragment.c();e.intro&&K(t.$$.fragment),te(t,e.target,e.anchor,e.customElement),ot()}ke(a)}class Y{$destroy(){ne(this,1),this.$destroy=D}$on(e,l){const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(l),()=>{const s=o.indexOf(l);s!==-1&&o.splice(s,1)}}$set(e){this.$$set&&!ct(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var M=(t=>(t.UP="up",t.RIGHT="right",t.LEFT="left",t.DOWN="down",t.UNKNOWN="",t))(M||{}),E=(t=>(t[t.SCREEN_WIDTH=600]="SCREEN_WIDTH",t[t.SCREEN_HEIGHT=400]="SCREEN_HEIGHT",t[t.BLOCK_SIZE=50]="BLOCK_SIZE",t))(E||{}),ae=(t=>(t[t.DELAY=50]="DELAY",t[t.MAX_POINTS=10]="MAX_POINTS",t[t.BONUS_TIME=5e3]="BONUS_TIME",t[t.MESSAGE_TIME=3e3]="MESSAGE_TIME",t))(ae||{}),he=(t=>(t.UP="ArrowUp",t.LEFT="ArrowLeft",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.SPACEBAR="Space",t))(he||{}),we=(t=>(t.NEXT_LEVEL="Next Level",t.GAME_OVER="Game Over",t))(we||{});const pe=[];function rt(t,e=D){let l;const o=new Set;function s(c){if(z(t,c)&&(t=c,l)){const a=!pe.length;for(const u of o)u[1](),pe.push(u,t);if(a){for(let u=0;u<pe.length;u+=2)pe[u][0](pe[u+1]);pe.length=0}}}function i(c){s(c(t))}function r(c,a=D){const u=[c,a];return o.add(u),o.size===1&&(l=e(s)||D),c(t),()=>{o.delete(u),o.size===0&&(l(),l=null)}}return{set:s,update:i,subscribe:r}}const St=()=>{let t={playerName:"Abhay",level:1,stage:1,score:0,highScore:0,bonus:0,food:0},{update:e,subscribe:l}=rt(t);return{subscribe:l,resetScore:()=>{e(c=>(c.food=0,c.bonus=0,c.score=0,c))},eatFood:()=>{e(c=>(c.food=c.food+1,c.score=c.food*5+c.bonus*20,c.score>c.highScore&&(c.highScore=c.score),c))},getBonus:()=>{e(c=>(c.bonus=c.bonus+1,c))},nextLevel:()=>{e(c=>(c.level=c.level+1,c))}}};let ie=St();function vt(t){let e,l,o,s,i,r,c,a,u,p,h,_,k,m,b,O;return{c(){e=w("div"),l=d("svg"),o=d("g"),s=d("g"),i=d("g"),r=d("g"),c=d("ellipse"),a=d("g"),u=d("path"),p=d("path"),h=d("g"),_=d("path"),k=d("g"),m=d("path"),b=d("g"),O=d("ellipse"),n(o,"id","Layer_1"),n(c,"id","shadow"),n(c,"opacity","0.3"),n(c,"cx","438.7"),n(c,"cy","765.8"),n(c,"rx","283"),n(c,"ry","32.9"),n(u,"id","cup-shadow"),n(u,"fill","#E7F4FA"),n(u,"d",`M135.4,492.8c0,0,17,201,77,230c81.1,39.2,258,43.7,392,25.1\r
            c100.5-13.9,115.1-120.1,122-154.4c8-39.7,19.5-119,6.5-137S217.4,370.8,135.4,492.8z`),n(p,"id","cup-light"),n(p,"fill","#FFFFFF"),n(p,"d",`M155.8,563.9c0,0,12.5,129.5,68.5,151.7c75.8,30,241,33.4,366.1,19.2\r
            c93.8-10.7,107.5-92,114-118.3c7.5-30.4,22.7-73.8,15.3-89C711.8,510.9,478.4,406.5,155.8,563.9z`),n(_,"id","mainFood"),n(_,"fill","#DB343C"),n(_,"d",`M57,240.8c35.9-55.2,83.5-142,189.1-192.7C365.6-9.3,527.4-11.2,598.8,20.8\r
            c41.7,18.7,160.6,74,214.5,205.5c92,224.4,10.9,261.8-27.3,263.6s-285.6-42.4-347.6-36.1c-59.9,6.1-148.2,2.1-312.4,77.9\r
            C54.4,564.8,8.4,515.8,0.6,479C-3.5,459.8,13.4,307.8,57,240.8z`),n(m,"id","highlight"),n(m,"opacity","0.3"),n(m,"fill","#FFFFFF"),n(m,"stroke","#000000"),n(m,"stroke-width","0.25"),n(m,"stroke-miterlimit","10"),n(m,"d",`M231.4,76.8\r
            c74.3-34.1,184.9-82.6,345-35c148,44,244,176,207,256s-53.4,66.9-110,58c-83-13-226-101-256-120s-175-97-186-111\r
            S189.5,96,231.4,76.8z`),n(O,"id","c2"),n(O,"fill","#FFFFFF"),n(O,"cx","436.8"),n(O,"cy","144.3"),n(O,"rx","140.6"),n(O,"ry","138.4"),n(b,"id","c1"),n(s,"id","Layer_2"),n(l,"viewBox","0 0 855.6 798.6"),n(e,"class","food svelte-h8lqdv"),g(e,"left",t[1]+"px"),g(e,"top",t[0]+"px"),g(e,"width",E.BLOCK_SIZE-2+"px"),g(e,"height",E.BLOCK_SIZE-2+"px")},m(N,I){U(N,e,I),f(e,l),f(l,o),f(l,s),f(s,i),f(i,r),f(r,c),f(i,a),f(a,u),f(a,p),f(i,h),f(h,_),f(i,k),f(k,m),f(i,b),f(b,O)},p(N,[I]){I&2&&g(e,"left",N[1]+"px"),I&1&&g(e,"top",N[0]+"px")},i:D,o:D,d(N){N&&R(e)}}}function yt(t,e,l){let{top:o=0}=e,{left:s=0}=e;return t.$$set=i=>{"top"in i&&l(0,o=i.top),"left"in i&&l(1,s=i.left)},[o,s]}class wt extends Y{constructor(e){super(),X(this,e,yt,vt,z,{top:0,left:1})}}function kt(t){let e,l,o,s,i;return{c(){e=w("div"),l=d("svg"),o=d("style"),s=P(`.red {\r
        fill: red;\r
        animation: blink 250ms linear infinite;\r
      }\r
      @keyframes blink {\r
        0% {\r
          fill: yellow;\r
        }\r
        50% {\r
          /* opacity: 0.5; */\r
        }\r
        100% {\r
          fill: red;\r
        }\r
      }\r
    `),i=d("polygon"),n(o,"id","style2"),n(i,"fill","#FFA300"),n(i,"stroke","#EB0000"),n(i,"stroke-width","0.25"),n(i,"stroke-miterlimit","10"),n(i,"points",`221.7,0.3 290.1,138.9 443.1,161.1 \r
        332.4,269 358.5,421.4 221.7,349.5 84.8,421.4 111,269 0.3,161.1 153.3,138.9 `),n(i,"class","red"),n(l,"viewBox","0 0 443.3 421.6"),n(e,"class","bonus svelte-y90akj"),g(e,"width",E.BLOCK_SIZE+"px"),g(e,"height",E.BLOCK_SIZE+"px"),g(e,"left",t[0]+"px"),g(e,"top",t[1]+"px")},m(r,c){U(r,e,c),f(e,l),f(l,o),f(o,s),f(l,i)},p(r,[c]){c&1&&g(e,"left",r[0]+"px"),c&2&&g(e,"top",r[1]+"px")},i:D,o:D,d(r){r&&R(e)}}}function bt(t,e,l){const o=dt();let{left:s}=e,{top:i}=e,{id:r}=e;return ut(()=>{setTimeout(()=>{o("bonusFinished",r)},ae.BONUS_TIME)}),t.$$set=c=>{"left"in c&&l(0,s=c.left),"top"in c&&l(1,i=c.top),"id"in c&&l(2,r=c.id)},[s,i,r]}class It extends Y{constructor(e){super(),X(this,e,bt,kt,z,{left:0,top:1,id:2})}}function Ct(t){let e,l,o,s,i,r,c,a=t[0].playerName+"",u,p,h,_,k,m=t[0].score+"",b,O,N,I,G,A=t[0].food+"",x,v,B,F,V,j=t[0].bonus+"",le,T,y,L,H,ee=t[0].highScore+"",Se,Oe,de,fe,S,C=t[0].level+"",q,ve,re=t[0].stage+"",Ae,Ze,_e,Ge,$e,Be,De,Ve;return{c(){e=w("div"),l=w("div"),l.textContent="Snake",o=Z(),s=w("table"),i=w("tr"),r=w("td"),r.textContent="Player",c=w("td"),u=P(a),p=Z(),h=w("tr"),_=w("td"),_.textContent="Score",k=w("td"),b=P(m),O=Z(),N=w("tr"),I=w("td"),I.textContent="Food",G=w("td"),x=P(A),v=Z(),B=w("tr"),F=w("td"),F.textContent="Bonus",V=w("td"),le=P(j),T=Z(),y=w("tr"),L=w("td"),L.textContent="High Score",H=w("td"),Se=P(ee),Oe=Z(),de=w("tr"),fe=w("td"),fe.textContent="Level-Stage",S=w("td"),q=P(C),ve=w("span"),ve.textContent="-",Ae=P(re),Ze=Z(),_e=w("div"),Ge=w("button"),Ge.textContent="Replay",$e=Z(),Be=w("button"),Be.textContent="Menu",n(l,"class","title svelte-mdywih"),n(r,"class","c1 svelte-mdywih"),n(c,"class","c2 svelte-mdywih"),n(_,"class","c1 svelte-mdywih"),n(k,"class","c2 svelte-mdywih"),n(I,"class","c1 svelte-mdywih"),n(G,"class","c2 svelte-mdywih"),n(F,"class","c1 svelte-mdywih"),n(V,"class","c2 svelte-mdywih"),n(L,"class","c1 svelte-mdywih"),n(H,"class","c2 svelte-mdywih"),n(fe,"class","c1 svelte-mdywih"),n(S,"class","c2 svelte-mdywih"),n(s,"class","svelte-mdywih"),n(_e,"class","flex svelte-mdywih"),n(e,"class","game-over-screen svelte-mdywih")},m(J,se){U(J,e,se),f(e,l),f(e,o),f(e,s),f(s,i),f(i,r),f(i,c),f(c,u),f(s,p),f(s,h),f(h,_),f(h,k),f(k,b),f(s,O),f(s,N),f(N,I),f(N,G),f(G,x),f(s,v),f(s,B),f(B,F),f(B,V),f(V,le),f(s,T),f(s,y),f(y,L),f(y,H),f(H,Se),f(s,Oe),f(s,de),f(de,fe),f(de,S),f(S,q),f(S,ve),f(S,Ae),f(e,Ze),f(e,_e),f(_e,Ge),f(_e,$e),f(_e,Be),De||(Ve=[be(Ge,"click",t[2]),be(Be,"click",t[1])],De=!0)},p(J,[se]){se&1&&a!==(a=J[0].playerName+"")&&Q(u,a),se&1&&m!==(m=J[0].score+"")&&Q(b,m),se&1&&A!==(A=J[0].food+"")&&Q(x,A),se&1&&j!==(j=J[0].bonus+"")&&Q(le,j),se&1&&ee!==(ee=J[0].highScore+"")&&Q(Se,ee),se&1&&C!==(C=J[0].level+"")&&Q(q,C),se&1&&re!==(re=J[0].stage+"")&&Q(Ae,re)},i:D,o:D,d(J){J&&R(e),De=!1,Ee(Ve)}}}function Lt(t,e,l){const o=()=>{console.log("restart game"),ce.welcomeScreen()},s=()=>{ie.resetScore(),ce.startGame()};let i;return ie.subscribe(r=>{l(0,i=r)}),[i,o,s]}class Ot extends Y{constructor(e){super(),X(this,e,Lt,Ct,z,{})}}function ze(t){let e;function l(i,r){return i[2]?Nt:i[3]?Bt:Gt}let o=l(t),s=o(t);return{c(){e=w("div"),s.c(),g(e,"left",t[1]+"px"),g(e,"top",t[0]+"px"),g(e,"width",E.BLOCK_SIZE+"px"),g(e,"height",E.BLOCK_SIZE+"px"),n(e,"class","snake-body svelte-kpsm61")},m(i,r){U(i,e,r),s.m(e,null)},p(i,r){o===(o=l(i))&&s?s.p(i,r):(s.d(1),s=o(i),s&&(s.c(),s.m(e,null))),r&2&&g(e,"left",i[1]+"px"),r&1&&g(e,"top",i[0]+"px")},d(i){i&&R(e),s.d()}}}function Gt(t){let e,l,o;return{c(){e=d("svg"),l=d("rect"),n(l,"y","77"),n(l,"fill","#0037FF"),n(l,"width","258"),n(l,"height","102"),n(e,"viewBox","0 0 258 258"),n(e,"class",o=me(t[4])+" svelte-kpsm61")},m(s,i){U(s,e,i),f(e,l)},p(s,i){i&16&&o!==(o=me(s[4])+" svelte-kpsm61")&&n(e,"class",o)},d(s){s&&R(e)}}}function Bt(t){let e,l,o;return{c(){e=d("svg"),l=d("polygon"),n(l,"fill","#0037FF"),n(l,"points","258,179 0,128 0,128 258,77 "),n(e,"viewBox","0 0 258 258"),n(e,"class",o=me(t[4])+" svelte-kpsm61")},m(s,i){U(s,e,i),f(e,l)},p(s,i){i&16&&o!==(o=me(s[4])+" svelte-kpsm61")&&n(e,"class",o)},d(s){s&&R(e)}}}function Nt(t){let e,l,o,s,i,r,c;return{c(){e=d("svg"),l=d("g"),o=d("rect"),s=d("path"),i=d("circle"),r=d("circle"),n(o,"opacity","0"),n(o,"fill","#FFFFFF"),n(o,"width","258"),n(o,"height","258"),n(s,"fill","#0037FF"),n(s,"d",`M147.5,29.2C111.6,29.2,80.1,48,62.6,77H0v104h62.6c17.5,28,49,47.3,84.9,47.3c55,0,99.6-44.6,99.6-99.6\r
          S202.5,29.2,147.5,29.2z`),n(i,"fill","#FFF800"),n(i,"stroke","#000000"),n(i,"stroke-miterlimit","10"),n(i,"cx","184.3"),n(i,"cy","84.5"),n(i,"r","21.8"),n(r,"fill","#FFF800"),n(r,"stroke","#000000"),n(r,"stroke-miterlimit","10"),n(r,"cx","184.3"),n(r,"cy","164.5"),n(r,"r","21.8"),n(e,"viewBox","0 0 258 258"),n(e,"class",c=me(t[4])+" svelte-kpsm61")},m(a,u){U(a,e,u),f(e,l),f(l,o),f(l,s),f(l,i),f(l,r)},p(a,u){u&16&&c!==(c=me(a[4])+" svelte-kpsm61")&&n(e,"class",c)},d(a){a&&R(e)}}}function Ft(t){let e,l=t[0]>=0&&t[0]<E.SCREEN_HEIGHT&&t[1]>=0&&t[1]<E.SCREEN_WIDTH&&ze(t);return{c(){l&&l.c(),e=xe()},m(o,s){l&&l.m(o,s),U(o,e,s)},p(o,[s]){o[0]>=0&&o[0]<E.SCREEN_HEIGHT&&o[1]>=0&&o[1]<E.SCREEN_WIDTH?l?l.p(o,s):(l=ze(o),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:D,o:D,d(o){l&&l.d(o),o&&R(e)}}}function Tt(t,e,l){let{top:o=E.BLOCK_SIZE}=e,{left:s=E.BLOCK_SIZE}=e,{isHead:i=!1}=e,{isTail:r=!1}=e,{direction:c="right"}=e;return t.$$set=a=>{"top"in a&&l(0,o=a.top),"left"in a&&l(1,s=a.left),"isHead"in a&&l(2,i=a.isHead),"isTail"in a&&l(3,r=a.isTail),"direction"in a&&l(4,c=a.direction)},[o,s,i,r,c]}class xt extends Y{constructor(e){super(),X(this,e,Tt,Ft,z,{top:0,left:1,isHead:2,isTail:3,direction:4})}}function je(t,e,l){const o=t.slice();return o[2]=e[l],o[4]=l,o}function Xe(t){let e,l;return e=new xt({props:{isHead:t[4]==0,isTail:t[4]==t[0].length-1,top:t[2].top,left:t[2].left,direction:t[1]}}),{c(){oe(e.$$.fragment)},m(o,s){te(e,o,s),l=!0},p(o,s){const i={};s&1&&(i.isTail=o[4]==o[0].length-1),s&1&&(i.top=o[2].top),s&1&&(i.left=o[2].left),s&2&&(i.direction=o[1]),e.$set(i)},i(o){l||(K(e.$$.fragment,o),l=!0)},o(o){$(e.$$.fragment,o),l=!1},d(o){ne(e,o)}}}function At(t){let e,l,o=t[0],s=[];for(let r=0;r<o.length;r+=1)s[r]=Xe(je(t,o,r));const i=r=>$(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=xe()},m(r,c){for(let a=0;a<s.length;a+=1)s[a].m(r,c);U(r,e,c),l=!0},p(r,[c]){if(c&3){o=r[0];let a;for(a=0;a<o.length;a+=1){const u=je(r,o,a);s[a]?(s[a].p(u,c),K(s[a],1)):(s[a]=Xe(u),s[a].c(),K(s[a],1),s[a].m(e.parentNode,e))}for(Ce(),a=o.length;a<s.length;a+=1)i(a);Le()}},i(r){if(!l){for(let c=0;c<o.length;c+=1)K(s[c]);l=!0}},o(r){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);l=!1},d(r){lt(s,r),r&&R(e)}}}function Dt(t,e,l){let{snakeBodies:o=[]}=e,{direction:s="right"}=e;return t.$$set=i=>{"snakeBodies"in i&&l(0,o=i.snakeBodies),"direction"in i&&l(1,s=i.direction)},[o,s]}class Rt extends Y{constructor(e){super(),X(this,e,Dt,At,z,{snakeBodies:0,direction:1})}}var He=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.ROCK=1]="ROCK",t[t.CONCRETE=2]="CONCRETE",t))(He||{});const ge=[{bg:"#affbaf",wall:[{type:0,top:E.BLOCK_SIZE*2,left:E.BLOCK_SIZE*2},{type:1,top:E.BLOCK_SIZE*2,left:E.BLOCK_SIZE*3},{type:1,top:E.BLOCK_SIZE*2,left:E.BLOCK_SIZE*4},{type:0,top:E.BLOCK_SIZE*2,left:E.BLOCK_SIZE*5},{type:2,top:E.BLOCK_SIZE,left:E.BLOCK_SIZE*3},{type:2,top:E.BLOCK_SIZE*3,left:E.BLOCK_SIZE*4}]},{bg:"#fda2f2",wall:[{type:0,top:200,left:100},{type:1,top:200,left:125},{type:1,top:200,left:150},{type:0,top:200,left:175},{type:2,top:175,left:125},{type:2,top:225,left:150}]},{bg:"#7f61bb",wall:[]},{bg:"#c34366",wall:[]}],Ut=()=>Date.now().toString(36)+Math.random().toString(36).substr(2);function Mt(t){let e,l,o;return{c(){e=w("div"),l=w("h1"),o=P(t[0]),n(l,"class","svelte-1x8upsq"),n(e,"class","message-box svelte-1x8upsq")},m(s,i){U(s,e,i),f(e,l),f(l,o)},p(s,[i]){i&1&&Q(o,s[0])},i:D,o:D,d(s){s&&R(e)}}}function Kt(t,e,l){let{message:o=""}=e;return t.$$set=s=>{"message"in s&&l(0,o=s.message)},[o]}class Ht extends Y{constructor(e){super(),X(this,e,Kt,Mt,z,{message:0})}}function Zt(t){let e,l,o,s,i,r,c,a,u;return{c(){e=d("svg"),l=d("radialGradient"),o=d("stop"),s=d("stop"),i=d("rect"),r=d("linearGradient"),c=d("stop"),a=d("stop"),u=d("rect"),n(o,"offset","0"),g(o,"stop-color","#333333"),n(s,"offset","1"),g(s,"stop-color","#000000"),n(l,"id","rock_svgid"),n(l,"cx","219.5"),n(l,"cy","219.5"),n(l,"r","219"),n(l,"gradientUnits","userSpaceOnUse"),n(i,"x","0.5"),n(i,"y","0.5"),n(i,"fill","url(#rock_svgid)"),n(i,"stroke","#000000"),n(i,"stroke-miterlimit","10"),n(i,"width","438"),n(i,"height","438"),n(c,"offset","0"),g(c,"stop-color","#000000"),g(c,"stop-opacity","0"),n(a,"offset","1"),g(a,"stop-color","#FFFFFF"),g(a,"stop-opacity","0.5"),n(r,"id","rock_svgid2"),n(r,"gradientUnits","userSpaceOnUse"),n(r,"x1","219"),n(r,"y1","431"),n(r,"x2","219"),n(r,"y2","9.0005"),n(u,"x","8"),n(u,"y","9"),n(u,"fill","url(#rock_svgid2)"),n(u,"width","422"),n(u,"height","422"),n(e,"viewBox","0 0 439 439")},m(p,h){U(p,e,h),f(e,l),f(l,o),f(l,s),f(e,i),f(e,r),f(r,c),f(r,a),f(e,u)},d(p){p&&R(e)}}}function $t(t){let e,l,o,s,i,r,c,a,u,p,h,_,k,m,b,O,N,I,G,A,x,v;return{c(){e=d("svg"),l=d("g"),o=d("linearGradient"),s=d("stop"),i=d("stop"),r=d("rect"),c=d("linearGradient"),a=d("stop"),u=d("stop"),p=d("rect"),h=d("linearGradient"),_=d("stop"),k=d("stop"),m=d("polygon"),b=d("linearGradient"),O=d("stop"),N=d("stop"),I=d("rect"),G=d("linearGradient"),A=d("stop"),x=d("stop"),v=d("rect"),n(s,"offset","0"),g(s,"stop-color","#998675"),n(i,"offset","1"),g(i,"stop-color","#C7B299"),n(o,"id","concrete_SVGID_1_"),n(o,"gradientUnits","userSpaceOnUse"),n(o,"x1","4"),n(o,"y1","96.5"),n(o,"x2","281"),n(o,"y2","96.5"),n(r,"x","4"),n(r,"y","4"),n(r,"fill","url(#concrete_SVGID_1_)"),n(r,"stroke","#CABD99"),n(r,"stroke-width","8"),n(r,"stroke-miterlimit","10"),n(r,"width","277"),n(r,"height","185"),n(a,"offset","0"),g(a,"stop-color","#998675"),n(u,"offset","1"),g(u,"stop-color","#C7B299"),n(c,"id","concrete_SVGID_2_"),n(c,"gradientUnits","userSpaceOnUse"),n(c,"x1","420"),n(c,"y1","189"),n(c,"x2","420"),n(c,"y2","4"),n(p,"x","281"),n(p,"y","4"),n(p,"fill","url(#concrete_SVGID_2_)"),n(p,"stroke","#CABD99"),n(p,"stroke-width","8"),n(p,"stroke-miterlimit","10"),n(p,"width","278"),n(p,"height","185"),n(_,"offset","0"),g(_,"stop-color","#998675"),n(k,"offset","1"),g(k,"stop-color","#C7B299"),n(h,"id","concrete_SVGID_3_"),n(h,"gradientUnits","userSpaceOnUse"),n(h,"x1","281.5"),n(h,"y1","374"),n(h,"x2","281.5"),n(h,"y2","189.0005"),n(m,"fill","url(#concrete_SVGID_3_)"),n(m,"stroke","#CABD99"),n(m,"stroke-width","8"),n(m,"stroke-miterlimit","10"),n(m,"points",`281,189 4,189 4,374 281,374 \r
    559,374 559,189 	`),n(O,"offset","0"),g(O,"stop-color","#998675"),n(N,"offset","1"),g(N,"stop-color","#C7B299"),n(b,"id","concrete_SVGID_4_"),n(b,"gradientUnits","userSpaceOnUse"),n(b,"x1","4"),n(b,"y1","466.5"),n(b,"x2","281"),n(b,"y2","466.5"),n(I,"x","4"),n(I,"y","374"),n(I,"fill","url(#concrete_SVGID_4_)"),n(I,"stroke","#CABD99"),n(I,"stroke-width","8"),n(I,"stroke-miterlimit","10"),n(I,"width","277"),n(I,"height","185"),n(A,"offset","0"),g(A,"stop-color","#998675"),n(x,"offset","1"),g(x,"stop-color","#C7B299"),n(G,"id","concrete_SVGID_5_"),n(G,"gradientUnits","userSpaceOnUse"),n(G,"x1","281"),n(G,"y1","466.5"),n(G,"x2","559"),n(G,"y2","466.5"),n(v,"x","281"),n(v,"y","374"),n(v,"fill","url(#concrete_SVGID_5_)"),n(v,"stroke","#CABD99"),n(v,"stroke-width","8"),n(v,"stroke-miterlimit","10"),n(v,"width","278"),n(v,"height","185"),n(e,"viewBox","0 0 563 563")},m(B,F){U(B,e,F),f(e,l),f(l,o),f(o,s),f(o,i),f(l,r),f(l,c),f(c,a),f(c,u),f(l,p),f(l,h),f(h,_),f(h,k),f(l,m),f(l,b),f(b,O),f(b,N),f(l,I),f(l,G),f(G,A),f(G,x),f(l,v)},d(B){B&&R(e)}}}function Vt(t){let e,l,o,s,i,r,c,a,u,p,h,_,k,m,b,O,N,I,G,A,x,v;return{c(){e=d("svg"),l=d("g"),o=d("linearGradient"),s=d("stop"),i=d("stop"),r=d("rect"),c=d("linearGradient"),a=d("stop"),u=d("stop"),p=d("rect"),h=d("linearGradient"),_=d("stop"),k=d("stop"),m=d("polygon"),b=d("linearGradient"),O=d("stop"),N=d("stop"),I=d("rect"),G=d("linearGradient"),A=d("stop"),x=d("stop"),v=d("rect"),n(s,"offset","0"),g(s,"stop-color","#9E2000"),n(i,"offset","1"),g(i,"stop-color","#F15A24"),n(o,"id","brick_SVGID_1_"),n(o,"gradientUnits","userSpaceOnUse"),n(o,"x1","4"),n(o,"y1","96.5"),n(o,"x2","281"),n(o,"y2","96.5"),n(r,"x","4"),n(r,"y","4"),n(r,"fill","url(#brick_SVGID_1_)"),n(r,"stroke","#000000"),n(r,"stroke-width","8"),n(r,"stroke-miterlimit","10"),n(r,"width","277"),n(r,"height","185"),n(a,"offset","0"),g(a,"stop-color","#9E2000"),n(u,"offset","1"),g(u,"stop-color","#F15A24"),n(c,"id","SVGID_2_"),n(c,"gradientUnits","userSpaceOnUse"),n(c,"x1","420"),n(c,"y1","189"),n(c,"x2","420"),n(c,"y2","4"),n(p,"x","281"),n(p,"y","4"),n(p,"fill","url(#SVGID_2_)"),n(p,"stroke","#000000"),n(p,"stroke-width","8"),n(p,"stroke-miterlimit","10"),n(p,"width","278"),n(p,"height","185"),n(_,"offset","0"),g(_,"stop-color","#9E2000"),n(k,"offset","1"),g(k,"stop-color","#F15A24"),n(h,"id","SVGID_3_"),n(h,"gradientUnits","userSpaceOnUse"),n(h,"x1","281.5"),n(h,"y1","374"),n(h,"x2","281.5"),n(h,"y2","189.0005"),n(m,"fill","url(#SVGID_3_)"),n(m,"stroke","#000000"),n(m,"stroke-width","8"),n(m,"stroke-miterlimit","10"),n(m,"points",`281,189 4,189 4,374 281,374 \r
            559,374 559,189 	`),n(O,"offset","0"),g(O,"stop-color","#9E2000"),n(N,"offset","1"),g(N,"stop-color","#F15A24"),n(b,"id","SVGID_4_"),n(b,"gradientUnits","userSpaceOnUse"),n(b,"x1","4"),n(b,"y1","466.5"),n(b,"x2","281"),n(b,"y2","466.5"),n(I,"x","4"),n(I,"y","374"),n(I,"fill","url(#SVGID_4_)"),n(I,"stroke","#000000"),n(I,"stroke-width","8"),n(I,"stroke-miterlimit","10"),n(I,"width","277"),n(I,"height","185"),n(A,"offset","0"),g(A,"stop-color","#9E2000"),n(x,"offset","1"),g(x,"stop-color","#F15A24"),n(G,"id","SVGID_5_"),n(G,"gradientUnits","userSpaceOnUse"),n(G,"x1","281"),n(G,"y1","466.5"),n(G,"x2","559"),n(G,"y2","466.5"),n(v,"x","281"),n(v,"y","374"),n(v,"fill","url(#SVGID_5_)"),n(v,"stroke","#000000"),n(v,"stroke-width","8"),n(v,"stroke-miterlimit","10"),n(v,"width","278"),n(v,"height","185"),n(e,"viewBox","0 0 563 563")},m(B,F){U(B,e,F),f(e,l),f(l,o),f(o,s),f(o,i),f(l,r),f(l,c),f(c,a),f(c,u),f(l,p),f(l,h),f(h,_),f(h,k),f(l,m),f(l,b),f(b,O),f(b,N),f(l,I),f(l,G),f(G,A),f(G,x),f(l,v)},d(B){B&&R(e)}}}function Pt(t){let e;function l(i,r){return i[0].type==He.DEFAULT?Vt:i[0].type==He.CONCRETE?$t:Zt}let o=l(t),s=o(t);return{c(){e=w("div"),s.c(),n(e,"class","brick svelte-1ezhfpr"),g(e,"top",t[0].top+"px"),g(e,"left",t[0].left+"px"),g(e,"width",E.BLOCK_SIZE+"px"),g(e,"height",E.BLOCK_SIZE+"px")},m(i,r){U(i,e,r),s.m(e,null)},p(i,[r]){o!==(o=l(i))&&(s.d(1),s=o(i),s&&(s.c(),s.m(e,null))),r&1&&g(e,"top",i[0].top+"px"),r&1&&g(e,"left",i[0].left+"px")},i:D,o:D,d(i){i&&R(e),s.d()}}}function Wt(t,e,l){let{data:o}=e;return t.$$set=s=>{"data"in s&&l(0,o=s.data)},[o]}class qt extends Y{constructor(e){super(),X(this,e,Wt,Pt,z,{data:0})}}function Ye(t,e,l){const o=t.slice();return o[2]=e[l],o}function Je(t){let e,l;return e=new qt({props:{data:t[2]}}),{c(){oe(e.$$.fragment)},m(o,s){te(e,o,s),l=!0},p(o,s){const i={};s&1&&(i.data=o[2]),e.$set(i)},i(o){l||(K(e.$$.fragment,o),l=!0)},o(o){$(e.$$.fragment,o),l=!1},d(o){ne(e,o)}}}function zt(t){let e,l,o=t[0],s=[];for(let r=0;r<o.length;r+=1)s[r]=Je(Ye(t,o,r));const i=r=>$(s[r],1,1,()=>{s[r]=null});return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=xe()},m(r,c){for(let a=0;a<s.length;a+=1)s[a].m(r,c);U(r,e,c),l=!0},p(r,[c]){if(c&1){o=r[0];let a;for(a=0;a<o.length;a+=1){const u=Ye(r,o,a);s[a]?(s[a].p(u,c),K(s[a],1)):(s[a]=Je(u),s[a].c(),K(s[a],1),s[a].m(e.parentNode,e))}for(Ce(),a=o.length;a<s.length;a+=1)i(a);Le()}},i(r){if(!l){for(let c=0;c<o.length;c+=1)K(s[c]);l=!0}},o(r){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);l=!1},d(r){lt(s,r),r&&R(e)}}}function jt(t,e,l){let o,s;return ie.subscribe(i=>{l(1,s=i)}),t.$$.update=()=>{t.$$.dirty&2&&l(0,o=ge[s.level-1].wall)},[o,s]}class Xt extends Y{constructor(e){super(),X(this,e,jt,zt,z,{})}}function Qe(t,e,l){const o=t.slice();return o[37]=e[l],o}function et(t,e){let l,o,s;return o=new It({props:{id:e[37].id,left:e[37].left,top:e[37].top}}),o.$on("bonusFinished",e[9]),{key:t,first:null,c(){l=xe(),oe(o.$$.fragment),this.first=l},m(i,r){U(i,l,r),te(o,i,r),s=!0},p(i,r){e=i;const c={};r[0]&128&&(c.id=e[37].id),r[0]&128&&(c.left=e[37].left),r[0]&128&&(c.top=e[37].top),o.$set(c)},i(i){s||(K(o.$$.fragment,i),s=!0)},o(i){$(o.$$.fragment,i),s=!1},d(i){i&&R(l),ne(o,i)}}}function tt(t){let e,l;return e=new Ht({props:{message:t[2]}}),{c(){oe(e.$$.fragment)},m(o,s){te(e,o,s),l=!0},p(o,s){const i={};s[0]&4&&(i.message=o[2]),e.$set(i)},i(o){l||(K(e.$$.fragment,o),l=!0)},o(o){$(e.$$.fragment,o),l=!1},d(o){ne(e,o)}}}function Yt(t){let e,l,o,s,i,r,c,a=[],u=new Map,p,h,_,k,m=t[0].level+"",b,O,N=t[0].score+"",I,G,A,x=t[0].bonus+"",v,B,F,V;l=new Xt({}),s=new Rt({props:{direction:t[5],snakeBodies:t[6]}}),r=new wt({props:{left:t[3],top:t[4]}});let j=t[7];const le=y=>y[37].id;for(let y=0;y<j.length;y+=1){let L=Qe(t,j,y),H=le(L);u.set(H,a[y]=et(H,L))}let T=t[1]==!0&&tt(t);return{c(){e=w("main"),oe(l.$$.fragment),o=Z(),oe(s.$$.fragment),i=Z(),oe(r.$$.fragment),c=Z();for(let y=0;y<a.length;y+=1)a[y].c();p=Z(),T&&T.c(),h=Z(),_=w("div"),k=w("div"),b=P(m),O=P(" : "),I=P(N),G=Z(),A=w("div"),v=P(x),g(e,"width",E.SCREEN_WIDTH+"px"),g(e,"height",E.SCREEN_HEIGHT+"px"),g(e,"background",ge[t[0].level].bg),n(e,"class","svelte-sjb5bh"),n(_,"class","score svelte-sjb5bh")},m(y,L){U(y,e,L),te(l,e,null),f(e,o),te(s,e,null),f(e,i),te(r,e,null),f(e,c);for(let H=0;H<a.length;H+=1)a[H].m(e,null);f(e,p),T&&T.m(e,null),U(y,h,L),U(y,_,L),f(_,k),f(k,b),f(k,O),f(k,I),f(_,G),f(_,A),f(A,v),B=!0,F||(V=be(window,"keydown",t[8]),F=!0)},p(y,L){const H={};L[0]&32&&(H.direction=y[5]),L[0]&64&&(H.snakeBodies=y[6]),s.$set(H);const ee={};L[0]&8&&(ee.left=y[3]),L[0]&16&&(ee.top=y[4]),r.$set(ee),L[0]&640&&(j=y[7],Ce(),a=mt(a,L,le,1,y,j,u,e,gt,et,p,Qe),Le()),y[1]==!0?T?(T.p(y,L),L[0]&2&&K(T,1)):(T=tt(y),T.c(),K(T,1),T.m(e,null)):T&&(Ce(),$(T,1,1,()=>{T=null}),Le()),(!B||L[0]&1)&&g(e,"background",ge[y[0].level].bg),(!B||L[0]&1)&&m!==(m=y[0].level+"")&&Q(b,m),(!B||L[0]&1)&&N!==(N=y[0].score+"")&&Q(I,N),(!B||L[0]&1)&&x!==(x=y[0].bonus+"")&&Q(v,x)},i(y){if(!B){K(l.$$.fragment,y),K(s.$$.fragment,y),K(r.$$.fragment,y);for(let L=0;L<j.length;L+=1)K(a[L]);K(T),B=!0}},o(y){$(l.$$.fragment,y),$(s.$$.fragment,y),$(r.$$.fragment,y);for(let L=0;L<a.length;L+=1)$(a[L]);$(T),B=!1},d(y){y&&R(e),ne(l),ne(s),ne(r);for(let L=0;L<a.length;L+=1)a[L].d();T&&T.d(),y&&R(h),y&&R(_),F=!1,V()}}}function Jt(t,e,l){let o=!1,s=!1,i=we.NEXT_LEVEL,r=!1,c;ce.subscribe(S=>{}),ie.subscribe(S=>{l(0,c=S)});const a=()=>{N(we.GAME_OVER),clearInterval(m),setTimeout(()=>{I(),T(),ce.gameOver()},ae.MESSAGE_TIME)};let u=0,p=0,h=M.RIGHT,_=[],k=[],m;const b=E.SCREEN_WIDTH,O=E.SCREEN_HEIGHT,N=S=>{l(2,i=S),l(1,s=!0)},I=()=>{l(1,s=!1),l(2,i=we.GAME_OVER)},G=()=>{N(we.NEXT_LEVEL),clearInterval(m),setTimeout(()=>{I(),ie.nextLevel(),ie.resetScore(),F(),T()},ae.MESSAGE_TIME)},A=S=>{k.forEach(C=>{V(S,C)&&(fe(C.id),ie.getBonus())})},x=()=>{_.length/ae.MAX_POINTS>1&&_.length%ae.MAX_POINTS==0&&(c.level<ge.length-1?G():(clearInterval(m),ce.allLevelsCleared()))},v=()=>{let{left:S,top:C}=_[0];return h===M.UP?C-=E.BLOCK_SIZE:h===M.DOWN?C+=E.BLOCK_SIZE:h===M.LEFT?S-=E.BLOCK_SIZE:h===M.RIGHT&&(S+=E.BLOCK_SIZE),{left:S,top:C}},B=S=>{V(S,{left:u,top:p})&&(l(6,_=[..._,_[_.length-1]]),ie.eatFood(),le(),c.food%5==0&&de())},F=()=>{let S=ge.length-c.level;S=S*ae.DELAY,m=setInterval(()=>{r=!0,L()&&(r=!1,a()),y();const C=v();A(C),_.pop(),l(6,_=[C,..._]),B(C),x(),r=!1},S)},V=(S,C)=>!(S.top<C.top||S.top>C.top||S.left<C.left||S.left>C.left),j=()=>{let S=0,C=0;for(;;){S=Math.floor(Math.random()*(O/E.BLOCK_SIZE))*E.BLOCK_SIZE,C=Math.floor(Math.random()*(b/E.BLOCK_SIZE))*E.BLOCK_SIZE;let q=_.findIndex(re=>{re.top==S}),ve=_.findIndex(re=>{re.left==C});if(q==-1&&ve==-1)break}return{top:S,left:C}},le=()=>{const{top:S,left:C}=j();l(3,u=C),l(4,p=S)},T=()=>{le(),l(5,h=M.RIGHT),l(6,_=[{left:E.BLOCK_SIZE*2,top:0},{left:E.BLOCK_SIZE,top:0},{left:0,top:0}])},y=()=>{const{top:S,left:C}=_[0];C+E.BLOCK_SIZE,S+E.BLOCK_SIZE,C>=b&&h==M.RIGHT&&l(6,_[0].left=-2*E.BLOCK_SIZE,_),C<0&&h==M.LEFT&&l(6,_[0].left=b+E.BLOCK_SIZE,_),S<0&&h==M.UP&&l(6,_[0].top=O+E.BLOCK_SIZE,_),S>=O&&h==M.DOWN&&l(6,_[0].top=-2*E.BLOCK_SIZE,_)},L=()=>_.slice(1).filter(q=>V(q,_[0])).length>0,H=()=>{clearInterval(m)},ee=S=>S===he.UP&&h!=M.DOWN?M.UP:S===he.RIGHT&&h!=M.LEFT?M.RIGHT:S===he.LEFT&&h!=M.RIGHT?M.LEFT:S===he.DOWN&&h!=M.UP?M.DOWN:M.UNKNOWN,Se=S=>{if(r)return;const C=S.code;if(C===he.SPACEBAR&&(o=!o,o?H():F()),o)return;const q=ee(C);q!=M.UNKNOWN&&l(5,h=q)},Oe=S=>{fe(S.detail)},de=()=>{const S=Ut();let C={top:0,left:0,id:S};C.top=Math.floor(Math.random()*(O/E.BLOCK_SIZE))*E.BLOCK_SIZE,C.left=Math.floor(Math.random()*(b/E.BLOCK_SIZE))*E.BLOCK_SIZE,k.push(C),l(7,k)},fe=S=>{const C=k.findIndex(q=>q.id==S);C!=-1&&(k.splice(C,1),l(7,k))};return F(),T(),t.$$.update=()=>{t.$$.dirty[0]&1&&ge[c.level-1].wall},[c,s,i,u,p,h,_,k,Se,Oe]}class Ue extends Y{constructor(e){super(),X(this,e,Jt,Yt,z,{},null,[-1,-1])}}function Qt(t){let e,l,o,s,i,r,c;return{c(){e=w("div"),l=w("div"),l.textContent="Snake",o=Z(),s=w("div"),i=w("button"),i.textContent="Start",n(l,"class","title svelte-yxm8be"),n(s,"class","btn svelte-yxm8be"),n(e,"class","start-screen svelte-yxm8be")},m(a,u){U(a,e,u),f(e,l),f(e,o),f(e,s),f(s,i),r||(c=be(i,"click",t[0]),r=!0)},p:D,i:D,o:D,d(a){a&&R(e),r=!1,c()}}}function en(t){return[()=>{console.log("start game"),ce.startGame()}]}class tn extends Y{constructor(e){super(),X(this,e,en,Qt,z,{})}}function nn(t){let e,l,o,s,i,r,c,a;return{c(){e=w("div"),l=w("div"),l.textContent="Congratulations !",o=Z(),s=w("div"),s.textContent="You have cleared all the levels.",i=Z(),r=w("button"),r.textContent="Menu",n(l,"class","title svelte-gyhhqq"),n(e,"class","final svelte-gyhhqq")},m(u,p){U(u,e,p),f(e,l),f(e,o),f(e,s),f(e,i),f(e,r),c||(a=be(r,"click",t[0]),c=!0)},p:D,i:D,o:D,d(u){u&&R(e),c=!1,a()}}}function ln(t){return[()=>{console.log("restart game"),ce.welcomeScreen()}]}class sn extends Y{constructor(e){super(),X(this,e,ln,nn,z,{})}}var W=(t=>(t.NOT_STARTED="NOT_STARTED",t.RUNNING="RUNNING",t.PAUSED="PAUSED",t.RESUME="RESUME",t.GAME_OVER="GAME OVER",t.ALL_LEVELS_CLEARED="ALL_LEVELS_CLEARED",t))(W||{});const on=()=>{const t=[{status:W.NOT_STARTED,component:tn},{status:W.RUNNING,component:Ue},{status:W.PAUSED,component:Ue},{status:W.RESUME,component:Ue},{status:W.GAME_OVER,component:Ot},{status:W.ALL_LEVELS_CLEARED,component:sn}];let{update:e,subscribe:l}=rt(t.find(u=>u.status==W.RUNNING));return{subscribe:l,startGame:()=>{e(u=>(u=t.find(p=>p.status==W.RUNNING),u))},pauseGame:()=>{e(u=>(u=t.find(p=>p.status==W.PAUSED),u))},resumeGame:()=>{e(u=>(u=t.find(p=>p.status==W.RUNNING),u))},gameOver:()=>{e(u=>(u=t.find(p=>p.status==W.GAME_OVER),u))},welcomeScreen:()=>{e(u=>(u=t.find(p=>p.status==W.NOT_STARTED),u))},allLevelsCleared:()=>{e(u=>(u=t.find(p=>p.status==W.ALL_LEVELS_CLEARED),u))}}},ce=on();function rn(t){let e,l,o;var s=t[0].component;function i(r){return{}}return s&&(l=new s(i())),{c(){e=w("div"),l&&oe(l.$$.fragment),n(e,"class","container svelte-16au4d0"),g(e,"width",E.SCREEN_WIDTH+"px"),g(e,"height",E.SCREEN_HEIGHT+"px")},m(r,c){U(r,e,c),l&&te(l,e,null),o=!0},p(r,[c]){if(s!==(s=r[0].component)){if(l){Ce();const a=l;$(a.$$.fragment,1,0,()=>{ne(a,1)}),Le()}s?(l=new s(i()),oe(l.$$.fragment),K(l.$$.fragment,1),te(l,e,null)):l=null}},i(r){o||(l&&K(l.$$.fragment,r),o=!0)},o(r){l&&$(l.$$.fragment,r),o=!1},d(r){r&&R(e),l&&ne(l)}}}function cn(t,e,l){let o;return ce.subscribe(s=>{l(0,o=s)}),[o]}class fn extends Y{constructor(e){super(),X(this,e,cn,rn,z,{})}}new fn({target:document.getElementById("app")});
