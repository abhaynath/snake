(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function v(){}function Pe(e){return e()}function $e(){return Object.create(null)}function Q(e){e.forEach(Pe)}function Ve(e){return typeof e=="function"}function $(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function je(e){return Object.keys(e).length===0}function u(e,t){e.appendChild(t)}function O(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode.removeChild(e)}function qe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function a(e){return document.createElement(e)}function H(e){return document.createTextNode(e)}function C(){return H(" ")}function Je(){return H("")}function ge(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function _(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Qe(e){return Array.from(e.childNodes)}function k(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function E(e,t,n,o){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}let Le;function Y(e){Le=e}const X=[],Ke=[],he=[],Ae=[],Xe=Promise.resolve();let Te=!1;function Ye(){Te||(Te=!0,Xe.then(We))}function Ge(e){he.push(e)}const Ce=new Set;let pe=0;function We(){const e=Le;do{for(;pe<X.length;){const t=X[pe];pe++,Y(t),et(t.$$)}for(Y(null),X.length=0,pe=0;Ke.length;)Ke.pop()();for(let t=0;t<he.length;t+=1){const n=he[t];Ce.has(n)||(Ce.add(n),n())}he.length=0}while(X.length);for(;Ae.length;)Ae.pop()();Te=!1,Ce.clear(),Y(e)}function et(e){if(e.fragment!==null){e.update(),Q(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Ge)}}const me=new Set;let A;function De(){A={r:0,c:[],p:A}}function Fe(){A.r||Q(A.c),A=A.p}function w(e,t){e&&e.i&&(me.delete(e),e.i(t))}function x(e,t,n,o){if(e&&e.o){if(me.has(e))return;me.add(e),A.c.push(()=>{me.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}function ee(e){e&&e.c()}function j(e,t,n,o){const{fragment:s,on_mount:r,on_destroy:c,after_update:f}=e.$$;s&&s.m(t,n),o||Ge(()=>{const l=r.map(Pe).filter(Ve);c?c.push(...l):Q(l),e.$$.on_mount=[]}),f.forEach(Ge)}function q(e,t){const n=e.$$;n.fragment!==null&&(Q(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(e,t){e.$$.dirty[0]===-1&&(X.push(e),Ye(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function U(e,t,n,o,s,r,c,f=[-1]){const l=Le;Y(e);const i=e.$$={fragment:null,ctx:null,props:r,update:v,not_equal:s,bound:$e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:$e(),dirty:f,skip_bound:!1,root:t.target||l.$$.root};c&&c(i.root);let y=!1;if(i.ctx=n?n(e,t.props||{},(g,d,...h)=>{const S=h.length?h[0]:d;return i.ctx&&s(i.ctx[g],i.ctx[g]=S)&&(!i.skip_bound&&i.bound[g]&&i.bound[g](S),y&&tt(e,g)),d}):[],i.update(),y=!0,Q(i.before_update),i.fragment=o?o(i.ctx):!1,t.target){if(t.hydrate){const g=Qe(t.target);i.fragment&&i.fragment.l(g),g.forEach(N)}else i.fragment&&i.fragment.c();t.intro&&w(e.$$.fragment),j(e,t.target,t.anchor,t.customElement),We()}Y(l)}class Z{$destroy(){q(this,1),this.$destroy=v}$on(t,n){const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const s=o.indexOf(n);s!==-1&&o.splice(s,1)}}$set(t){this.$$set&&!je(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var b=(e=>(e.UP="up",e.RIGHT="right",e.LEFT="left",e.DOWN="down",e.UNKNOWN="",e))(b||{}),p=(e=>(e[e.SCREEN_WIDTH=600]="SCREEN_WIDTH",e[e.SCREEN_HEIGHT=400]="SCREEN_HEIGHT",e[e.BLOCK_SIZE=25]="BLOCK_SIZE",e))(p||{});const V=[];function ze(e,t=v){let n;const o=new Set;function s(f){if($(e,f)&&(e=f,n)){const l=!V.length;for(const i of o)i[1](),V.push(i,e);if(l){for(let i=0;i<V.length;i+=2)V[i][0](V[i+1]);V.length=0}}}function r(f){s(f(e))}function c(f,l=v){const i=[f,l];return o.add(i),o.size===1&&(n=t(s)||v),f(e),()=>{o.delete(i),o.size===0&&(n(),n=null)}}return{set:s,update:r,subscribe:c}}const nt=()=>{let e={playerName:"Abhay",level:1,stage:1,score:0,highScore:0,bonus:0,food:0},{update:t,subscribe:n}=ze(e);return{subscribe:n,resetScore:()=>{t(r=>(r.food=0,r.bonus=0,r.score=0,r))},eatFood:()=>{t(r=>(r.food=r.food+1,r.score=r.food*5+r.bonus*20,r.score>r.highScore&&(r.highScore=r.score),r))}}};let Ee=nt();function st(e){let t,n,o,s,r,c,f,l=e[0].playerName+"",i,y,g,d,h,S=e[0].score+"",L,te,M,P,W,m=e[0].food+"",T,B,K,D,ne,se=e[0].bonus+"",Se,He,oe,re,le,ce=e[0].highScore+"",ve,Re,ie,fe,F,ue=e[0].level+"",ye,be,ae=e[0].stage+"",Ne,we,z,de,Be,_e,Ie,ke;return{c(){t=a("div"),n=a("div"),n.textContent="Snake",o=C(),s=a("table"),r=a("tr"),c=a("td"),c.textContent="Player",f=a("td"),i=H(l),y=C(),g=a("tr"),d=a("td"),d.textContent="Score",h=a("td"),L=H(S),te=C(),M=a("tr"),P=a("td"),P.textContent="Food",W=a("td"),T=H(m),B=C(),K=a("tr"),D=a("td"),D.textContent="Bonus",ne=a("td"),Se=H(se),He=C(),oe=a("tr"),re=a("td"),re.textContent="High Score",le=a("td"),ve=H(ce),Re=C(),ie=a("tr"),fe=a("td"),fe.textContent="Level-Stage",F=a("td"),ye=H(ue),be=a("span"),be.textContent="-",Ne=H(ae),we=C(),z=a("div"),de=a("button"),de.textContent="Replay",Be=C(),_e=a("button"),_e.textContent="Menu",_(n,"class","title svelte-1phc8sd"),_(c,"class","c1 svelte-1phc8sd"),_(f,"class","c2 svelte-1phc8sd"),_(d,"class","c1 svelte-1phc8sd"),_(h,"class","c2 svelte-1phc8sd"),_(P,"class","c1 svelte-1phc8sd"),_(W,"class","c2 svelte-1phc8sd"),_(D,"class","c1 svelte-1phc8sd"),_(ne,"class","c2 svelte-1phc8sd"),_(re,"class","c1 svelte-1phc8sd"),_(le,"class","c2 svelte-1phc8sd"),_(fe,"class","c1 svelte-1phc8sd"),_(F,"class","c2 svelte-1phc8sd"),_(s,"class","svelte-1phc8sd"),_(z,"class","flex svelte-1phc8sd"),_(t,"class","game-over-screen svelte-1phc8sd")},m(G,R){O(G,t,R),u(t,n),u(t,o),u(t,s),u(s,r),u(r,c),u(r,f),u(f,i),u(s,y),u(s,g),u(g,d),u(g,h),u(h,L),u(s,te),u(s,M),u(M,P),u(M,W),u(W,T),u(s,B),u(s,K),u(K,D),u(K,ne),u(ne,Se),u(s,He),u(s,oe),u(oe,re),u(oe,le),u(le,ve),u(s,Re),u(s,ie),u(ie,fe),u(ie,F),u(F,ye),u(F,be),u(F,Ne),u(t,we),u(t,z),u(z,de),u(z,Be),u(z,_e),Ie||(ke=[ge(de,"click",e[2]),ge(_e,"click",e[1])],Ie=!0)},p(G,[R]){R&1&&l!==(l=G[0].playerName+"")&&k(i,l),R&1&&S!==(S=G[0].score+"")&&k(L,S),R&1&&m!==(m=G[0].food+"")&&k(T,m),R&1&&se!==(se=G[0].bonus+"")&&k(Se,se),R&1&&ce!==(ce=G[0].highScore+"")&&k(ve,ce),R&1&&ue!==(ue=G[0].level+"")&&k(ye,ue),R&1&&ae!==(ae=G[0].stage+"")&&k(Ne,ae)},i:v,o:v,d(G){G&&N(t),Ie=!1,Q(ke)}}}function ot(e,t,n){const o=()=>{console.log("restart game"),J.welcomeScreen()},s=()=>{Ee.resetScore(),J.startGame()};let r;return Ee.subscribe(c=>{n(0,r=c)}),[r,o,s]}class rt extends Z{constructor(t){super(),U(this,t,ot,st,$,{})}}function lt(e){let t;return{c(){t=a("div"),_(t,"class","food svelte-14olvay"),E(t,"left",e[1]+"px"),E(t,"top",e[0]+"px"),E(t,"width",p.BLOCK_SIZE-2+"px"),E(t,"height",p.BLOCK_SIZE-2+"px")},m(n,o){O(n,t,o)},p(n,[o]){o&2&&E(t,"left",n[1]+"px"),o&1&&E(t,"top",n[0]+"px")},i:v,o:v,d(n){n&&N(t)}}}function ct(e,t,n){let{foodTop:o=0}=t,{foodLeft:s=0}=t;return e.$$set=r=>{"foodTop"in r&&n(0,o=r.foodTop),"foodLeft"in r&&n(1,s=r.foodLeft)},[o,s]}class it extends Z{constructor(t){super(),U(this,t,ct,lt,$,{foodTop:0,foodLeft:1})}}function xe(e){let t,n,o;return{c(){t=a("div"),n=C(),o=a("div"),_(t,"id","leftEye"),_(t,"class","eyes svelte-rzshp"),_(o,"id","rightEye"),_(o,"class","eyes svelte-rzshp")},m(s,r){O(s,t,r),O(s,n,r),O(s,o,r)},d(s){s&&N(t),s&&N(n),s&&N(o)}}}function ft(e){let t,n,o=e[2]&&xe();return{c(){t=a("div"),o&&o.c(),E(t,"left",e[1]+"px"),E(t,"top",e[0]+"px"),E(t,"width",p.BLOCK_SIZE+"px"),E(t,"height",p.BLOCK_SIZE+"px"),_(t,"class",n="snake-body "+e[3]+" svelte-rzshp")},m(s,r){O(s,t,r),o&&o.m(t,null)},p(s,[r]){s[2]?o||(o=xe(),o.c(),o.m(t,null)):o&&(o.d(1),o=null),r&2&&E(t,"left",s[1]+"px"),r&1&&E(t,"top",s[0]+"px"),r&8&&n!==(n="snake-body "+s[3]+" svelte-rzshp")&&_(t,"class",n)},i:v,o:v,d(s){s&&N(t),o&&o.d()}}}function ut(e,t,n){let{top:o=p.BLOCK_SIZE}=t,{left:s=p.BLOCK_SIZE}=t,{isHead:r=!1}=t,{direction:c="right"}=t;return e.$$set=f=>{"top"in f&&n(0,o=f.top),"left"in f&&n(1,s=f.left),"isHead"in f&&n(2,r=f.isHead),"direction"in f&&n(3,c=f.direction)},[o,s,r,c]}class at extends Z{constructor(t){super(),U(this,t,ut,ft,$,{top:0,left:1,isHead:2,direction:3})}}function Ue(e,t,n){const o=e.slice();return o[2]=t[n],o[4]=n,o}function Ze(e){let t,n;return t=new at({props:{isHead:e[4]==0,top:e[2].top,left:e[2].left,direction:e[1]}}),{c(){ee(t.$$.fragment)},m(o,s){j(t,o,s),n=!0},p(o,s){const r={};s&1&&(r.top=o[2].top),s&1&&(r.left=o[2].left),s&2&&(r.direction=o[1]),t.$set(r)},i(o){n||(w(t.$$.fragment,o),n=!0)},o(o){x(t.$$.fragment,o),n=!1},d(o){q(t,o)}}}function dt(e){let t,n,o=e[0],s=[];for(let c=0;c<o.length;c+=1)s[c]=Ze(Ue(e,o,c));const r=c=>x(s[c],1,1,()=>{s[c]=null});return{c(){for(let c=0;c<s.length;c+=1)s[c].c();t=Je()},m(c,f){for(let l=0;l<s.length;l+=1)s[l].m(c,f);O(c,t,f),n=!0},p(c,[f]){if(f&3){o=c[0];let l;for(l=0;l<o.length;l+=1){const i=Ue(c,o,l);s[l]?(s[l].p(i,f),w(s[l],1)):(s[l]=Ze(i),s[l].c(),w(s[l],1),s[l].m(t.parentNode,t))}for(De(),l=o.length;l<s.length;l+=1)r(l);Fe()}},i(c){if(!n){for(let f=0;f<o.length;f+=1)w(s[f]);n=!0}},o(c){s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)x(s[f]);n=!1},d(c){qe(s,c),c&&N(t)}}}function _t(e,t,n){let{snakeBodies:o=[]}=t,{direction:s="right"}=t;return e.$$set=r=>{"snakeBodies"in r&&n(0,o=r.snakeBodies),"direction"in r&&n(1,s=r.direction)},[o,s]}class pt extends Z{constructor(t){super(),U(this,t,_t,dt,$,{snakeBodies:0,direction:1})}}function ht(e){let t,n,o,s,r,c,f=e[0].score+"",l,i,y,g;return n=new pt({props:{direction:e[3],snakeBodies:e[4]}}),s=new it({props:{foodLeft:e[1],foodTop:e[2]}}),{c(){t=a("main"),ee(n.$$.fragment),o=C(),ee(s.$$.fragment),r=C(),c=a("div"),l=H(f),E(t,"width",p.SCREEN_WIDTH+"px"),E(t,"height",p.SCREEN_HEIGHT+"px"),_(t,"class","svelte-lscsys"),_(c,"class","score svelte-lscsys")},m(d,h){O(d,t,h),j(n,t,null),u(t,o),j(s,t,null),O(d,r,h),O(d,c,h),u(c,l),i=!0,y||(g=ge(window,"keydown",e[5]),y=!0)},p(d,[h]){const S={};h&8&&(S.direction=d[3]),h&16&&(S.snakeBodies=d[4]),n.$set(S);const L={};h&2&&(L.foodLeft=d[1]),h&4&&(L.foodTop=d[2]),s.$set(L),(!i||h&1)&&f!==(f=d[0].score+"")&&k(l,f)},i(d){i||(w(n.$$.fragment,d),w(s.$$.fragment,d),i=!0)},o(d){x(n.$$.fragment,d),x(s.$$.fragment,d),i=!1},d(d){d&&N(t),q(n),q(s),d&&N(r),d&&N(c),y=!1,g()}}}function Me(e,t){return!(e.top<t.top||e.top>t.top||e.left<t.left||e.left>t.left)}function mt(e,t,n){let o=!1;p.SCREEN_WIDTH/2,p.SCREEN_HEIGHT/2;let s;J.subscribe(m=>{}),Ee.subscribe(m=>{n(0,s=m)});const r=()=>{console.log("game over"),J.gameOver()};let c=0,f=0,l=b.RIGHT,i=[],y;const g=p.SCREEN_WIDTH,d=p.SCREEN_HEIGHT,h=()=>{y=setInterval(()=>{i.pop();let{left:m,top:T}=i[0];l===b.UP?T-=p.BLOCK_SIZE:l===b.DOWN?T+=p.BLOCK_SIZE:l===b.LEFT?m-=p.BLOCK_SIZE:l===b.RIGHT&&(m+=p.BLOCK_SIZE);const B={left:m,top:T};n(4,i=[B,...i]),Me(B,{left:c,top:f})&&(S(),Ee.eatFood(),n(4,i=[...i,i[i.length-1]])),te()&&(clearInterval(y),L(),r())},200)};function S(){n(2,f=Math.floor(Math.random()*(d/p.BLOCK_SIZE))*p.BLOCK_SIZE),n(1,c=Math.floor(Math.random()*(g/p.BLOCK_SIZE))*p.BLOCK_SIZE)}function L(){S(),n(3,l=b.RIGHT),n(4,i=[{left:p.BLOCK_SIZE*2,top:0},{left:p.BLOCK_SIZE,top:0},{left:0,top:0}])}function te(){if(i.slice(1).filter(D=>Me(D,i[0])).length>0)return!0;const{top:B,left:K}=i[0];return B>=d||B<0||K<0||K>=g}function M(){console.log("pauseGame"),clearInterval(y)}function P(m){return m===38?b.UP:m===39?b.RIGHT:m===37?b.LEFT:m===40?b.DOWN:b.UNKNOWN}function W(m){if(m.keyCode===32&&(o=!o,o?M():h()),o)return;const T=P(m.keyCode);T!=b.UNKNOWN&&n(3,l=T)}return h(),L(),[s,c,f,l,i,W]}class Oe extends Z{constructor(t){super(),U(this,t,mt,ht,$,{})}}function gt(e){let t,n,o,s,r,c,f;return{c(){t=a("div"),n=a("div"),n.textContent="Snake",o=C(),s=a("div"),r=a("button"),r.textContent="Start",_(n,"class","title svelte-yxm8be"),_(s,"class","btn svelte-yxm8be"),_(t,"class","start-screen svelte-yxm8be")},m(l,i){O(l,t,i),u(t,n),u(t,o),u(t,s),u(s,r),c||(f=ge(r,"click",e[0]),c=!0)},p:v,i:v,o:v,d(l){l&&N(t),c=!1,f()}}}function Et(e){return[()=>{console.log("start game"),J.startGame()}]}class St extends Z{constructor(t){super(),U(this,t,Et,gt,$,{})}}var I=(e=>(e.NOT_STARTED="NOT_STARTED",e.RUNNING="RUNNING",e.PAUSED="PAUSED",e.RESUME="RESUME",e.GAME_OVER="GAME OVER",e))(I||{});const vt=()=>{const e=[{status:I.NOT_STARTED,component:St},{status:I.RUNNING,component:Oe},{status:I.PAUSED,component:Oe},{status:I.RESUME,component:Oe},{status:I.GAME_OVER,component:rt}];let{update:t,subscribe:n}=ze(e.find(l=>l.status==I.GAME_OVER));return{subscribe:n,startGame:()=>{t(l=>(l=e.find(i=>i.status==I.RUNNING),l))},pauseGame:()=>{t(l=>(l=e.find(i=>i.status==I.PAUSED),l))},resumeGame:()=>{t(l=>(l=e.find(i=>i.status==I.RUNNING),l))},gameOver:()=>{t(l=>(l=e.find(i=>i.status==I.GAME_OVER),l))},welcomeScreen:()=>{t(l=>(l=e.find(i=>i.status==I.NOT_STARTED),l))}}},J=vt();function yt(e){let t,n,o;var s=e[0].component;function r(c){return{}}return s&&(n=new s(r())),{c(){t=a("div"),n&&ee(n.$$.fragment),_(t,"class","container svelte-16au4d0"),E(t,"width",p.SCREEN_WIDTH+"px"),E(t,"height",p.SCREEN_HEIGHT+"px")},m(c,f){O(c,t,f),n&&j(n,t,null),o=!0},p(c,[f]){if(s!==(s=c[0].component)){if(n){De();const l=n;x(l.$$.fragment,1,0,()=>{q(l,1)}),Fe()}s?(n=new s(r()),ee(n.$$.fragment),w(n.$$.fragment,1),j(n,t,null)):n=null}},i(c){o||(n&&w(n.$$.fragment,c),o=!0)},o(c){n&&x(n.$$.fragment,c),o=!1},d(c){c&&N(t),n&&q(n)}}}function bt(e,t,n){let o;return J.subscribe(s=>{n(0,o=s)}),[o]}class Nt extends Z{constructor(t){super(),U(this,t,bt,yt,$,{})}}new Nt({target:document.getElementById("app")});
