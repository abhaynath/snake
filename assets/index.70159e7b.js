(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function B(){}function lt(t){return t()}function Ye(){return Object.create(null)}function fe(t){t.forEach(lt)}function st(t){return typeof t=="function"}function W(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function at(t){return Object.keys(t).length===0}function ze(t){return t==null?"":t}function dt(t){return t&&st(t.destroy)?t.destroy:B}function f(t,e){t.appendChild(e)}function D(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode.removeChild(t)}function it(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function k(t){return document.createElement(t)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function j(t){return document.createTextNode(t)}function U(){return j(" ")}function Ve(){return j("")}function se(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function l(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function pt(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function ht(t){return Array.from(t.childNodes)}function ne(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function v(t,e,n,s){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}let Me;function _t(){if(Me===void 0){Me=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Me=!0}}return Me}function gt(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const s=k("iframe");s.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),s.setAttribute("aria-hidden","true"),s.tabIndex=-1;const o=_t();let r;return o?(s.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=se(window,"message",i=>{i.source===s.contentWindow&&e()})):(s.src="about:blank",s.onload=()=>{r=se(s.contentWindow,"resize",e)}),f(t,s),()=>{(o||r&&s.contentWindow)&&r(),C(s)}}function mt(t,e,{bubbles:n=!1,cancelable:s=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,s,e),o}let Le;function Ae(t){Le=t}function Xe(){if(!Le)throw new Error("Function called outside component initialization");return Le}function rt(t){Xe().$$.on_mount.push(t)}function yt(t){Xe().$$.after_update.push(t)}function vt(){const t=Xe();return(e,n,{cancelable:s=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=mt(e,n,{cancelable:s});return o.slice().forEach(i=>{i.call(t,r)}),!r.defaultPrevented}return!0}}const be=[],je=[],Ce=[],Ze=[],wt=Promise.resolve();let He=!1;function Et(){He||(He=!0,wt.then(ct))}function Re(t){Ce.push(t)}const xe=new Set;let Ie=0;function ct(){const t=Le;do{for(;Ie<be.length;){const e=be[Ie];Ie++,Ae(e),St(e.$$)}for(Ae(null),be.length=0,Ie=0;je.length;)je.pop()();for(let e=0;e<Ce.length;e+=1){const n=Ce[e];xe.has(n)||(xe.add(n),n())}Ce.length=0}while(be.length);for(;Ze.length;)Ze.pop()();He=!1,xe.clear(),Ae(t)}function St(t){if(t.fragment!==null){t.update(),fe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Re)}}const De=new Set;let ce;function Fe(){ce={r:0,c:[],p:ce}}function Ne(){ce.r||fe(ce.c),ce=ce.p}function T(t,e){t&&t.i&&(De.delete(t),t.i(e))}function x(t,e,n,s){if(t&&t.o){if(De.has(t))return;De.add(t),ce.c.push(()=>{De.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}function bt(t,e){x(t,1,1,()=>{e.delete(t.key)})}function kt(t,e,n,s,o,r,i,c,a,u,h,d){let A=t.length,L=r.length,w=A;const g={};for(;w--;)g[t[w].key]=w;const y=[],m=new Map,F=new Map;for(w=L;w--;){const E=d(o,r,w),_=n(E);let S=i.get(_);S?s&&S.p(E,e):(S=u(_,E),S.c()),m.set(_,y[w]=S),_ in g&&F.set(_,Math.abs(w-g[_]))}const O=new Set,G=new Set;function z(E){T(E,1),E.m(c,h),i.set(E.key,E),h=E.first,L--}for(;A&&L;){const E=y[L-1],_=t[A-1],S=E.key,M=_.key;E===_?(h=E.first,A--,L--):m.has(M)?!i.has(S)||O.has(S)?z(E):G.has(M)?A--:F.get(S)>F.get(M)?(G.add(S),z(E)):(O.add(M),A--):(a(_,i),A--)}for(;A--;){const E=t[A];m.has(E.key)||a(E,i)}for(;L;)z(y[L-1]);return y}function $(t){t&&t.c()}function Z(t,e,n,s){const{fragment:o,on_mount:r,on_destroy:i,after_update:c}=t.$$;o&&o.m(e,n),s||Re(()=>{const a=r.map(lt).filter(st);i?i.push(...a):fe(a),t.$$.on_mount=[]}),c.forEach(Re)}function J(t,e){const n=t.$$;n.fragment!==null&&(fe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function At(t,e){t.$$.dirty[0]===-1&&(be.push(t),Et(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(t,e,n,s,o,r,i,c=[-1]){const a=Le;Ae(t);const u=t.$$={fragment:null,ctx:null,props:r,update:B,not_equal:o,bound:Ye(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ye(),dirty:c,skip_bound:!1,root:e.target||a.$$.root};i&&i(u.root);let h=!1;if(u.ctx=n?n(t,e.props||{},(d,A,...L)=>{const w=L.length?L[0]:A;return u.ctx&&o(u.ctx[d],u.ctx[d]=w)&&(!u.skip_bound&&u.bound[d]&&u.bound[d](w),h&&At(t,d)),A}):[],u.update(),h=!0,fe(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const d=ht(e.target);u.fragment&&u.fragment.l(d),d.forEach(C)}else u.fragment&&u.fragment.c();e.intro&&T(t.$$.fragment),Z(t,e.target,e.anchor,e.customElement),ct()}Ae(a)}class q{$destroy(){J(this,1),this.$destroy=B}$on(e,n){const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const o=s.indexOf(n);o!==-1&&s.splice(o,1)}}$set(e){this.$$set&&!at(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var I=(t=>(t.UP="up",t.RIGHT="right",t.LEFT="left",t.DOWN="down",t.UNKNOWN="",t))(I||{}),R=(t=>(t[t.DELAY=100]="DELAY",t[t.MAX_POINTS=50]="MAX_POINTS",t[t.BONUS_TIME=5e3]="BONUS_TIME",t[t.MESSAGE_TIME=3e3]="MESSAGE_TIME",t[t.MAX_BLOCKS=20]="MAX_BLOCKS",t))(R||{}),ye=(t=>(t.UP="ArrowUp",t.LEFT="ArrowLeft",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.SPACEBAR="Space",t))(ye||{}),ke=(t=>(t.NEXT_LEVEL="Next Level",t.GAME_OVER="Game Over",t))(ke||{});const me=[];function ft(t,e=B){let n;const s=new Set;function o(c){if(W(t,c)&&(t=c,n)){const a=!me.length;for(const u of s)u[1](),me.push(u,t);if(a){for(let u=0;u<me.length;u+=2)me[u][0](me[u+1]);me.length=0}}}function r(c){o(c(t))}function i(c,a=B){const u=[c,a];return s.add(u),s.size===1&&(n=e(o)||B),c(t),()=>{s.delete(u),s.size===0&&(n(),n=null)}}return{set:o,update:r,subscribe:i}}const Lt=()=>{let t={playerName:"Abhay",level:1,stage:1,score:0,highScore:0,bonus:0,food:0},{update:e,subscribe:n}=ft(t);return{subscribe:n,resetScore:()=>{e(c=>(c.food=0,c.bonus=0,c.score=0,c))},eatFood:()=>{e(c=>(c.food=c.food+1,c.score=c.food*5+c.bonus*20,c.score>c.highScore&&(c.highScore=c.score),c))},getBonus:()=>{e(c=>(c.bonus=c.bonus+1,c))},nextLevel:()=>{e(c=>(c.level=c.level+1,c))}}};let oe=Lt();function Ft(t){let e,n,s,o,r,i,c,a,u,h,d,A,L,w,g,y;return{c(){e=k("div"),n=p("svg"),s=p("g"),o=p("g"),r=p("g"),i=p("g"),c=p("ellipse"),a=p("g"),u=p("path"),h=p("path"),d=p("g"),A=p("path"),L=p("g"),w=p("path"),g=p("g"),y=p("ellipse"),l(s,"id","Layer_1"),l(c,"id","shadow"),l(c,"opacity","0.3"),l(c,"cx","438.7"),l(c,"cy","765.8"),l(c,"rx","283"),l(c,"ry","32.9"),l(u,"id","cup-shadow"),l(u,"fill","#E7F4FA"),l(u,"d",`M135.4,492.8c0,0,17,201,77,230c81.1,39.2,258,43.7,392,25.1\r
            c100.5-13.9,115.1-120.1,122-154.4c8-39.7,19.5-119,6.5-137S217.4,370.8,135.4,492.8z`),l(h,"id","cup-light"),l(h,"fill","#FFFFFF"),l(h,"d",`M155.8,563.9c0,0,12.5,129.5,68.5,151.7c75.8,30,241,33.4,366.1,19.2\r
            c93.8-10.7,107.5-92,114-118.3c7.5-30.4,22.7-73.8,15.3-89C711.8,510.9,478.4,406.5,155.8,563.9z`),l(A,"id","mainFood"),l(A,"fill","#DB343C"),l(A,"d",`M57,240.8c35.9-55.2,83.5-142,189.1-192.7C365.6-9.3,527.4-11.2,598.8,20.8\r
            c41.7,18.7,160.6,74,214.5,205.5c92,224.4,10.9,261.8-27.3,263.6s-285.6-42.4-347.6-36.1c-59.9,6.1-148.2,2.1-312.4,77.9\r
            C54.4,564.8,8.4,515.8,0.6,479C-3.5,459.8,13.4,307.8,57,240.8z`),l(w,"id","highlight"),l(w,"opacity","0.3"),l(w,"fill","#FFFFFF"),l(w,"stroke","#000000"),l(w,"stroke-width","0.25"),l(w,"stroke-miterlimit","10"),l(w,"d",`M231.4,76.8\r
            c74.3-34.1,184.9-82.6,345-35c148,44,244,176,207,256s-53.4,66.9-110,58c-83-13-226-101-256-120s-175-97-186-111\r
            S189.5,96,231.4,76.8z`),l(y,"id","c2"),l(y,"fill","#FFFFFF"),l(y,"cx","436.8"),l(y,"cy","144.3"),l(y,"rx","140.6"),l(y,"ry","138.4"),l(g,"id","c1"),l(o,"id","Layer_2"),l(n,"viewBox","0 0 855.6 798.6"),l(e,"class","food svelte-h8lqdv"),v(e,"left",t[1]*t[2]+"px"),v(e,"top",t[0]*t[2]+"px"),v(e,"width",t[2]-2+"px"),v(e,"height",t[2]-2+"px")},m(m,F){D(m,e,F),f(e,n),f(n,s),f(n,o),f(o,r),f(r,i),f(i,c),f(r,a),f(a,u),f(a,h),f(r,d),f(d,A),f(r,L),f(L,w),f(r,g),f(g,y)},p(m,[F]){F&6&&v(e,"left",m[1]*m[2]+"px"),F&5&&v(e,"top",m[0]*m[2]+"px"),F&4&&v(e,"width",m[2]-2+"px"),F&4&&v(e,"height",m[2]-2+"px")},i:B,o:B,d(m){m&&C(e)}}}function Nt(t,e,n){let{top:s=0}=e,{left:o=0}=e,{size:r=0}=e;return t.$$set=i=>{"top"in i&&n(0,s=i.top),"left"in i&&n(1,o=i.left),"size"in i&&n(2,r=i.size)},[s,o,r]}class Bt extends q{constructor(e){super(),K(this,e,Nt,Ft,W,{top:0,left:1,size:2})}}function Ot(t){let e,n,s,o,r;return{c(){e=k("div"),n=p("svg"),s=p("style"),o=j(`.red {\r
        fill: red;\r
        animation: blink 250ms linear infinite;\r
      }\r
      @keyframes blink {\r
        0% {\r
          fill: yellow;\r
        }\r
        50% {\r
          /* opacity: 0.5; */\r
        }\r
        100% {\r
          fill: red;\r
        }\r
      }\r
    `),r=p("polygon"),l(s,"id","style2"),l(r,"fill","#FFA300"),l(r,"stroke","#EB0000"),l(r,"stroke-width","0.25"),l(r,"stroke-miterlimit","10"),l(r,"points",`221.7,0.3 290.1,138.9 443.1,161.1 \r
        332.4,269 358.5,421.4 221.7,349.5 84.8,421.4 111,269 0.3,161.1 153.3,138.9 `),l(r,"class","red"),l(n,"viewBox","0 0 443.3 421.6"),l(e,"class","bonus bounce-top svelte-y90akj"),v(e,"width",t[2]+"px"),v(e,"height",t[2]+"px"),v(e,"left",t[0]*t[2]+"px"),v(e,"top",t[1]*t[2]+"px")},m(i,c){D(i,e,c),f(e,n),f(n,s),f(s,o),f(n,r)},p(i,[c]){c&4&&v(e,"width",i[2]+"px"),c&4&&v(e,"height",i[2]+"px"),c&5&&v(e,"left",i[0]*i[2]+"px"),c&6&&v(e,"top",i[1]*i[2]+"px")},i:B,o:B,d(i){i&&C(e)}}}function Gt(t,e,n){const s=vt();let{left:o}=e,{top:r}=e,{size:i=0}=e,{id:c}=e;return rt(()=>{setTimeout(()=>{s("bonusFinished",c)},R.BONUS_TIME)}),t.$$set=a=>{"left"in a&&n(0,o=a.left),"top"in a&&n(1,r=a.top),"size"in a&&n(2,i=a.size),"id"in a&&n(3,c=a.id)},[o,r,i,c]}class Mt extends q{constructor(e){super(),K(this,e,Gt,Ot,W,{left:0,top:1,size:2,id:3})}}function It(t){let e,n,s,o,r,i,c,a=t[0].playerName+"",u,h,d,A,L,w=t[0].score+"",g,y,m,F,O,G=t[0].food+"",z,E,_,S,M,V=t[0].bonus+"",X,ue,ae,ie,ee,de=t[0].highScore+"",we,Be,pe,he,te,_e=t[0].level+"",ge,Ee,b=t[0].stage+"",N,H,re,Oe,Ke,Ge,Ue,qe;return{c(){e=k("div"),n=k("div"),n.textContent="Snake",s=U(),o=k("table"),r=k("tr"),i=k("td"),i.textContent="Player",c=k("td"),u=j(a),h=U(),d=k("tr"),A=k("td"),A.textContent="Score",L=k("td"),g=j(w),y=U(),m=k("tr"),F=k("td"),F.textContent="Food",O=k("td"),z=j(G),E=U(),_=k("tr"),S=k("td"),S.textContent="Bonus",M=k("td"),X=j(V),ue=U(),ae=k("tr"),ie=k("td"),ie.textContent="High Score",ee=k("td"),we=j(de),Be=U(),pe=k("tr"),he=k("td"),he.textContent="Level-Stage",te=k("td"),ge=j(_e),Ee=k("span"),Ee.textContent="-",N=j(b),H=U(),re=k("div"),Oe=k("button"),Oe.textContent="Replay",Ke=U(),Ge=k("button"),Ge.textContent="Menu",l(n,"class","title svelte-mdywih"),l(i,"class","c1 svelte-mdywih"),l(c,"class","c2 svelte-mdywih"),l(A,"class","c1 svelte-mdywih"),l(L,"class","c2 svelte-mdywih"),l(F,"class","c1 svelte-mdywih"),l(O,"class","c2 svelte-mdywih"),l(S,"class","c1 svelte-mdywih"),l(M,"class","c2 svelte-mdywih"),l(ie,"class","c1 svelte-mdywih"),l(ee,"class","c2 svelte-mdywih"),l(he,"class","c1 svelte-mdywih"),l(te,"class","c2 svelte-mdywih"),l(o,"class","svelte-mdywih"),l(re,"class","flex svelte-mdywih"),l(e,"class","game-over-screen svelte-mdywih")},m(Y,Q){D(Y,e,Q),f(e,n),f(e,s),f(e,o),f(o,r),f(r,i),f(r,c),f(c,u),f(o,h),f(o,d),f(d,A),f(d,L),f(L,g),f(o,y),f(o,m),f(m,F),f(m,O),f(O,z),f(o,E),f(o,_),f(_,S),f(_,M),f(M,X),f(o,ue),f(o,ae),f(ae,ie),f(ae,ee),f(ee,we),f(o,Be),f(o,pe),f(pe,he),f(pe,te),f(te,ge),f(te,Ee),f(te,N),f(e,H),f(e,re),f(re,Oe),f(re,Ke),f(re,Ge),Ue||(qe=[se(Oe,"click",t[2]),se(Ge,"click",t[1])],Ue=!0)},p(Y,[Q]){Q&1&&a!==(a=Y[0].playerName+"")&&ne(u,a),Q&1&&w!==(w=Y[0].score+"")&&ne(g,w),Q&1&&G!==(G=Y[0].food+"")&&ne(z,G),Q&1&&V!==(V=Y[0].bonus+"")&&ne(X,V),Q&1&&de!==(de=Y[0].highScore+"")&&ne(we,de),Q&1&&_e!==(_e=Y[0].level+"")&&ne(ge,_e),Q&1&&b!==(b=Y[0].stage+"")&&ne(N,b)},i:B,o:B,d(Y){Y&&C(e),Ue=!1,fe(qe)}}}function Tt(t,e,n){const s=()=>{console.log("restart game"),le.welcomeScreen()},o=()=>{oe.resetScore(),le.startGame()};let r;return oe.subscribe(i=>{n(0,r=i)}),[r,s,o]}class Ct extends q{constructor(e){super(),K(this,e,Tt,It,W,{})}}const Dt=300,zt=60,ut="none";function Se(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function Rt(t,e){return e.filter(n=>t.pointerId!==n.pointerId)}function Te(t,e,n,s,o){t.dispatchEvent(new CustomEvent(`${e}${o}`,{detail:{event:n,pointersCount:s.length}}))}function Ut(t,e,n,s,o,r=ut){e.style.touchAction=r;let i=[];function c(u){i.push(u),Te(e,t,u,i,"down"),s==null||s(i,u);const h=u.pointerId;function d(m){h===m.pointerId&&(i=Rt(m,i),i.length||A(),Te(e,t,m,i,"up"),o==null||o(i,m))}function A(){L(),w(),g(),y()}const L=Se(e,"pointermove",m=>{i=i.map(F=>m.pointerId===F.pointerId?m:F),Te(e,t,m,i,"move"),n==null||n(i,m)}),w=Se(e,"lostpointercapture",m=>{d(m)}),g=Se(e,"pointerup",m=>{d(m)}),y=Se(e,"pointerleave",m=>{i=[],A(),Te(e,t,m,i,"up"),o==null||o(i,m)})}const a=Se(e,"pointerdown",c);return{destroy:()=>{a()}}}function xt(t,e={timeframe:Dt,minSwipeDistance:zt,touchAction:ut}){const n="swipe";let s,o,r,i;function c(u,h){o=h.clientX,r=h.clientY,s=Date.now(),u.length===1&&(i=h.target)}function a(u,h){if(h.type==="pointerup"&&u.length===0&&Date.now()-s<e.timeframe){const d=h.clientX-o,A=h.clientY-r,L=Math.abs(d),w=Math.abs(A);let g=null;L>=2*w&&L>e.minSwipeDistance?g=d>0?"right":"left":w>=2*L&&w>e.minSwipeDistance&&(g=A>0?"bottom":"top"),g&&t.dispatchEvent(new CustomEvent(n,{detail:{direction:g,target:i}}))}}return Ut(n,t,null,c,a,e.touchAction)}function Pt(t){let e,n;return{c(){e=p("svg"),n=p("rect"),l(n,"y","77"),l(n,"fill","#0037FF"),l(n,"width","258"),l(n,"height","102"),l(e,"viewBox","0 0 258 258"),l(e,"class",ze(t[5]())+" svelte-kpsm61")},m(s,o){D(s,e,o),f(e,n)},p:B,d(s){s&&C(e)}}}function Ht(t){let e,n;return{c(){e=p("svg"),n=p("polygon"),l(n,"fill","#0037FF"),l(n,"points","258,179 0,128 0,128 258,77 "),l(e,"viewBox","0 0 258 258"),l(e,"class",ze(t[5]())+" svelte-kpsm61")},m(s,o){D(s,e,o),f(e,n)},p:B,d(s){s&&C(e)}}}function Wt(t){let e,n,s,o,r,i,c;return{c(){e=p("svg"),n=p("g"),s=p("rect"),o=p("path"),r=p("circle"),i=p("circle"),l(s,"opacity","0"),l(s,"fill","#FFFFFF"),l(s,"width","258"),l(s,"height","258"),l(o,"fill","#0037FF"),l(o,"d",`M147.5,29.2C111.6,29.2,80.1,48,62.6,77H0v104h62.6c17.5,28,49,47.3,84.9,47.3c55,0,99.6-44.6,99.6-99.6\r
          S202.5,29.2,147.5,29.2z`),l(r,"fill","#FFF800"),l(r,"stroke","#000000"),l(r,"stroke-miterlimit","10"),l(r,"cx","184.3"),l(r,"cy","84.5"),l(r,"r","21.8"),l(i,"fill","#FFF800"),l(i,"stroke","#000000"),l(i,"stroke-miterlimit","10"),l(i,"cx","184.3"),l(i,"cy","164.5"),l(i,"r","21.8"),l(e,"viewBox","0 0 258 258"),l(e,"class",c=ze(t[4])+" svelte-kpsm61")},m(a,u){D(a,e,u),f(e,n),f(n,s),f(n,o),f(n,r),f(n,i)},p(a,u){u&16&&c!==(c=ze(a[4])+" svelte-kpsm61")&&l(e,"class",c)},d(a){a&&C(e)}}}function Vt(t){let e;function n(r,i){return r[2]?Wt:r[3]?Ht:Pt}let s=n(t),o=s(t);return{c(){e=k("div"),o.c(),v(e,"left",t[1].left*t[0]+"px"),v(e,"top",t[1].top*t[0]+"px"),v(e,"width",t[0]+"px"),v(e,"height",t[0]+"px"),l(e,"class","snake-body svelte-kpsm61")},m(r,i){D(r,e,i),o.m(e,null)},p(r,[i]){s===(s=n(r))&&o?o.p(r,i):(o.d(1),o=s(r),o&&(o.c(),o.m(e,null))),i&3&&v(e,"left",r[1].left*r[0]+"px"),i&3&&v(e,"top",r[1].top*r[0]+"px"),i&1&&v(e,"width",r[0]+"px"),i&1&&v(e,"height",r[0]+"px")},i:B,o:B,d(r){r&&C(e),o.d()}}}function Xt(t,e,n){let{size:s=0}=e,{current:o=null}=e,{prev:r=null}=e,{isHead:i=!1}=e,{isTail:c=!1}=e,{direction:a="right"}=e,{maxWidth:u=0}=e;const h=()=>{if(i)return a;if(o.left==r.left&&o.top>r.top)return"top";if(o.left==r.left&&o.top<r.top)return"down";if(o.top==r.top&&o.left>r.left)return"right";if(o.top==r.top&&o.left<r.left)return"left"};return t.$$set=d=>{"size"in d&&n(0,s=d.size),"current"in d&&n(1,o=d.current),"prev"in d&&n(6,r=d.prev),"isHead"in d&&n(2,i=d.isHead),"isTail"in d&&n(3,c=d.isTail),"direction"in d&&n(4,a=d.direction),"maxWidth"in d&&n(7,u=d.maxWidth)},[s,o,i,c,a,h,r,u]}class Kt extends q{constructor(e){super(),K(this,e,Xt,Vt,W,{size:0,current:1,prev:6,isHead:2,isTail:3,direction:4,maxWidth:7})}}function Je(t,e,n){const s=t.slice();return s[4]=e[n],s[6]=n,s}function Qe(t){let e,n;return e=new Kt({props:{isHead:t[6]==0,isTail:t[6]==t[0].length-1,current:t[4],prev:t[6]>0?t[0][t[6]-1]:null,direction:t[1],size:t[2],maxWidth:t[3]}}),{c(){$(e.$$.fragment)},m(s,o){Z(e,s,o),n=!0},p(s,o){const r={};o&1&&(r.isTail=s[6]==s[0].length-1),o&1&&(r.current=s[4]),o&1&&(r.prev=s[6]>0?s[0][s[6]-1]:null),o&2&&(r.direction=s[1]),o&4&&(r.size=s[2]),o&8&&(r.maxWidth=s[3]),e.$set(r)},i(s){n||(T(e.$$.fragment,s),n=!0)},o(s){x(e.$$.fragment,s),n=!1},d(s){J(e,s)}}}function qt(t){let e,n,s=t[0],o=[];for(let i=0;i<s.length;i+=1)o[i]=Qe(Je(t,s,i));const r=i=>x(o[i],1,1,()=>{o[i]=null});return{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=Ve()},m(i,c){for(let a=0;a<o.length;a+=1)o[a].m(i,c);D(i,e,c),n=!0},p(i,[c]){if(c&15){s=i[0];let a;for(a=0;a<s.length;a+=1){const u=Je(i,s,a);o[a]?(o[a].p(u,c),T(o[a],1)):(o[a]=Qe(u),o[a].c(),T(o[a],1),o[a].m(e.parentNode,e))}for(Fe(),a=s.length;a<o.length;a+=1)r(a);Ne()}},i(i){if(!n){for(let c=0;c<s.length;c+=1)T(o[c]);n=!0}},o(i){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)x(o[c]);n=!1},d(i){it(o,i),i&&C(e)}}}function Yt(t,e,n){let{snakeBodies:s=[]}=e,{direction:o="right"}=e,{size:r=0}=e,{maxWidth:i=0}=e;return t.$$set=c=>{"snakeBodies"in c&&n(0,s=c.snakeBodies),"direction"in c&&n(1,o=c.direction),"size"in c&&n(2,r=c.size),"maxWidth"in c&&n(3,i=c.maxWidth)},[s,o,r,i]}class jt extends q{constructor(e){super(),K(this,e,Yt,qt,W,{snakeBodies:0,direction:1,size:2,maxWidth:3})}}var We=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.ROCK=1]="ROCK",t[t.CONCRETE=2]="CONCRETE",t))(We||{});const ve=[{bg:"#affbaf",wall:[{type:0,top:2,left:1},{type:0,top:2,left:2},{type:1,top:2,left:3},{type:1,top:2,left:4},{type:0,top:2,left:5},{type:0,top:2,left:6},{type:2,top:1,left:3},{type:2,top:3,left:4}]},{bg:"#fda2f2",wall:[{type:0,top:2,left:2},{type:1,top:2,left:3},{type:1,top:2,left:4},{type:0,top:2,left:5},{type:2,top:1,left:3},{type:2,top:3,left:4}]},{bg:"#7f61bb",wall:[]},{bg:"#c34366",wall:[]}],Zt=()=>Date.now().toString(36)+Math.random().toString(36).substr(2);function Jt(t){let e,n,s;return{c(){e=k("div"),n=k("h1"),s=j(t[0]),l(n,"class","svelte-1x8upsq"),l(e,"class","message-box svelte-1x8upsq")},m(o,r){D(o,e,r),f(e,n),f(n,s)},p(o,[r]){r&1&&ne(s,o[0])},i:B,o:B,d(o){o&&C(e)}}}function Qt(t,e,n){let{message:s=""}=e;return t.$$set=o=>{"message"in o&&n(0,s=o.message)},[s]}class $t extends q{constructor(e){super(),K(this,e,Qt,Jt,W,{message:0})}}function en(t){let e,n,s,o,r,i,c,a,u;return{c(){e=p("svg"),n=p("radialGradient"),s=p("stop"),o=p("stop"),r=p("rect"),i=p("linearGradient"),c=p("stop"),a=p("stop"),u=p("rect"),l(s,"offset","0"),v(s,"stop-color","#333333"),l(o,"offset","1"),v(o,"stop-color","#000000"),l(n,"id","rock_svgid"),l(n,"cx","219.5"),l(n,"cy","219.5"),l(n,"r","219"),l(n,"gradientUnits","userSpaceOnUse"),l(r,"x","0.5"),l(r,"y","0.5"),l(r,"fill","url(#rock_svgid)"),l(r,"stroke","#000000"),l(r,"stroke-miterlimit","10"),l(r,"width","438"),l(r,"height","438"),l(c,"offset","0"),v(c,"stop-color","#000000"),v(c,"stop-opacity","0"),l(a,"offset","1"),v(a,"stop-color","#FFFFFF"),v(a,"stop-opacity","0.5"),l(i,"id","rock_svgid2"),l(i,"gradientUnits","userSpaceOnUse"),l(i,"x1","219"),l(i,"y1","431"),l(i,"x2","219"),l(i,"y2","9.0005"),l(u,"x","8"),l(u,"y","9"),l(u,"fill","url(#rock_svgid2)"),l(u,"width","422"),l(u,"height","422"),l(e,"viewBox","0 0 439 439")},m(h,d){D(h,e,d),f(e,n),f(n,s),f(n,o),f(e,r),f(e,i),f(i,c),f(i,a),f(e,u)},d(h){h&&C(e)}}}function tn(t){let e,n,s,o,r,i,c,a,u,h,d,A,L,w,g,y,m,F,O,G,z,E;return{c(){e=p("svg"),n=p("g"),s=p("linearGradient"),o=p("stop"),r=p("stop"),i=p("rect"),c=p("linearGradient"),a=p("stop"),u=p("stop"),h=p("rect"),d=p("linearGradient"),A=p("stop"),L=p("stop"),w=p("polygon"),g=p("linearGradient"),y=p("stop"),m=p("stop"),F=p("rect"),O=p("linearGradient"),G=p("stop"),z=p("stop"),E=p("rect"),l(o,"offset","0"),v(o,"stop-color","#998675"),l(r,"offset","1"),v(r,"stop-color","#C7B299"),l(s,"id","concrete_SVGID_1_"),l(s,"gradientUnits","userSpaceOnUse"),l(s,"x1","4"),l(s,"y1","96.5"),l(s,"x2","281"),l(s,"y2","96.5"),l(i,"x","4"),l(i,"y","4"),l(i,"fill","url(#concrete_SVGID_1_)"),l(i,"stroke","#CABD99"),l(i,"stroke-width","8"),l(i,"stroke-miterlimit","10"),l(i,"width","277"),l(i,"height","185"),l(a,"offset","0"),v(a,"stop-color","#998675"),l(u,"offset","1"),v(u,"stop-color","#C7B299"),l(c,"id","concrete_SVGID_2_"),l(c,"gradientUnits","userSpaceOnUse"),l(c,"x1","420"),l(c,"y1","189"),l(c,"x2","420"),l(c,"y2","4"),l(h,"x","281"),l(h,"y","4"),l(h,"fill","url(#concrete_SVGID_2_)"),l(h,"stroke","#CABD99"),l(h,"stroke-width","8"),l(h,"stroke-miterlimit","10"),l(h,"width","278"),l(h,"height","185"),l(A,"offset","0"),v(A,"stop-color","#998675"),l(L,"offset","1"),v(L,"stop-color","#C7B299"),l(d,"id","concrete_SVGID_3_"),l(d,"gradientUnits","userSpaceOnUse"),l(d,"x1","281.5"),l(d,"y1","374"),l(d,"x2","281.5"),l(d,"y2","189.0005"),l(w,"fill","url(#concrete_SVGID_3_)"),l(w,"stroke","#CABD99"),l(w,"stroke-width","8"),l(w,"stroke-miterlimit","10"),l(w,"points",`281,189 4,189 4,374 281,374 \r
    559,374 559,189 	`),l(y,"offset","0"),v(y,"stop-color","#998675"),l(m,"offset","1"),v(m,"stop-color","#C7B299"),l(g,"id","concrete_SVGID_4_"),l(g,"gradientUnits","userSpaceOnUse"),l(g,"x1","4"),l(g,"y1","466.5"),l(g,"x2","281"),l(g,"y2","466.5"),l(F,"x","4"),l(F,"y","374"),l(F,"fill","url(#concrete_SVGID_4_)"),l(F,"stroke","#CABD99"),l(F,"stroke-width","8"),l(F,"stroke-miterlimit","10"),l(F,"width","277"),l(F,"height","185"),l(G,"offset","0"),v(G,"stop-color","#998675"),l(z,"offset","1"),v(z,"stop-color","#C7B299"),l(O,"id","concrete_SVGID_5_"),l(O,"gradientUnits","userSpaceOnUse"),l(O,"x1","281"),l(O,"y1","466.5"),l(O,"x2","559"),l(O,"y2","466.5"),l(E,"x","281"),l(E,"y","374"),l(E,"fill","url(#concrete_SVGID_5_)"),l(E,"stroke","#CABD99"),l(E,"stroke-width","8"),l(E,"stroke-miterlimit","10"),l(E,"width","278"),l(E,"height","185"),l(e,"viewBox","0 0 563 563")},m(_,S){D(_,e,S),f(e,n),f(n,s),f(s,o),f(s,r),f(n,i),f(n,c),f(c,a),f(c,u),f(n,h),f(n,d),f(d,A),f(d,L),f(n,w),f(n,g),f(g,y),f(g,m),f(n,F),f(n,O),f(O,G),f(O,z),f(n,E)},d(_){_&&C(e)}}}function nn(t){let e,n,s,o,r,i,c,a,u,h,d,A,L,w,g;return{c(){e=p("svg"),n=p("symbol"),s=p("polygon"),o=p("polygon"),r=p("polygon"),i=p("polygon"),c=p("polygon"),a=p("polygon"),u=p("polygon"),h=p("polygon"),d=p("polygon"),A=p("polygon"),L=p("polygon"),w=p("polygon"),g=p("use"),l(s,"points","27,-29 -27,-29 -27,29 27,29 	"),l(o,"fill","#BF6411"),l(o,"points","-15,29 -27,29 -27,16 -15,16 -2,16 -2,29 	"),l(r,"fill","#BF6411"),l(r,"points","12,29 0,29 0,16 12,16 25,16 25,29 	"),l(i,"fill","#BF6411"),l(i,"points","-27,14 -15,14 -15,2 -27,2 	"),l(c,"fill","#BF6411"),l(c,"points","0,14 -13,14 -13,2 0,2 12,2 12,14 	"),l(a,"fill","#BF6411"),l(a,"points","14,14 27,14 27,2 14,2 	"),l(u,"fill","#BF6411"),l(u,"points","-15,0 -27,0 -27,-13 -15,-13 -2,-13 -2,0 	"),l(h,"fill","#BF6411"),l(h,"points","12,0 0,0 0,-13 12,-13 25,-13 25,0 	"),l(d,"fill","#BF6411"),l(d,"points","-27,-15 -15,-15 -15,-27 -27,-27 	"),l(A,"fill","#BF6411"),l(A,"points","0,-15 -13,-15 -13,-27 0,-27 12,-27 12,-15 	"),l(L,"fill","#BF6411"),l(L,"points","14,-15 27,-15 27,-27 14,-27 	"),l(w,"display","none"),l(w,"fill","none"),l(w,"points","-27,29 27,29 27,-29 -27,-29 	"),l(n,"id","brick1"),l(n,"viewBox","-27 -29 54 58"),pt(g,"xlink:href","#brick1"),l(g,"width","54"),l(g,"height","58"),l(g,"x","-27"),l(g,"y","-29"),l(g,"transform","matrix(1 0 0 -1 27 29)"),l(g,"overflow","visible"),l(e,"viewBox","0 0 54 58")},m(y,m){D(y,e,m),f(e,n),f(n,s),f(n,o),f(n,r),f(n,i),f(n,c),f(n,a),f(n,u),f(n,h),f(n,d),f(n,A),f(n,L),f(n,w),f(e,g)},d(y){y&&C(e)}}}function on(t){let e;function n(r,i){return r[1].type==We.DEFAULT?nn:r[1].type==We.CONCRETE?tn:en}let s=n(t),o=s(t);return{c(){e=k("div"),o.c(),l(e,"class","brick svelte-1ezhfpr"),v(e,"top",t[1].top*t[0]+"px"),v(e,"left",t[1].left*t[0]+"px"),v(e,"width",t[0]+"px"),v(e,"height",t[0]+"px")},m(r,i){D(r,e,i),o.m(e,null)},p(r,[i]){s!==(s=n(r))&&(o.d(1),o=s(r),o&&(o.c(),o.m(e,null))),i&3&&v(e,"top",r[1].top*r[0]+"px"),i&3&&v(e,"left",r[1].left*r[0]+"px"),i&1&&v(e,"width",r[0]+"px"),i&1&&v(e,"height",r[0]+"px")},i:B,o:B,d(r){r&&C(e),o.d()}}}function ln(t,e,n){let{size:s=0}=e,{data:o}=e;return t.$$set=r=>{"size"in r&&n(0,s=r.size),"data"in r&&n(1,o=r.data)},[s,o]}class sn extends q{constructor(e){super(),K(this,e,ln,on,W,{size:0,data:1})}}function $e(t,e,n){const s=t.slice();return s[3]=e[n],s}function et(t){let e,n;return e=new sn({props:{data:t[3],size:t[0]}}),{c(){$(e.$$.fragment)},m(s,o){Z(e,s,o),n=!0},p(s,o){const r={};o&2&&(r.data=s[3]),o&1&&(r.size=s[0]),e.$set(r)},i(s){n||(T(e.$$.fragment,s),n=!0)},o(s){x(e.$$.fragment,s),n=!1},d(s){J(e,s)}}}function rn(t){let e,n,s=t[1],o=[];for(let i=0;i<s.length;i+=1)o[i]=et($e(t,s,i));const r=i=>x(o[i],1,1,()=>{o[i]=null});return{c(){for(let i=0;i<o.length;i+=1)o[i].c();e=Ve()},m(i,c){for(let a=0;a<o.length;a+=1)o[a].m(i,c);D(i,e,c),n=!0},p(i,[c]){if(c&3){s=i[1];let a;for(a=0;a<s.length;a+=1){const u=$e(i,s,a);o[a]?(o[a].p(u,c),T(o[a],1)):(o[a]=et(u),o[a].c(),T(o[a],1),o[a].m(e.parentNode,e))}for(Fe(),a=s.length;a<o.length;a+=1)r(a);Ne()}},i(i){if(!n){for(let c=0;c<s.length;c+=1)T(o[c]);n=!0}},o(i){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)x(o[c]);n=!1},d(i){it(o,i),i&&C(e)}}}function cn(t,e,n){let s,{size:o=0}=e,r;return oe.subscribe(i=>{n(2,r=i)}),t.$$set=i=>{"size"in i&&n(0,o=i.size)},t.$$.update=()=>{t.$$.dirty&4&&n(1,s=ve[r.level-1].wall)},[o,s,r]}class fn extends q{constructor(e){super(),K(this,e,cn,rn,W,{size:0})}}function tt(t,e,n){const s=t.slice();return s[43]=e[n],s}function nt(t,e){let n,s,o;return s=new Mt({props:{id:e[43].id,left:e[43].left,top:e[43].top,size:e[6]}}),s.$on("bonusFinished",e[14]),{key:t,first:null,c(){n=Ve(),$(s.$$.fragment),this.first=n},m(r,i){D(r,n,i),Z(s,r,i),o=!0},p(r,i){e=r;const c={};i[0]&2048&&(c.id=e[43].id),i[0]&2048&&(c.left=e[43].left),i[0]&2048&&(c.top=e[43].top),i[0]&64&&(c.size=e[6]),s.$set(c)},i(r){o||(T(s.$$.fragment,r),o=!0)},o(r){x(s.$$.fragment,r),o=!1},d(r){r&&C(n),J(s,r)}}}function ot(t){let e,n;return e=new $t({props:{message:t[5]}}),{c(){$(e.$$.fragment)},m(s,o){Z(e,s,o),n=!0},p(s,o){const r={};o[0]&32&&(r.message=s[5]),e.$set(r)},i(s){n||(T(e.$$.fragment,s),n=!0)},o(s){x(e.$$.fragment,s),n=!1},d(s){J(e,s)}}}function un(t){let e,n,s,o,r,i,c,a,u,h,d=[],A=new Map,L,w,g,y,m,F,O;r=new fn({props:{size:t[6]}}),c=new jt({props:{direction:t[9],snakeBodies:t[10],size:t[6],maxWidth:t[0]}}),u=new Bt({props:{left:t[7],top:t[8],size:t[6]}});let G=t[11];const z=_=>_[43].id;for(let _=0;_<G.length;_+=1){let S=tt(t,G,_),M=z(S);A.set(M,d[_]=nt(M,S))}let E=t[4]==!0&&ot(t);return{c(){e=k("div"),n=k("div"),n.textContent="Score",s=U(),o=k("main"),$(r.$$.fragment),i=U(),$(c.$$.fragment),a=U(),$(u.$$.fragment),h=U();for(let _=0;_<d.length;_+=1)d[_].c();L=U(),E&&E.c(),w=U(),g=k("div"),g.innerHTML="<span>Pause</span>",v(o,"width",t[2]+"px"),v(o,"height",t[2]+"px"),v(o,"background",ve[t[3].level].bg),l(o,"class","svelte-1vcapp3"),l(e,"class","wrap svelte-1vcapp3"),Re(()=>t[15].call(e))},m(_,S){D(_,e,S),f(e,n),f(e,s),f(e,o),Z(r,o,null),f(o,i),Z(c,o,null),f(o,a),Z(u,o,null),f(o,h);for(let M=0;M<d.length;M+=1)d[M].m(o,null);f(o,L),E&&E.m(o,null),f(e,w),f(e,g),y=gt(e,t[15].bind(e)),m=!0,F||(O=[se(window,"keydown",t[13]),dt(xt.call(null,o,{timeframe:300,minSwipeDistance:60,touchAction:"none"})),se(o,"swipe",t[12])],F=!0)},p(_,S){const M={};S[0]&64&&(M.size=_[6]),r.$set(M);const V={};S[0]&512&&(V.direction=_[9]),S[0]&1024&&(V.snakeBodies=_[10]),S[0]&64&&(V.size=_[6]),S[0]&1&&(V.maxWidth=_[0]),c.$set(V);const X={};S[0]&128&&(X.left=_[7]),S[0]&256&&(X.top=_[8]),S[0]&64&&(X.size=_[6]),u.$set(X),S[0]&18496&&(G=_[11],Fe(),d=kt(d,S,z,1,_,G,A,o,bt,nt,L,tt),Ne()),_[4]==!0?E?(E.p(_,S),S[0]&16&&T(E,1)):(E=ot(_),E.c(),T(E,1),E.m(o,null)):E&&(Fe(),x(E,1,1,()=>{E=null}),Ne()),(!m||S[0]&4)&&v(o,"width",_[2]+"px"),(!m||S[0]&4)&&v(o,"height",_[2]+"px"),(!m||S[0]&8)&&v(o,"background",ve[_[3].level].bg)},i(_){if(!m){T(r.$$.fragment,_),T(c.$$.fragment,_),T(u.$$.fragment,_);for(let S=0;S<G.length;S+=1)T(d[S]);T(E),m=!0}},o(_){x(r.$$.fragment,_),x(c.$$.fragment,_),x(u.$$.fragment,_);for(let S=0;S<d.length;S+=1)x(d[S]);x(E),m=!1},d(_){_&&C(e),J(r),J(c),J(u);for(let S=0;S<d.length;S+=1)d[S].d();E&&E.d(),y(),F=!1,fe(O)}}}function an(t,e,n){let s=!1,o=!1,r=ke.NEXT_LEVEL,i=!1,c,a,u=0,h=0;rt(()=>{console.log(`--onMount = ${h} ${u}`)}),yt(()=>{});let d;le.subscribe(b=>{}),oe.subscribe(b=>{n(3,d=b)});const A=()=>{G(ke.GAME_OVER),clearInterval(F),setTimeout(()=>{z(),ee(),le.gameOver()},R.MESSAGE_TIME)};let L=0,w=0,g=I.RIGHT,y=[],m=[],F;function O(b){b.detail.direction,b.detail.target}const G=b=>{n(5,r=b),n(4,o=!0)},z=()=>{n(4,o=!1),n(5,r=ke.GAME_OVER)},E=()=>{G(ke.NEXT_LEVEL),clearInterval(F),setTimeout(()=>{z(),oe.nextLevel(),oe.resetScore(),X(),ee()},R.MESSAGE_TIME)},_=b=>{m.forEach(N=>{ue(b,N)&&(ge(N.id),oe.getBonus())})},S=()=>{y.length/R.MAX_POINTS>1&&y.length%R.MAX_POINTS==0&&(d.level<ve.length-1?E():(clearInterval(F),le.allLevelsCleared()))},M=()=>{let{left:b,top:N}=y[0];return g===I.UP?N-=1:g===I.DOWN?N+=1:g===I.LEFT?b-=1:g===I.RIGHT&&(b+=1),{left:b,top:N}},V=b=>{ue(b,{left:L,top:w})&&(n(10,y=[...y,y[y.length-1]]),oe.eatFood(),ie(),d.food%5==0&&_e())},X=()=>{let b=ve.length-d.level;b=b*R.DELAY,F=setInterval(()=>{i=!0,we()&&(i=!1,A()),de();const N=M();_(N),y.pop(),n(10,y=[N,...y]),V(N),S(),i=!1},R.DELAY)},ue=(b,N)=>!(b.top<N.top||b.top>N.top||b.left<N.left||b.left>N.left),ae=()=>{let b=0,N=0,H={top:b,left:N};return b=Math.floor(Math.random()*R.MAX_BLOCKS),N=Math.floor(Math.random()*R.MAX_BLOCKS),H={top:b,left:N},y.forEach(re=>{}),H},ie=()=>{const{top:b,left:N}=ae();n(7,L=N),n(8,w=b)},ee=()=>{ie(),n(9,g=I.RIGHT),n(10,y=[{left:2,top:0},{left:1,top:0},{left:0,top:0}])},de=()=>{const{top:b,left:N}=y[0];N>=R.MAX_BLOCKS&&g==I.RIGHT&&n(10,y[0].left=-2,y),N<0&&g==I.LEFT&&n(10,y[0].left=R.MAX_BLOCKS+1,y),b<0&&g==I.UP&&n(10,y[0].top=R.MAX_BLOCKS+1,y),b>=R.MAX_BLOCKS&&g==I.DOWN&&n(10,y[0].top=-2,y)},we=()=>y.slice(1).filter(H=>ue(H,y[0])).length>0,Be=()=>{clearInterval(F)},pe=b=>b===ye.UP&&g!=I.DOWN?I.UP:b===ye.RIGHT&&g!=I.LEFT?I.RIGHT:b===ye.LEFT&&g!=I.RIGHT?I.LEFT:b===ye.DOWN&&g!=I.UP?I.DOWN:I.UNKNOWN,he=b=>{if(i)return;const N=b.code;if(N===ye.SPACEBAR&&(s=!s,s?Be():X()),s)return;const H=pe(N);H!=I.UNKNOWN&&n(9,g=H)},te=b=>{ge(b.detail)},_e=()=>{const b=Zt();let N={top:0,left:0,id:b};N.top=Math.floor(Math.random()*R.MAX_BLOCKS),N.left=Math.floor(Math.random()*R.MAX_BLOCKS),m.push(N),n(11,m)},ge=b=>{const N=m.findIndex(H=>H.id==b);N!=-1&&(m.splice(N,1),n(11,m))};X(),ee();function Ee(){c=this.clientWidth,a=this.clientHeight,n(0,c),n(1,a)}return t.$$.update=()=>{t.$$.dirty[0]&7&&(n(2,u=Math.min(c,a)),n(2,u=u-50),n(2,u=Math.min(u,500)),isNaN(u)||n(6,h=Math.floor(u/R.MAX_BLOCKS))),t.$$.dirty[0]&8&&ve[d.level-1].wall},[c,a,u,d,o,r,h,L,w,g,y,m,O,he,te,Ee]}class Pe extends q{constructor(e){super(),K(this,e,an,un,W,{},null,[-1,-1])}}function dn(t){let e,n,s,o,r,i,c;return{c(){e=k("div"),n=k("div"),n.textContent="Snake",s=U(),o=k("div"),r=k("button"),r.textContent="Start",l(n,"class","title svelte-yxm8be"),l(o,"class","btn svelte-yxm8be"),l(e,"class","start-screen svelte-yxm8be")},m(a,u){D(a,e,u),f(e,n),f(e,s),f(e,o),f(o,r),i||(c=se(r,"click",t[0]),i=!0)},p:B,i:B,o:B,d(a){a&&C(e),i=!1,c()}}}function pn(t){return[()=>{console.log("start game"),le.startGame()}]}class hn extends q{constructor(e){super(),K(this,e,pn,dn,W,{})}}function _n(t){let e,n,s,o,r,i,c,a;return{c(){e=k("div"),n=k("div"),n.textContent="Congratulations !",s=U(),o=k("div"),o.textContent="You have cleared all the levels.",r=U(),i=k("button"),i.textContent="Menu",l(n,"class","title svelte-gyhhqq"),l(e,"class","final svelte-gyhhqq")},m(u,h){D(u,e,h),f(e,n),f(e,s),f(e,o),f(e,r),f(e,i),c||(a=se(i,"click",t[0]),c=!0)},p:B,i:B,o:B,d(u){u&&C(e),c=!1,a()}}}function gn(t){return[()=>{console.log("restart game"),le.welcomeScreen()}]}class mn extends q{constructor(e){super(),K(this,e,gn,_n,W,{})}}var P=(t=>(t.NOT_STARTED="NOT_STARTED",t.RUNNING="RUNNING",t.PAUSED="PAUSED",t.RESUME="RESUME",t.GAME_OVER="GAME OVER",t.ALL_LEVELS_CLEARED="ALL_LEVELS_CLEARED",t))(P||{});const yn=()=>{const t=[{status:P.NOT_STARTED,component:hn},{status:P.RUNNING,component:Pe},{status:P.PAUSED,component:Pe},{status:P.RESUME,component:Pe},{status:P.GAME_OVER,component:Ct},{status:P.ALL_LEVELS_CLEARED,component:mn}];let{update:e,subscribe:n}=ft(t.find(u=>u.status==P.RUNNING));return{subscribe:n,startGame:()=>{e(u=>(u=t.find(h=>h.status==P.RUNNING),u))},pauseGame:()=>{e(u=>(u=t.find(h=>h.status==P.PAUSED),u))},resumeGame:()=>{e(u=>(u=t.find(h=>h.status==P.RUNNING),u))},gameOver:()=>{e(u=>(u=t.find(h=>h.status==P.GAME_OVER),u))},welcomeScreen:()=>{e(u=>(u=t.find(h=>h.status==P.NOT_STARTED),u))},allLevelsCleared:()=>{e(u=>(u=t.find(h=>h.status==P.ALL_LEVELS_CLEARED),u))}}},le=yn();function vn(t){let e,n,s;var o=t[0].component;function r(i){return{}}return o&&(n=new o(r())),{c(){e=k("div"),n&&$(n.$$.fragment),l(e,"class","container svelte-174qdzj")},m(i,c){D(i,e,c),n&&Z(n,e,null),s=!0},p(i,[c]){if(o!==(o=i[0].component)){if(n){Fe();const a=n;x(a.$$.fragment,1,0,()=>{J(a,1)}),Ne()}o?(n=new o(r()),$(n.$$.fragment),T(n.$$.fragment,1),Z(n,e,null)):n=null}},i(i){s||(n&&T(n.$$.fragment,i),s=!0)},o(i){n&&x(n.$$.fragment,i),s=!1},d(i){i&&C(e),n&&J(n)}}}function wn(t,e,n){let s;return le.subscribe(o=>{n(0,s=o)}),[s]}class En extends q{constructor(e){super(),K(this,e,wn,vn,W,{})}}new En({target:document.getElementById("app")});
