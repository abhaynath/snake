(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function O(){}function it(t){return t()}function Ze(){return Object.create(null)}function fe(t){t.forEach(it)}function rt(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function dt(t){return Object.keys(t).length===0}function ve(t){return t==null?"":t}function pt(t){return t&&rt(t.destroy)?t.destroy:O}function u(t,e){t.appendChild(e)}function C(t,e,n){t.insertBefore(e,n||null)}function z(t){t.parentNode.removeChild(t)}function ct(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function A(t){return document.createElement(t)}function p(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function j(t){return document.createTextNode(t)}function R(){return j(" ")}function We(){return j("")}function le(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function s(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ht(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function gt(t){return Array.from(t.childNodes)}function ne(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function m(t,e,n,i){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}let Ie;function _t(){if(Ie===void 0){Ie=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Ie=!0}}return Ie}function mt(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=A("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=_t();let r;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=le(window,"message",l=>{l.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{r=le(i.contentWindow,"resize",e)}),u(t,i),()=>{(o||r&&i.contentWindow)&&r(),z(i)}}function yt(t,e,{bubbles:n=!1,cancelable:i=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,i,e),o}let Le;function Fe(t){Le=t}function Ke(){if(!Le)throw new Error("Function called outside component initialization");return Le}function ft(t){Ke().$$.on_mount.push(t)}function vt(t){Ke().$$.after_update.push(t)}function wt(){const t=Ke();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const r=yt(e,n,{cancelable:i});return o.slice().forEach(l=>{l.call(t,r)}),!r.defaultPrevented}return!0}}const ke=[],Je=[],De=[],Qe=[],bt=Promise.resolve();let Ve=!1;function Et(){Ve||(Ve=!0,bt.then(ut))}function Re(t){De.push(t)}const xe=new Set;let Me=0;function ut(){const t=Le;do{for(;Me<ke.length;){const e=ke[Me];Me++,Fe(e),St(e.$$)}for(Fe(null),ke.length=0,Me=0;Je.length;)Je.pop()();for(let e=0;e<De.length;e+=1){const n=De[e];xe.has(n)||(xe.add(n),n())}De.length=0}while(ke.length);for(;Qe.length;)Qe.pop()();Ve=!1,xe.clear(),Fe(t)}function St(t){if(t.fragment!==null){t.update(),fe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Re)}}const Ue=new Set;let ce;function Ne(){ce={r:0,c:[],p:ce}}function Be(){ce.r||fe(ce.c),ce=ce.p}function M(t,e){t&&t.i&&(Ue.delete(t),t.i(e))}function P(t,e,n,i){if(t&&t.o){if(Ue.has(t))return;Ue.add(t),ce.c.push(()=>{Ue.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function kt(t,e){P(t,1,1,()=>{e.delete(t.key)})}function At(t,e,n,i,o,r,l,c,a,f,h,g){let S=t.length,F=r.length,y=S;const E={};for(;y--;)E[t[y].key]=y;const k=[],d=new Map,L=new Map;for(y=F;y--;){const v=g(o,r,y),_=n(v);let b=l.get(_);b?i&&b.p(v,e):(b=f(_,v),b.c()),d.set(_,k[y]=b),_ in E&&L.set(_,Math.abs(y-E[_]))}const G=new Set,T=new Set;function D(v){M(v,1),v.m(c,h),l.set(v.key,v),h=v.first,F--}for(;S&&F;){const v=k[F-1],_=t[S-1],b=v.key,I=_.key;v===_?(h=v.first,S--,F--):d.has(I)?!l.has(b)||G.has(b)?D(v):T.has(I)?S--:L.get(b)>L.get(I)?(T.add(b),D(v)):(G.add(I),S--):(a(_,l),S--)}for(;S--;){const v=t[S];d.has(v.key)||a(v,l)}for(;F;)D(k[F-1]);return k}function $(t){t&&t.c()}function Z(t,e,n,i){const{fragment:o,on_mount:r,on_destroy:l,after_update:c}=t.$$;o&&o.m(e,n),i||Re(()=>{const a=r.map(it).filter(rt);l?l.push(...a):fe(a),t.$$.on_mount=[]}),c.forEach(Re)}function J(t,e){const n=t.$$;n.fragment!==null&&(fe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ft(t,e){t.$$.dirty[0]===-1&&(ke.push(t),Et(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(t,e,n,i,o,r,l,c=[-1]){const a=Le;Fe(t);const f=t.$$={fragment:null,ctx:null,props:r,update:O,not_equal:o,bound:Ze(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Ze(),dirty:c,skip_bound:!1,root:e.target||a.$$.root};l&&l(f.root);let h=!1;if(f.ctx=n?n(t,e.props||{},(g,S,...F)=>{const y=F.length?F[0]:S;return f.ctx&&o(f.ctx[g],f.ctx[g]=y)&&(!f.skip_bound&&f.bound[g]&&f.bound[g](y),h&&Ft(t,g)),S}):[],f.update(),h=!0,fe(f.before_update),f.fragment=i?i(f.ctx):!1,e.target){if(e.hydrate){const g=gt(e.target);f.fragment&&f.fragment.l(g),g.forEach(z)}else f.fragment&&f.fragment.c();e.intro&&M(t.$$.fragment),Z(t,e.target,e.anchor,e.customElement),ut()}Fe(a)}class K{$destroy(){J(this,1),this.$destroy=O}$on(e,n){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!dt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var B=(t=>(t.UP="up",t.RIGHT="right",t.LEFT="left",t.DOWN="down",t.UNKNOWN="",t))(B||{}),U=(t=>(t[t.DELAY=100]="DELAY",t[t.MAX_POINTS=50]="MAX_POINTS",t[t.BONUS_TIME=5e3]="BONUS_TIME",t[t.MESSAGE_TIME=3e3]="MESSAGE_TIME",t[t.MAX_BLOCKS=20]="MAX_BLOCKS",t))(U||{}),me=(t=>(t.UP="ArrowUp",t.LEFT="ArrowLeft",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.SPACEBAR="Space",t))(me||{}),Ae=(t=>(t.NEXT_LEVEL="Next Level",t.GAME_OVER="Game Over",t))(Ae||{});const _e=[];function qe(t,e=O){let n;const i=new Set;function o(c){if(V(t,c)&&(t=c,n)){const a=!_e.length;for(const f of i)f[1](),_e.push(f,t);if(a){for(let f=0;f<_e.length;f+=2)_e[f][0](_e[f+1]);_e.length=0}}}function r(c){o(c(t))}function l(c,a=O){const f=[c,a];return i.add(f),i.size===1&&(n=e(o)||O),c(t),()=>{i.delete(f),i.size===0&&(n(),n=null)}}return{set:o,update:r,subscribe:l}}const Lt=()=>{let t={playerName:"Abhay",level:1,stage:1,score:0,highScore:0,bonus:0,food:0},{update:e,subscribe:n}=qe(t);return{subscribe:n,resetScore:()=>{e(c=>(c.food=0,c.bonus=0,c.score=0,c))},eatFood:()=>{e(c=>(c.food=c.food+1,c.score=c.food*5+c.bonus*20,c.score>c.highScore&&(c.highScore=c.score),c))},getBonus:()=>{e(c=>(c.bonus=c.bonus+1,c))},nextLevel:()=>{e(c=>(c.level=c.level+1,c))}}};let oe=Lt();function Nt(t){let e,n,i,o,r,l,c,a,f,h,g,S,F,y,E,k;return{c(){e=A("div"),n=p("svg"),i=p("g"),o=p("g"),r=p("g"),l=p("g"),c=p("ellipse"),a=p("g"),f=p("path"),h=p("path"),g=p("g"),S=p("path"),F=p("g"),y=p("path"),E=p("g"),k=p("ellipse"),s(i,"id","Layer_1"),s(c,"id","shadow"),s(c,"opacity","0.3"),s(c,"cx","438.7"),s(c,"cy","765.8"),s(c,"rx","283"),s(c,"ry","32.9"),s(f,"id","cup-shadow"),s(f,"fill","#E7F4FA"),s(f,"d",`M135.4,492.8c0,0,17,201,77,230c81.1,39.2,258,43.7,392,25.1\r
            c100.5-13.9,115.1-120.1,122-154.4c8-39.7,19.5-119,6.5-137S217.4,370.8,135.4,492.8z`),s(h,"id","cup-light"),s(h,"fill","#FFFFFF"),s(h,"d",`M155.8,563.9c0,0,12.5,129.5,68.5,151.7c75.8,30,241,33.4,366.1,19.2\r
            c93.8-10.7,107.5-92,114-118.3c7.5-30.4,22.7-73.8,15.3-89C711.8,510.9,478.4,406.5,155.8,563.9z`),s(S,"id","mainFood"),s(S,"fill","#DB343C"),s(S,"d",`M57,240.8c35.9-55.2,83.5-142,189.1-192.7C365.6-9.3,527.4-11.2,598.8,20.8\r
            c41.7,18.7,160.6,74,214.5,205.5c92,224.4,10.9,261.8-27.3,263.6s-285.6-42.4-347.6-36.1c-59.9,6.1-148.2,2.1-312.4,77.9\r
            C54.4,564.8,8.4,515.8,0.6,479C-3.5,459.8,13.4,307.8,57,240.8z`),s(y,"id","highlight"),s(y,"opacity","0.3"),s(y,"fill","#FFFFFF"),s(y,"stroke","#000000"),s(y,"stroke-width","0.25"),s(y,"stroke-miterlimit","10"),s(y,"d",`M231.4,76.8\r
            c74.3-34.1,184.9-82.6,345-35c148,44,244,176,207,256s-53.4,66.9-110,58c-83-13-226-101-256-120s-175-97-186-111\r
            S189.5,96,231.4,76.8z`),s(k,"id","c2"),s(k,"fill","#FFFFFF"),s(k,"cx","436.8"),s(k,"cy","144.3"),s(k,"rx","140.6"),s(k,"ry","138.4"),s(E,"id","c1"),s(o,"id","Layer_2"),s(n,"viewBox","0 0 855.6 798.6"),s(e,"class","food svelte-h8lqdv"),m(e,"left",t[1]*t[2]+"px"),m(e,"top",t[0]*t[2]+"px"),m(e,"width",t[2]-2+"px"),m(e,"height",t[2]-2+"px")},m(d,L){C(d,e,L),u(e,n),u(n,i),u(n,o),u(o,r),u(r,l),u(l,c),u(r,a),u(a,f),u(a,h),u(r,g),u(g,S),u(r,F),u(F,y),u(r,E),u(E,k)},p(d,[L]){L&6&&m(e,"left",d[1]*d[2]+"px"),L&5&&m(e,"top",d[0]*d[2]+"px"),L&4&&m(e,"width",d[2]-2+"px"),L&4&&m(e,"height",d[2]-2+"px")},i:O,o:O,d(d){d&&z(e)}}}function Bt(t,e,n){let{top:i=0}=e,{left:o=0}=e,{size:r=0}=e;return t.$$set=l=>{"top"in l&&n(0,i=l.top),"left"in l&&n(1,o=l.left),"size"in l&&n(2,r=l.size)},[i,o,r]}class Ot extends K{constructor(e){super(),W(this,e,Bt,Nt,V,{top:0,left:1,size:2})}}function Gt(t){let e,n,i,o,r;return{c(){e=A("div"),n=p("svg"),i=p("style"),o=j(`.red {\r
        fill: red;\r
        animation: blink 250ms linear infinite;\r
      }\r
      @keyframes blink {\r
        0% {\r
          fill: yellow;\r
        }\r
        50% {\r
          /* opacity: 0.5; */\r
        }\r
        100% {\r
          fill: red;\r
        }\r
      }\r
    `),r=p("polygon"),s(i,"id","style2"),s(r,"fill","#FFA300"),s(r,"stroke","#EB0000"),s(r,"stroke-width","0.25"),s(r,"stroke-miterlimit","10"),s(r,"points",`221.7,0.3 290.1,138.9 443.1,161.1 \r
        332.4,269 358.5,421.4 221.7,349.5 84.8,421.4 111,269 0.3,161.1 153.3,138.9 `),s(r,"class","red"),s(n,"viewBox","0 0 443.3 421.6"),s(e,"class","bonus bounce-top svelte-y90akj"),m(e,"width",t[2]+"px"),m(e,"height",t[2]+"px"),m(e,"left",t[0]*t[2]+"px"),m(e,"top",t[1]*t[2]+"px")},m(l,c){C(l,e,c),u(e,n),u(n,i),u(i,o),u(n,r)},p(l,[c]){c&4&&m(e,"width",l[2]+"px"),c&4&&m(e,"height",l[2]+"px"),c&5&&m(e,"left",l[0]*l[2]+"px"),c&6&&m(e,"top",l[1]*l[2]+"px")},i:O,o:O,d(l){l&&z(e)}}}function Tt(t,e,n){const i=wt();let{left:o}=e,{top:r}=e,{size:l=0}=e,{id:c}=e;return ft(()=>{setTimeout(()=>{i("bonusFinished",c)},U.BONUS_TIME)}),t.$$set=a=>{"left"in a&&n(0,o=a.left),"top"in a&&n(1,r=a.top),"size"in a&&n(2,l=a.size),"id"in a&&n(3,c=a.id)},[o,r,l,c]}class It extends K{constructor(e){super(),W(this,e,Tt,Gt,V,{left:0,top:1,size:2,id:3})}}function Mt(t){let e,n,i,o,r,l,c,a=t[0].playerName+"",f,h,g,S,F,y=t[0].score+"",E,k,d,L,G,T=t[0].food+"",D,v,_,b,I,q=t[0].bonus+"",X,ue,ae,ie,ee,de=t[0].highScore+"",we,Oe,pe,he,te,ge=t[0].level+"",be,Ee,w=t[0].stage+"",N,H,re,Ge,Ye,Te,Pe,je;return{c(){e=A("div"),n=A("div"),n.textContent="Snake",i=R(),o=A("table"),r=A("tr"),l=A("td"),l.textContent="Player",c=A("td"),f=j(a),h=R(),g=A("tr"),S=A("td"),S.textContent="Score",F=A("td"),E=j(y),k=R(),d=A("tr"),L=A("td"),L.textContent="Food",G=A("td"),D=j(T),v=R(),_=A("tr"),b=A("td"),b.textContent="Bonus",I=A("td"),X=j(q),ue=R(),ae=A("tr"),ie=A("td"),ie.textContent="High Score",ee=A("td"),we=j(de),Oe=R(),pe=A("tr"),he=A("td"),he.textContent="Level-Stage",te=A("td"),be=j(ge),Ee=A("span"),Ee.textContent="-",N=j(w),H=R(),re=A("div"),Ge=A("button"),Ge.textContent="Replay",Ye=R(),Te=A("button"),Te.textContent="Menu",s(n,"class","title svelte-mdywih"),s(l,"class","c1 svelte-mdywih"),s(c,"class","c2 svelte-mdywih"),s(S,"class","c1 svelte-mdywih"),s(F,"class","c2 svelte-mdywih"),s(L,"class","c1 svelte-mdywih"),s(G,"class","c2 svelte-mdywih"),s(b,"class","c1 svelte-mdywih"),s(I,"class","c2 svelte-mdywih"),s(ie,"class","c1 svelte-mdywih"),s(ee,"class","c2 svelte-mdywih"),s(he,"class","c1 svelte-mdywih"),s(te,"class","c2 svelte-mdywih"),s(o,"class","svelte-mdywih"),s(re,"class","flex svelte-mdywih"),s(e,"class","game-over-screen svelte-mdywih")},m(Y,Q){C(Y,e,Q),u(e,n),u(e,i),u(e,o),u(o,r),u(r,l),u(r,c),u(c,f),u(o,h),u(o,g),u(g,S),u(g,F),u(F,E),u(o,k),u(o,d),u(d,L),u(d,G),u(G,D),u(o,v),u(o,_),u(_,b),u(_,I),u(I,X),u(o,ue),u(o,ae),u(ae,ie),u(ae,ee),u(ee,we),u(o,Oe),u(o,pe),u(pe,he),u(pe,te),u(te,be),u(te,Ee),u(te,N),u(e,H),u(e,re),u(re,Ge),u(re,Ye),u(re,Te),Pe||(je=[le(Ge,"click",t[2]),le(Te,"click",t[1])],Pe=!0)},p(Y,[Q]){Q&1&&a!==(a=Y[0].playerName+"")&&ne(f,a),Q&1&&y!==(y=Y[0].score+"")&&ne(E,y),Q&1&&T!==(T=Y[0].food+"")&&ne(D,T),Q&1&&q!==(q=Y[0].bonus+"")&&ne(X,q),Q&1&&de!==(de=Y[0].highScore+"")&&ne(we,de),Q&1&&ge!==(ge=Y[0].level+"")&&ne(be,ge),Q&1&&w!==(w=Y[0].stage+"")&&ne(N,w)},i:O,o:O,d(Y){Y&&z(e),Pe=!1,fe(je)}}}function zt(t,e,n){const i=()=>{console.log("restart game"),se.welcomeScreen()},o=()=>{oe.resetScore(),se.startGame()};let r;return oe.subscribe(l=>{n(0,r=l)}),[r,i,o]}class Ct extends K{constructor(e){super(),W(this,e,zt,Mt,V,{})}}const Dt=300,Ut=60,at="none";function Se(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function Rt(t,e){return e.filter(n=>t.pointerId!==n.pointerId)}function ze(t,e,n,i,o){t.dispatchEvent(new CustomEvent(`${e}${o}`,{detail:{event:n,pointersCount:i.length}}))}function Pt(t,e,n,i,o,r=at){e.style.touchAction=r;let l=[];function c(f){l.push(f),ze(e,t,f,l,"down"),i==null||i(l,f);const h=f.pointerId;function g(d){h===d.pointerId&&(l=Rt(d,l),l.length||S(),ze(e,t,d,l,"up"),o==null||o(l,d))}function S(){F(),y(),E(),k()}const F=Se(e,"pointermove",d=>{l=l.map(L=>d.pointerId===L.pointerId?d:L),ze(e,t,d,l,"move"),n==null||n(l,d)}),y=Se(e,"lostpointercapture",d=>{g(d)}),E=Se(e,"pointerup",d=>{g(d)}),k=Se(e,"pointerleave",d=>{l=[],S(),ze(e,t,d,l,"up"),o==null||o(l,d)})}const a=Se(e,"pointerdown",c);return{destroy:()=>{a()}}}function xt(t,e={timeframe:Dt,minSwipeDistance:Ut,touchAction:at}){const n="swipe";let i,o,r,l;function c(f,h){o=h.clientX,r=h.clientY,i=Date.now(),f.length===1&&(l=h.target)}function a(f,h){if(h.type==="pointerup"&&f.length===0&&Date.now()-i<e.timeframe){const g=h.clientX-o,S=h.clientY-r,F=Math.abs(g),y=Math.abs(S);let E=null;F>=2*y&&F>e.minSwipeDistance?E=g>0?"right":"left":y>=2*F&&y>e.minSwipeDistance&&(E=S>0?"bottom":"top"),E&&t.dispatchEvent(new CustomEvent(n,{detail:{direction:E,target:l}}))}}return Pt(n,t,null,c,a,e.touchAction)}function Ht(t){let e,n,i;return{c(){e=p("svg"),n=p("rect"),s(n,"y","0"),s(n,"fill","#0037FF"),s(n,"width","50"),s(n,"height","50"),s(e,"viewBox","0 0 50 50"),s(e,"class",i=ve(t[4])+" svelte-zvgok1")},m(o,r){C(o,e,r),u(e,n)},p(o,r){r&16&&i!==(i=ve(o[4])+" svelte-zvgok1")&&s(e,"class",i)},d(o){o&&z(e)}}}function Vt(t){let e,n,i;return{c(){e=p("svg"),n=p("rect"),s(n,"y","0"),s(n,"fill","#0037FF"),s(n,"width","50"),s(n,"height","50"),s(e,"viewBox","0 0 50 50"),s(e,"class",i=ve(t[4])+" svelte-zvgok1")},m(o,r){C(o,e,r),u(e,n)},p(o,r){r&16&&i!==(i=ve(o[4])+" svelte-zvgok1")&&s(e,"class",i)},d(o){o&&z(e)}}}function Xt(t){let e,n,i,o,r,l,c;return{c(){e=p("svg"),n=p("g"),i=p("rect"),o=p("path"),r=p("circle"),l=p("circle"),s(i,"opacity","0"),s(i,"fill","#FFFFFF"),s(i,"width","258"),s(i,"height","258"),s(o,"fill","#0037FF"),s(o,"d",`M147.5,29.2C111.6,29.2,80.1,48,62.6,77H0v104h62.6c17.5,28,49,47.3,84.9,47.3c55,0,99.6-44.6,99.6-99.6\r
          S202.5,29.2,147.5,29.2z`),s(r,"fill","#FFF800"),s(r,"stroke","#000000"),s(r,"stroke-miterlimit","10"),s(r,"cx","184.3"),s(r,"cy","84.5"),s(r,"r","21.8"),s(l,"fill","#FFF800"),s(l,"stroke","#000000"),s(l,"stroke-miterlimit","10"),s(l,"cx","184.3"),s(l,"cy","164.5"),s(l,"r","21.8"),s(e,"viewBox","0 0 258 258"),s(e,"class",c=ve(t[4])+" svelte-zvgok1")},m(a,f){C(a,e,f),u(e,n),u(n,i),u(n,o),u(n,r),u(n,l)},p(a,f){f&16&&c!==(c=ve(a[4])+" svelte-zvgok1")&&s(e,"class",c)},d(a){a&&z(e)}}}function Wt(t){let e;function n(r,l){return r[2]?Xt:r[3]?Vt:Ht}let i=n(t),o=i(t);return{c(){e=A("div"),o.c(),m(e,"left",t[1].left*t[0]+"px"),m(e,"top",t[1].top*t[0]+"px"),m(e,"width",t[0]+"px"),m(e,"height",t[0]+"px"),s(e,"class","snake-body svelte-zvgok1")},m(r,l){C(r,e,l),o.m(e,null)},p(r,[l]){i===(i=n(r))&&o?o.p(r,l):(o.d(1),o=i(r),o&&(o.c(),o.m(e,null))),l&3&&m(e,"left",r[1].left*r[0]+"px"),l&3&&m(e,"top",r[1].top*r[0]+"px"),l&1&&m(e,"width",r[0]+"px"),l&1&&m(e,"height",r[0]+"px")},i:O,o:O,d(r){r&&z(e),o.d()}}}function Kt(t,e,n){let{size:i=0}=e,{current:o=null}=e,{prev:r=null}=e,{isHead:l=!1}=e,{isTail:c=!1}=e,{direction:a="right"}=e;return t.$$set=f=>{"size"in f&&n(0,i=f.size),"current"in f&&n(1,o=f.current),"prev"in f&&n(5,r=f.prev),"isHead"in f&&n(2,l=f.isHead),"isTail"in f&&n(3,c=f.isTail),"direction"in f&&n(4,a=f.direction)},[i,o,l,c,a,r]}class qt extends K{constructor(e){super(),W(this,e,Kt,Wt,V,{size:0,current:1,prev:5,isHead:2,isTail:3,direction:4})}}function $e(t,e,n){const i=t.slice();return i[3]=e[n],i[5]=n,i}function et(t){let e,n;return e=new qt({props:{isHead:t[5]==0,isTail:t[5]==t[0].length-1,current:t[3],prev:t[5]>0?t[0][t[5]-1]:null,direction:t[1],size:t[2]}}),{c(){$(e.$$.fragment)},m(i,o){Z(e,i,o),n=!0},p(i,o){const r={};o&1&&(r.isTail=i[5]==i[0].length-1),o&1&&(r.current=i[3]),o&1&&(r.prev=i[5]>0?i[0][i[5]-1]:null),o&2&&(r.direction=i[1]),o&4&&(r.size=i[2]),e.$set(r)},i(i){n||(M(e.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function Yt(t){let e,n,i=t[0],o=[];for(let l=0;l<i.length;l+=1)o[l]=et($e(t,i,l));const r=l=>P(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=We()},m(l,c){for(let a=0;a<o.length;a+=1)o[a].m(l,c);C(l,e,c),n=!0},p(l,[c]){if(c&7){i=l[0];let a;for(a=0;a<i.length;a+=1){const f=$e(l,i,a);o[a]?(o[a].p(f,c),M(o[a],1)):(o[a]=et(f),o[a].c(),M(o[a],1),o[a].m(e.parentNode,e))}for(Ne(),a=i.length;a<o.length;a+=1)r(a);Be()}},i(l){if(!n){for(let c=0;c<i.length;c+=1)M(o[c]);n=!0}},o(l){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)P(o[c]);n=!1},d(l){ct(o,l),l&&z(e)}}}function jt(t,e,n){let{snakeBodies:i=[]}=e,{direction:o="right"}=e,{size:r=0}=e;return t.$$set=l=>{"snakeBodies"in l&&n(0,i=l.snakeBodies),"direction"in l&&n(1,o=l.direction),"size"in l&&n(2,r=l.size)},[i,o,r]}class Zt extends K{constructor(e){super(),W(this,e,jt,Yt,V,{snakeBodies:0,direction:1,size:2})}}var Xe=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.ROCK=1]="ROCK",t[t.CONCRETE=2]="CONCRETE",t))(Xe||{});const ye=[{bg:"#affbaf",wall:[{type:0,top:2,left:1},{type:0,top:2,left:2},{type:1,top:2,left:3},{type:1,top:2,left:4},{type:0,top:2,left:5},{type:0,top:2,left:6},{type:2,top:1,left:3},{type:2,top:3,left:4}]},{bg:"#fda2f2",wall:[{type:0,top:2,left:2},{type:1,top:2,left:3},{type:1,top:2,left:4},{type:0,top:2,left:5},{type:2,top:1,left:3},{type:2,top:3,left:4}]},{bg:"#7f61bb",wall:[]},{bg:"#c34366",wall:[]}],Jt=()=>Date.now().toString(36)+Math.random().toString(36).substr(2);function Qt(t){let e,n,i;return{c(){e=A("div"),n=A("h1"),i=j(t[0]),s(n,"class","svelte-1x8upsq"),s(e,"class","message-box svelte-1x8upsq")},m(o,r){C(o,e,r),u(e,n),u(n,i)},p(o,[r]){r&1&&ne(i,o[0])},i:O,o:O,d(o){o&&z(e)}}}function $t(t,e,n){let{message:i=""}=e;return t.$$set=o=>{"message"in o&&n(0,i=o.message)},[i]}class en extends K{constructor(e){super(),W(this,e,$t,Qt,V,{message:0})}}function tn(t){let e,n,i,o,r,l,c,a,f;return{c(){e=p("svg"),n=p("radialGradient"),i=p("stop"),o=p("stop"),r=p("rect"),l=p("linearGradient"),c=p("stop"),a=p("stop"),f=p("rect"),s(i,"offset","0"),m(i,"stop-color","#333333"),s(o,"offset","1"),m(o,"stop-color","#000000"),s(n,"id","rock_svgid"),s(n,"cx","219.5"),s(n,"cy","219.5"),s(n,"r","219"),s(n,"gradientUnits","userSpaceOnUse"),s(r,"x","0.5"),s(r,"y","0.5"),s(r,"fill","url(#rock_svgid)"),s(r,"stroke","#000000"),s(r,"stroke-miterlimit","10"),s(r,"width","438"),s(r,"height","438"),s(c,"offset","0"),m(c,"stop-color","#000000"),m(c,"stop-opacity","0"),s(a,"offset","1"),m(a,"stop-color","#FFFFFF"),m(a,"stop-opacity","0.5"),s(l,"id","rock_svgid2"),s(l,"gradientUnits","userSpaceOnUse"),s(l,"x1","219"),s(l,"y1","431"),s(l,"x2","219"),s(l,"y2","9.0005"),s(f,"x","8"),s(f,"y","9"),s(f,"fill","url(#rock_svgid2)"),s(f,"width","422"),s(f,"height","422"),s(e,"viewBox","0 0 439 439")},m(h,g){C(h,e,g),u(e,n),u(n,i),u(n,o),u(e,r),u(e,l),u(l,c),u(l,a),u(e,f)},d(h){h&&z(e)}}}function nn(t){let e,n,i,o,r,l,c,a,f,h,g,S,F,y,E,k,d,L,G,T,D,v;return{c(){e=p("svg"),n=p("g"),i=p("linearGradient"),o=p("stop"),r=p("stop"),l=p("rect"),c=p("linearGradient"),a=p("stop"),f=p("stop"),h=p("rect"),g=p("linearGradient"),S=p("stop"),F=p("stop"),y=p("polygon"),E=p("linearGradient"),k=p("stop"),d=p("stop"),L=p("rect"),G=p("linearGradient"),T=p("stop"),D=p("stop"),v=p("rect"),s(o,"offset","0"),m(o,"stop-color","#998675"),s(r,"offset","1"),m(r,"stop-color","#C7B299"),s(i,"id","concrete_SVGID_1_"),s(i,"gradientUnits","userSpaceOnUse"),s(i,"x1","4"),s(i,"y1","96.5"),s(i,"x2","281"),s(i,"y2","96.5"),s(l,"x","4"),s(l,"y","4"),s(l,"fill","url(#concrete_SVGID_1_)"),s(l,"stroke","#CABD99"),s(l,"stroke-width","8"),s(l,"stroke-miterlimit","10"),s(l,"width","277"),s(l,"height","185"),s(a,"offset","0"),m(a,"stop-color","#998675"),s(f,"offset","1"),m(f,"stop-color","#C7B299"),s(c,"id","concrete_SVGID_2_"),s(c,"gradientUnits","userSpaceOnUse"),s(c,"x1","420"),s(c,"y1","189"),s(c,"x2","420"),s(c,"y2","4"),s(h,"x","281"),s(h,"y","4"),s(h,"fill","url(#concrete_SVGID_2_)"),s(h,"stroke","#CABD99"),s(h,"stroke-width","8"),s(h,"stroke-miterlimit","10"),s(h,"width","278"),s(h,"height","185"),s(S,"offset","0"),m(S,"stop-color","#998675"),s(F,"offset","1"),m(F,"stop-color","#C7B299"),s(g,"id","concrete_SVGID_3_"),s(g,"gradientUnits","userSpaceOnUse"),s(g,"x1","281.5"),s(g,"y1","374"),s(g,"x2","281.5"),s(g,"y2","189.0005"),s(y,"fill","url(#concrete_SVGID_3_)"),s(y,"stroke","#CABD99"),s(y,"stroke-width","8"),s(y,"stroke-miterlimit","10"),s(y,"points",`281,189 4,189 4,374 281,374 \r
    559,374 559,189 	`),s(k,"offset","0"),m(k,"stop-color","#998675"),s(d,"offset","1"),m(d,"stop-color","#C7B299"),s(E,"id","concrete_SVGID_4_"),s(E,"gradientUnits","userSpaceOnUse"),s(E,"x1","4"),s(E,"y1","466.5"),s(E,"x2","281"),s(E,"y2","466.5"),s(L,"x","4"),s(L,"y","374"),s(L,"fill","url(#concrete_SVGID_4_)"),s(L,"stroke","#CABD99"),s(L,"stroke-width","8"),s(L,"stroke-miterlimit","10"),s(L,"width","277"),s(L,"height","185"),s(T,"offset","0"),m(T,"stop-color","#998675"),s(D,"offset","1"),m(D,"stop-color","#C7B299"),s(G,"id","concrete_SVGID_5_"),s(G,"gradientUnits","userSpaceOnUse"),s(G,"x1","281"),s(G,"y1","466.5"),s(G,"x2","559"),s(G,"y2","466.5"),s(v,"x","281"),s(v,"y","374"),s(v,"fill","url(#concrete_SVGID_5_)"),s(v,"stroke","#CABD99"),s(v,"stroke-width","8"),s(v,"stroke-miterlimit","10"),s(v,"width","278"),s(v,"height","185"),s(e,"viewBox","0 0 563 563")},m(_,b){C(_,e,b),u(e,n),u(n,i),u(i,o),u(i,r),u(n,l),u(n,c),u(c,a),u(c,f),u(n,h),u(n,g),u(g,S),u(g,F),u(n,y),u(n,E),u(E,k),u(E,d),u(n,L),u(n,G),u(G,T),u(G,D),u(n,v)},d(_){_&&z(e)}}}function on(t){let e,n,i,o,r,l,c,a,f,h,g,S,F,y,E;return{c(){e=p("svg"),n=p("symbol"),i=p("polygon"),o=p("polygon"),r=p("polygon"),l=p("polygon"),c=p("polygon"),a=p("polygon"),f=p("polygon"),h=p("polygon"),g=p("polygon"),S=p("polygon"),F=p("polygon"),y=p("polygon"),E=p("use"),s(i,"points","27,-29 -27,-29 -27,29 27,29 	"),s(o,"fill","#BF6411"),s(o,"points","-15,29 -27,29 -27,16 -15,16 -2,16 -2,29 	"),s(r,"fill","#BF6411"),s(r,"points","12,29 0,29 0,16 12,16 25,16 25,29 	"),s(l,"fill","#BF6411"),s(l,"points","-27,14 -15,14 -15,2 -27,2 	"),s(c,"fill","#BF6411"),s(c,"points","0,14 -13,14 -13,2 0,2 12,2 12,14 	"),s(a,"fill","#BF6411"),s(a,"points","14,14 27,14 27,2 14,2 	"),s(f,"fill","#BF6411"),s(f,"points","-15,0 -27,0 -27,-13 -15,-13 -2,-13 -2,0 	"),s(h,"fill","#BF6411"),s(h,"points","12,0 0,0 0,-13 12,-13 25,-13 25,0 	"),s(g,"fill","#BF6411"),s(g,"points","-27,-15 -15,-15 -15,-27 -27,-27 	"),s(S,"fill","#BF6411"),s(S,"points","0,-15 -13,-15 -13,-27 0,-27 12,-27 12,-15 	"),s(F,"fill","#BF6411"),s(F,"points","14,-15 27,-15 27,-27 14,-27 	"),s(y,"display","none"),s(y,"fill","none"),s(y,"points","-27,29 27,29 27,-29 -27,-29 	"),s(n,"id","brick1"),s(n,"viewBox","-27 -29 54 58"),ht(E,"xlink:href","#brick1"),s(E,"width","54"),s(E,"height","58"),s(E,"x","-27"),s(E,"y","-29"),s(E,"transform","matrix(1 0 0 -1 27 29)"),s(E,"overflow","visible"),s(e,"viewBox","0 0 54 58")},m(k,d){C(k,e,d),u(e,n),u(n,i),u(n,o),u(n,r),u(n,l),u(n,c),u(n,a),u(n,f),u(n,h),u(n,g),u(n,S),u(n,F),u(n,y),u(e,E)},d(k){k&&z(e)}}}function sn(t){let e;function n(r,l){return r[1].type==Xe.DEFAULT?on:r[1].type==Xe.CONCRETE?nn:tn}let i=n(t),o=i(t);return{c(){e=A("div"),o.c(),s(e,"class","brick svelte-1ezhfpr"),m(e,"top",t[1].top*t[0]+"px"),m(e,"left",t[1].left*t[0]+"px"),m(e,"width",t[0]+"px"),m(e,"height",t[0]+"px")},m(r,l){C(r,e,l),o.m(e,null)},p(r,[l]){i!==(i=n(r))&&(o.d(1),o=i(r),o&&(o.c(),o.m(e,null))),l&3&&m(e,"top",r[1].top*r[0]+"px"),l&3&&m(e,"left",r[1].left*r[0]+"px"),l&1&&m(e,"width",r[0]+"px"),l&1&&m(e,"height",r[0]+"px")},i:O,o:O,d(r){r&&z(e),o.d()}}}function ln(t,e,n){let{size:i=0}=e,{data:o}=e;return t.$$set=r=>{"size"in r&&n(0,i=r.size),"data"in r&&n(1,o=r.data)},[i,o]}class rn extends K{constructor(e){super(),W(this,e,ln,sn,V,{size:0,data:1})}}function tt(t,e,n){const i=t.slice();return i[3]=e[n],i}function nt(t){let e,n;return e=new rn({props:{data:t[3],size:t[0]}}),{c(){$(e.$$.fragment)},m(i,o){Z(e,i,o),n=!0},p(i,o){const r={};o&2&&(r.data=i[3]),o&1&&(r.size=i[0]),e.$set(r)},i(i){n||(M(e.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function cn(t){let e,n,i=t[1],o=[];for(let l=0;l<i.length;l+=1)o[l]=nt(tt(t,i,l));const r=l=>P(o[l],1,1,()=>{o[l]=null});return{c(){for(let l=0;l<o.length;l+=1)o[l].c();e=We()},m(l,c){for(let a=0;a<o.length;a+=1)o[a].m(l,c);C(l,e,c),n=!0},p(l,[c]){if(c&3){i=l[1];let a;for(a=0;a<i.length;a+=1){const f=tt(l,i,a);o[a]?(o[a].p(f,c),M(o[a],1)):(o[a]=nt(f),o[a].c(),M(o[a],1),o[a].m(e.parentNode,e))}for(Ne(),a=i.length;a<o.length;a+=1)r(a);Be()}},i(l){if(!n){for(let c=0;c<i.length;c+=1)M(o[c]);n=!0}},o(l){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)P(o[c]);n=!1},d(l){ct(o,l),l&&z(e)}}}function fn(t,e,n){let i,{size:o=0}=e,r;return oe.subscribe(l=>{n(2,r=l)}),t.$$set=l=>{"size"in l&&n(0,o=l.size)},t.$$.update=()=>{t.$$.dirty&4&&n(1,i=ye[r.level-1].wall)},[o,i,r]}class un extends K{constructor(e){super(),W(this,e,fn,cn,V,{size:0})}}const an=()=>{let t={bonus:[]},{update:e,subscribe:n}=qe(t);return{subscribe:n,addBonus:r=>{e(l=>(l.bonus.findIndex(a=>a.id==r.id)==-1&&(l.bonus.push(r),l.bonus=l.bonus,l=l),l))},removeBonus:r=>{e(l=>{let c=l.bonus.slice(0),a=c.findIndex(f=>f.id==r);return a!=-1&&(c.splice(a,1),l.bonus=c,l=l),l})}}},Ce=an();function ot(t,e,n){const i=t.slice();return i[43]=e[n],i}function st(t,e){let n,i,o;return i=new It({props:{id:e[43].id,left:e[43].left,top:e[43].top,size:e[6]}}),i.$on("bonusFinished",e[14]),{key:t,first:null,c(){n=We(),$(i.$$.fragment),this.first=n},m(r,l){C(r,n,l),Z(i,r,l),o=!0},p(r,l){e=r;const c={};l[0]&128&&(c.id=e[43].id),l[0]&128&&(c.left=e[43].left),l[0]&128&&(c.top=e[43].top),l[0]&64&&(c.size=e[6]),i.$set(c)},i(r){o||(M(i.$$.fragment,r),o=!0)},o(r){P(i.$$.fragment,r),o=!1},d(r){r&&z(n),J(i,r)}}}function lt(t){let e,n;return e=new en({props:{message:t[5]}}),{c(){$(e.$$.fragment)},m(i,o){Z(e,i,o),n=!0},p(i,o){const r={};o[0]&32&&(r.message=i[5]),e.$set(r)},i(i){n||(M(e.$$.fragment,i),n=!0)},o(i){P(e.$$.fragment,i),n=!1},d(i){J(e,i)}}}function dn(t){let e,n,i,o,r,l,c,a,f,h,g=[],S=new Map,F,y,E,k,d,L,G;r=new un({props:{size:t[6]}}),c=new Zt({props:{direction:t[10],snakeBodies:t[11],size:t[6]}}),f=new Ot({props:{left:t[8],top:t[9],size:t[6]}});let T=t[7].bonus;const D=_=>_[43].id;for(let _=0;_<T.length;_+=1){let b=ot(t,T,_),I=D(b);S.set(I,g[_]=st(I,b))}let v=t[4]==!0&&lt(t);return{c(){e=A("div"),n=A("div"),n.textContent="Score",i=R(),o=A("main"),$(r.$$.fragment),l=R(),$(c.$$.fragment),a=R(),$(f.$$.fragment),h=R();for(let _=0;_<g.length;_+=1)g[_].c();F=R(),v&&v.c(),y=R(),E=A("div"),E.innerHTML="<span>Pause</span>",m(o,"width",t[2]+"px"),m(o,"height",t[2]+"px"),m(o,"background",ye[t[3].level].bg),s(o,"class","svelte-1vcapp3"),s(e,"class","wrap svelte-1vcapp3"),Re(()=>t[15].call(e))},m(_,b){C(_,e,b),u(e,n),u(e,i),u(e,o),Z(r,o,null),u(o,l),Z(c,o,null),u(o,a),Z(f,o,null),u(o,h);for(let I=0;I<g.length;I+=1)g[I].m(o,null);u(o,F),v&&v.m(o,null),u(e,y),u(e,E),k=mt(e,t[15].bind(e)),d=!0,L||(G=[le(window,"keydown",t[13]),pt(xt.call(null,o,{timeframe:300,minSwipeDistance:60,touchAction:"none"})),le(o,"swipe",t[12])],L=!0)},p(_,b){const I={};b[0]&64&&(I.size=_[6]),r.$set(I);const q={};b[0]&1024&&(q.direction=_[10]),b[0]&2048&&(q.snakeBodies=_[11]),b[0]&64&&(q.size=_[6]),c.$set(q);const X={};b[0]&256&&(X.left=_[8]),b[0]&512&&(X.top=_[9]),b[0]&64&&(X.size=_[6]),f.$set(X),b[0]&16576&&(T=_[7].bonus,Ne(),g=At(g,b,D,1,_,T,S,o,kt,st,F,ot),Be()),_[4]==!0?v?(v.p(_,b),b[0]&16&&M(v,1)):(v=lt(_),v.c(),M(v,1),v.m(o,null)):v&&(Ne(),P(v,1,1,()=>{v=null}),Be()),(!d||b[0]&4)&&m(o,"width",_[2]+"px"),(!d||b[0]&4)&&m(o,"height",_[2]+"px"),(!d||b[0]&8)&&m(o,"background",ye[_[3].level].bg)},i(_){if(!d){M(r.$$.fragment,_),M(c.$$.fragment,_),M(f.$$.fragment,_);for(let b=0;b<T.length;b+=1)M(g[b]);M(v),d=!0}},o(_){P(r.$$.fragment,_),P(c.$$.fragment,_),P(f.$$.fragment,_);for(let b=0;b<g.length;b+=1)P(g[b]);P(v),d=!1},d(_){_&&z(e),J(r),J(c),J(f);for(let b=0;b<g.length;b+=1)g[b].d();v&&v.d(),k(),L=!1,fe(G)}}}function pn(t,e,n){let i=!1,o=!1,r=Ae.NEXT_LEVEL,l=!1,c,a,f=0,h=0;ft(()=>{console.log(`--onMount = ${h} ${f}`)}),vt(()=>{});let g,S;se.subscribe(w=>{}),oe.subscribe(w=>{n(3,g=w)}),Ce.subscribe(w=>{n(7,S=w)});const F=()=>{T(Ae.GAME_OVER),clearInterval(L),setTimeout(()=>{D(),ee(),se.gameOver()},U.MESSAGE_TIME)};let y=0,E=0,k=B.RIGHT,d=[],L;function G(w){w.detail.direction,w.detail.target}const T=w=>{n(5,r=w),n(4,o=!0)},D=()=>{n(4,o=!1),n(5,r=Ae.GAME_OVER)},v=()=>{T(Ae.NEXT_LEVEL),clearInterval(L),setTimeout(()=>{D(),oe.nextLevel(),oe.resetScore(),X(),ee()},U.MESSAGE_TIME)},_=w=>{S.bonus.forEach(N=>{ue(w,N)&&(Ce.removeBonus(N.id),oe.getBonus())})},b=()=>{d.length/U.MAX_POINTS>1&&d.length%U.MAX_POINTS==0&&(g.level<ye.length-1?v():(clearInterval(L),se.allLevelsCleared()))},I=()=>{let{left:w,top:N}=d[0];return k===B.UP?N-=1:k===B.DOWN?N+=1:k===B.LEFT?w-=1:k===B.RIGHT&&(w+=1),{left:w,top:N}},q=w=>{ue(w,{left:y,top:E})&&(n(11,d=[...d,d[d.length-1]]),oe.eatFood(),ie(),g.food%5==0&&be())},X=()=>{let w=ye.length-g.level;w=w*U.DELAY,L=setInterval(()=>{l=!0,we()&&(l=!1,F()),de();const N=I();_(N),d.pop(),n(11,d=[N,...d]),q(N),b(),l=!1},U.DELAY)},ue=(w,N)=>!(w.top<N.top||w.top>N.top||w.left<N.left||w.left>N.left),ae=()=>{let w=0,N=0,H={top:w,left:N};return w=Math.floor(Math.random()*U.MAX_BLOCKS),N=Math.floor(Math.random()*U.MAX_BLOCKS),H={top:w,left:N},d.forEach(re=>{}),H},ie=()=>{const{top:w,left:N}=ae();n(8,y=N),n(9,E=w)},ee=()=>{ie(),n(10,k=B.RIGHT),n(11,d=[{left:2,top:0},{left:1,top:0},{left:0,top:0}])},de=()=>{const{top:w,left:N}=d[0];N>=U.MAX_BLOCKS&&k==B.RIGHT&&n(11,d[0].left=-2,d),N<0&&k==B.LEFT&&n(11,d[0].left=U.MAX_BLOCKS+1,d),w<0&&k==B.UP&&n(11,d[0].top=U.MAX_BLOCKS+1,d),w>=U.MAX_BLOCKS&&k==B.DOWN&&n(11,d[0].top=-2,d)},we=()=>d.slice(1).filter(H=>ue(H,d[0])).length>0,Oe=()=>{clearInterval(L)},pe=w=>w===me.UP&&k!=B.DOWN?B.UP:w===me.RIGHT&&k!=B.LEFT?B.RIGHT:w===me.LEFT&&k!=B.RIGHT?B.LEFT:w===me.DOWN&&k!=B.UP?B.DOWN:B.UNKNOWN,he=w=>{switch(w){case B.DOWN:return B.UP;case B.UP:return B.DOWN;case B.LEFT:return B.RIGHT;case B.RIGHT:return B.LEFT;case B.UNKNOWN:return B.UNKNOWN}},te=w=>{if(l)return;const N=w.code;if(N===me.SPACEBAR&&(i=!i,i?Oe():X()),i)return;const H=pe(N);H!=B.UNKNOWN&&H!=he(H)&&n(10,k=H)},ge=w=>{Ce.removeBonus(w.detail)},be=()=>{const w=Jt();let N={top:0,left:0,id:w};N.top=Math.floor(Math.random()*U.MAX_BLOCKS),N.left=Math.floor(Math.random()*U.MAX_BLOCKS),Ce.addBonus(N)};X(),ee();function Ee(){c=this.clientWidth,a=this.clientHeight,n(0,c),n(1,a)}return t.$$.update=()=>{t.$$.dirty[0]&7&&(n(2,f=Math.min(c,a)),n(2,f=f-50),n(2,f=Math.min(f,500)),isNaN(f)||n(6,h=Math.floor(f/U.MAX_BLOCKS))),t.$$.dirty[0]&8&&ye[g.level-1].wall},[c,a,f,g,o,r,h,S,y,E,k,d,G,te,ge,Ee]}class He extends K{constructor(e){super(),W(this,e,pn,dn,V,{},null,[-1,-1])}}function hn(t){let e,n,i,o,r,l,c;return{c(){e=A("div"),n=A("div"),n.textContent="Snake",i=R(),o=A("div"),r=A("button"),r.textContent="Start",s(n,"class","title svelte-yxm8be"),s(o,"class","btn svelte-yxm8be"),s(e,"class","start-screen svelte-yxm8be")},m(a,f){C(a,e,f),u(e,n),u(e,i),u(e,o),u(o,r),l||(c=le(r,"click",t[0]),l=!0)},p:O,i:O,o:O,d(a){a&&z(e),l=!1,c()}}}function gn(t){return[()=>{console.log("start game"),se.startGame()}]}class _n extends K{constructor(e){super(),W(this,e,gn,hn,V,{})}}function mn(t){let e,n,i,o,r,l,c,a;return{c(){e=A("div"),n=A("div"),n.textContent="Congratulations !",i=R(),o=A("div"),o.textContent="You have cleared all the levels.",r=R(),l=A("button"),l.textContent="Menu",s(n,"class","title svelte-gyhhqq"),s(e,"class","final svelte-gyhhqq")},m(f,h){C(f,e,h),u(e,n),u(e,i),u(e,o),u(e,r),u(e,l),c||(a=le(l,"click",t[0]),c=!0)},p:O,i:O,o:O,d(f){f&&z(e),c=!1,a()}}}function yn(t){return[()=>{console.log("restart game"),se.welcomeScreen()}]}class vn extends K{constructor(e){super(),W(this,e,yn,mn,V,{})}}var x=(t=>(t.NOT_STARTED="NOT_STARTED",t.RUNNING="RUNNING",t.PAUSED="PAUSED",t.RESUME="RESUME",t.GAME_OVER="GAME OVER",t.ALL_LEVELS_CLEARED="ALL_LEVELS_CLEARED",t))(x||{});const wn=()=>{const t=[{status:x.NOT_STARTED,component:_n},{status:x.RUNNING,component:He},{status:x.PAUSED,component:He},{status:x.RESUME,component:He},{status:x.GAME_OVER,component:Ct},{status:x.ALL_LEVELS_CLEARED,component:vn}];let{update:e,subscribe:n}=qe(t.find(f=>f.status==x.RUNNING));return{subscribe:n,startGame:()=>{e(f=>(f=t.find(h=>h.status==x.RUNNING),f))},pauseGame:()=>{e(f=>(f=t.find(h=>h.status==x.PAUSED),f))},resumeGame:()=>{e(f=>(f=t.find(h=>h.status==x.RUNNING),f))},gameOver:()=>{e(f=>(f=t.find(h=>h.status==x.GAME_OVER),f))},welcomeScreen:()=>{e(f=>(f=t.find(h=>h.status==x.NOT_STARTED),f))},allLevelsCleared:()=>{e(f=>(f=t.find(h=>h.status==x.ALL_LEVELS_CLEARED),f))}}},se=wn();function bn(t){let e,n,i;var o=t[0].component;function r(l){return{}}return o&&(n=new o(r())),{c(){e=A("div"),n&&$(n.$$.fragment),s(e,"class","container svelte-174qdzj")},m(l,c){C(l,e,c),n&&Z(n,e,null),i=!0},p(l,[c]){if(o!==(o=l[0].component)){if(n){Ne();const a=n;P(a.$$.fragment,1,0,()=>{J(a,1)}),Be()}o?(n=new o(r()),$(n.$$.fragment),M(n.$$.fragment,1),Z(n,e,null)):n=null}},i(l){i||(n&&M(n.$$.fragment,l),i=!0)},o(l){n&&P(n.$$.fragment,l),i=!1},d(l){l&&z(e),n&&J(n)}}}function En(t,e,n){let i;return se.subscribe(o=>{n(0,i=o)}),[i]}class Sn extends K{constructor(e){super(),W(this,e,En,bn,V,{})}}new Sn({target:document.getElementById("app")});
