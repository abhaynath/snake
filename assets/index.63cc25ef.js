(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function l(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=l(s);fetch(s.href,i)}})();function $(){}function st(t){return t()}function ze(){return Object.create(null)}function Ee(t){t.forEach(st)}function ut(t){return typeof t=="function"}function Y(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function dt(t){return Object.keys(t).length===0}function me(t){return t==null?"":t}function f(t,e){t.appendChild(e)}function M(t,e,l){t.insertBefore(e,l||null)}function U(t){t.parentNode.removeChild(t)}function rt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function y(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function q(t){return document.createTextNode(t)}function P(){return q(" ")}function Ze(){return q("")}function we(t,e,l,r){return t.addEventListener(e,l,r),()=>t.removeEventListener(e,l,r)}function n(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function pt(t){return Array.from(t.childNodes)}function se(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function g(t,e,l,r){l===null?t.style.removeProperty(e):t.style.setProperty(e,l,r?"important":"")}function _t(t,e,{bubbles:l=!1,cancelable:r=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,l,r,e),s}let be;function Se(t){be=t}function ot(){if(!be)throw new Error("Function called outside component initialization");return be}function ht(t){ot().$$.on_mount.push(t)}function gt(){const t=ot();return(e,l,{cancelable:r=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=_t(e,l,{cancelable:r});return s.slice().forEach(o=>{o.call(t,i)}),!i.defaultPrevented}return!0}}const ve=[],je=[],Fe=[],Xe=[],mt=Promise.resolve();let He=!1;function Et(){He||(He=!0,mt.then(it))}function Ve(t){Fe.push(t)}const $e=new Set;let Be=0;function it(){const t=be;do{for(;Be<ve.length;){const e=ve[Be];Be++,Se(e),vt(e.$$)}for(Se(null),ve.length=0,Be=0;je.length;)je.pop()();for(let e=0;e<Fe.length;e+=1){const l=Fe[e];$e.has(l)||($e.add(l),l())}Fe.length=0}while(ve.length);for(;Xe.length;)Xe.pop()();He=!1,$e.clear(),Se(t)}function vt(t){if(t.fragment!==null){t.update(),Ee(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ve)}}const Ae=new Set;let ue;function ke(){ue={r:0,c:[],p:ue}}function Ie(){ue.r||Ee(ue.c),ue=ue.p}function D(t,e){t&&t.i&&(Ae.delete(t),t.i(e))}function H(t,e,l,r){if(t&&t.o){if(Ae.has(t))return;Ae.add(t),ue.c.push(()=>{Ae.delete(t),r&&(l&&t.d(1),r())}),t.o(e)}else r&&r()}function yt(t,e){H(t,1,1,()=>{e.delete(t.key)})}function St(t,e,l,r,s,i,o,c,a,u,_,h){let p=t.length,S=i.length,m=p;const w={};for(;m--;)w[t[m].key]=m;const L=[],O=new Map,k=new Map;for(m=S;m--;){const E=h(s,i,m),C=l(E);let F=o.get(C);F?r&&F.p(E,e):(F=u(C,E),F.c()),O.set(C,L[m]=F),C in w&&k.set(C,Math.abs(m-w[C]))}const I=new Set,A=new Set;function B(E){D(E,1),E.m(c,_),o.set(E.key,E),_=E.first,S--}for(;p&&S;){const E=L[S-1],C=t[p-1],F=E.key,W=C.key;E===C?(_=E.first,p--,S--):O.has(W)?!o.has(F)||I.has(F)?B(E):A.has(W)?p--:k.get(F)>k.get(W)?(A.add(F),B(E)):(I.add(W),p--):(a(C,o),p--)}for(;p--;){const E=t[p];O.has(E.key)||a(E,o)}for(;S;)B(L[S-1]);return L}function re(t){t&&t.c()}function Q(t,e,l,r){const{fragment:s,on_mount:i,on_destroy:o,after_update:c}=t.$$;s&&s.m(e,l),r||Ve(()=>{const a=i.map(st).filter(ut);o?o.push(...a):Ee(a),t.$$.on_mount=[]}),c.forEach(Ve)}function ee(t,e){const l=t.$$;l.fragment!==null&&(Ee(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function wt(t,e){t.$$.dirty[0]===-1&&(ve.push(t),Et(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function te(t,e,l,r,s,i,o,c=[-1]){const a=be;Se(t);const u=t.$$={fragment:null,ctx:null,props:i,update:$,not_equal:s,bound:ze(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ze(),dirty:c,skip_bound:!1,root:e.target||a.$$.root};o&&o(u.root);let _=!1;if(u.ctx=l?l(t,e.props||{},(h,p,...S)=>{const m=S.length?S[0]:p;return u.ctx&&s(u.ctx[h],u.ctx[h]=m)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](m),_&&wt(t,h)),p}):[],u.update(),_=!0,Ee(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const h=pt(e.target);u.fragment&&u.fragment.l(h),h.forEach(U)}else u.fragment&&u.fragment.c();e.intro&&D(t.$$.fragment),Q(t,e.target,e.anchor,e.customElement),it()}Se(a)}class ne{$destroy(){ee(this,1),this.$destroy=$}$on(e,l){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(l),()=>{const s=r.indexOf(l);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!dt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var R=(t=>(t.UP="up",t.RIGHT="right",t.LEFT="left",t.DOWN="down",t.UNKNOWN="",t))(R||{}),x=(t=>(t[t.SCREEN_WIDTH=600]="SCREEN_WIDTH",t[t.SCREEN_HEIGHT=400]="SCREEN_HEIGHT",t[t.BLOCK_SIZE=25]="BLOCK_SIZE",t))(x||{}),ae=(t=>(t[t.DELAY=50]="DELAY",t[t.MAX_POINTS=10]="MAX_POINTS",t[t.BONUS_TIME=5e3]="BONUS_TIME",t[t.MESSAGE_TIME=3e3]="MESSAGE_TIME",t))(ae||{}),he=(t=>(t.UP="ArrowUp",t.LEFT="ArrowLeft",t.RIGHT="ArrowRight",t.DOWN="ArrowDown",t.SPACEBAR="Space",t))(he||{}),ye=(t=>(t.NEXT_LEVEL="Next Level",t.GAME_OVER="Game Over",t))(ye||{});const _e=[];function ct(t,e=$){let l;const r=new Set;function s(c){if(Y(t,c)&&(t=c,l)){const a=!_e.length;for(const u of r)u[1](),_e.push(u,t);if(a){for(let u=0;u<_e.length;u+=2)_e[u][0](_e[u+1]);_e.length=0}}}function i(c){s(c(t))}function o(c,a=$){const u=[c,a];return r.add(u),r.size===1&&(l=e(s)||$),c(t),()=>{r.delete(u),r.size===0&&(l(),l=null)}}return{set:s,update:i,subscribe:o}}const bt=()=>{let t={playerName:"Abhay",level:1,stage:1,score:0,highScore:0,bonus:0,food:0},{update:e,subscribe:l}=ct(t);return{subscribe:l,resetScore:()=>{e(c=>(c.food=0,c.bonus=0,c.score=0,c))},eatFood:()=>{e(c=>(c.food=c.food+1,c.score=c.food*5+c.bonus*20,c.score>c.highScore&&(c.highScore=c.score),c))},getBonus:()=>{e(c=>(c.bonus=c.bonus+1,c))},nextLevel:()=>{e(c=>(c.level=c.level+1,c))}}};let ce=bt();function kt(t){let e,l,r,s,i,o,c,a,u,_,h,p,S,m,w,L;return{c(){e=y("div"),l=d("svg"),r=d("g"),s=d("g"),i=d("g"),o=d("g"),c=d("ellipse"),a=d("g"),u=d("path"),_=d("path"),h=d("g"),p=d("path"),S=d("g"),m=d("path"),w=d("g"),L=d("ellipse"),n(r,"id","Layer_1"),n(c,"id","shadow"),n(c,"opacity","0.3"),n(c,"cx","438.7"),n(c,"cy","765.8"),n(c,"rx","283"),n(c,"ry","32.9"),n(u,"id","cup-shadow"),n(u,"fill","#E7F4FA"),n(u,"d",`M135.4,492.8c0,0,17,201,77,230c81.1,39.2,258,43.7,392,25.1\r
            c100.5-13.9,115.1-120.1,122-154.4c8-39.7,19.5-119,6.5-137S217.4,370.8,135.4,492.8z`),n(_,"id","cup-light"),n(_,"fill","#FFFFFF"),n(_,"d",`M155.8,563.9c0,0,12.5,129.5,68.5,151.7c75.8,30,241,33.4,366.1,19.2\r
            c93.8-10.7,107.5-92,114-118.3c7.5-30.4,22.7-73.8,15.3-89C711.8,510.9,478.4,406.5,155.8,563.9z`),n(p,"id","mainFood"),n(p,"fill","#DB343C"),n(p,"d",`M57,240.8c35.9-55.2,83.5-142,189.1-192.7C365.6-9.3,527.4-11.2,598.8,20.8\r
            c41.7,18.7,160.6,74,214.5,205.5c92,224.4,10.9,261.8-27.3,263.6s-285.6-42.4-347.6-36.1c-59.9,6.1-148.2,2.1-312.4,77.9\r
            C54.4,564.8,8.4,515.8,0.6,479C-3.5,459.8,13.4,307.8,57,240.8z`),n(m,"id","highlight"),n(m,"opacity","0.3"),n(m,"fill","#FFFFFF"),n(m,"stroke","#000000"),n(m,"stroke-width","0.25"),n(m,"stroke-miterlimit","10"),n(m,"d",`M231.4,76.8\r
            c74.3-34.1,184.9-82.6,345-35c148,44,244,176,207,256s-53.4,66.9-110,58c-83-13-226-101-256-120s-175-97-186-111\r
            S189.5,96,231.4,76.8z`),n(L,"id","c2"),n(L,"fill","#FFFFFF"),n(L,"cx","436.8"),n(L,"cy","144.3"),n(L,"rx","140.6"),n(L,"ry","138.4"),n(w,"id","c1"),n(s,"id","Layer_2"),n(l,"viewBox","0 0 855.6 798.6"),n(e,"class","food svelte-h8lqdv"),g(e,"left",t[1]+"px"),g(e,"top",t[0]+"px"),g(e,"width",x.BLOCK_SIZE-2+"px"),g(e,"height",x.BLOCK_SIZE-2+"px")},m(O,k){M(O,e,k),f(e,l),f(l,r),f(l,s),f(s,i),f(i,o),f(o,c),f(i,a),f(a,u),f(a,_),f(i,h),f(h,p),f(i,S),f(S,m),f(i,w),f(w,L)},p(O,[k]){k&2&&g(e,"left",O[1]+"px"),k&1&&g(e,"top",O[0]+"px")},i:$,o:$,d(O){O&&U(e)}}}function It(t,e,l){let{top:r=0}=e,{left:s=0}=e;return t.$$set=i=>{"top"in i&&l(0,r=i.top),"left"in i&&l(1,s=i.left)},[r,s]}class ft extends ne{constructor(e){super(),te(this,e,It,kt,Y,{top:0,left:1})}}function Gt(t){let e,l,r,s,i;return{c(){e=y("div"),l=d("svg"),r=d("style"),s=q(`.red {\r
        fill: red;\r
        animation: blink 250ms linear infinite;\r
      }\r
      @keyframes blink {\r
        0% {\r
          fill: yellow;\r
        }\r
        50% {\r
          /* opacity: 0.5; */\r
        }\r
        100% {\r
          fill: red;\r
        }\r
      }\r
    `),i=d("polygon"),n(r,"id","style2"),n(i,"fill","#FFA300"),n(i,"stroke","#EB0000"),n(i,"stroke-width","0.25"),n(i,"stroke-miterlimit","10"),n(i,"points",`221.7,0.3 290.1,138.9 443.1,161.1 \r
        332.4,269 358.5,421.4 221.7,349.5 84.8,421.4 111,269 0.3,161.1 153.3,138.9 `),n(i,"class","red"),n(l,"viewBox","0 0 443.3 421.6"),n(e,"class","bonus svelte-y90akj"),g(e,"width",x.BLOCK_SIZE+"px"),g(e,"height",x.BLOCK_SIZE+"px"),g(e,"left",t[0]+"px"),g(e,"top",t[1]+"px")},m(o,c){M(o,e,c),f(e,l),f(l,r),f(r,s),f(l,i)},p(o,[c]){c&1&&g(e,"left",o[0]+"px"),c&2&&g(e,"top",o[1]+"px")},i:$,o:$,d(o){o&&U(e)}}}function Lt(t,e,l){const r=gt();let{left:s}=e,{top:i}=e,{id:o}=e;return ht(()=>{setTimeout(()=>{r("bonusFinished",o)},ae.BONUS_TIME)}),t.$$set=c=>{"left"in c&&l(0,s=c.left),"top"in c&&l(1,i=c.top),"id"in c&&l(2,o=c.id)},[s,i,o]}class at extends ne{constructor(e){super(),te(this,e,Lt,Gt,Y,{left:0,top:1,id:2})}}function Ot(t){let e,l,r,s,i,o,c,a=t[0].playerName+"",u,_,h,p,S,m=t[0].score+"",w,L,O,k,I,A,B=t[0].food+"",E,C,F,W,z,oe,T=t[0].bonus+"",v,G,V,b,N,K=t[0].highScore+"",J,X,Ge,Le,de,Oe=t[0].level+"",Te,De,Ce=t[0].stage+"",Ue,Pe,pe,xe,qe,Ne,le,Re,We;return I=new ft({props:{left:0,top:50}}),z=new at({props:{left:0,top:80,id:""}}),{c(){e=y("div"),l=y("div"),l.textContent="Snake",r=P(),s=y("table"),i=y("tr"),o=y("td"),o.textContent="Player",c=y("td"),u=q(a),_=P(),h=y("tr"),p=y("td"),p.textContent="Score",S=y("td"),w=q(m),L=P(),O=y("tr"),k=y("td"),re(I.$$.fragment),A=y("td"),E=q(B),C=P(),F=y("tr"),W=y("td"),re(z.$$.fragment),oe=y("td"),v=q(T),G=P(),V=y("tr"),b=y("td"),b.textContent="High Score",N=y("td"),J=q(K),X=P(),Ge=y("tr"),Le=y("td"),Le.textContent="Level-Stage",de=y("td"),Te=q(Oe),De=y("span"),De.textContent="-",Ue=q(Ce),Pe=P(),pe=y("div"),xe=y("button"),xe.textContent="Replay",qe=P(),Ne=y("button"),Ne.textContent="Menu",n(l,"class","title svelte-mdywih"),n(o,"class","c1 svelte-mdywih"),n(c,"class","c2 svelte-mdywih"),n(p,"class","c1 svelte-mdywih"),n(S,"class","c2 svelte-mdywih"),n(k,"class","svelte-mdywih"),n(A,"class","c2 svelte-mdywih"),n(W,"class","svelte-mdywih"),n(oe,"class","c2 svelte-mdywih"),n(b,"class","c1 svelte-mdywih"),n(N,"class","c2 svelte-mdywih"),n(Le,"class","c1 svelte-mdywih"),n(de,"class","c2 svelte-mdywih"),n(s,"class","svelte-mdywih"),n(pe,"class","flex svelte-mdywih"),n(e,"class","game-over-screen svelte-mdywih")},m(Z,ie){M(Z,e,ie),f(e,l),f(e,r),f(e,s),f(s,i),f(i,o),f(i,c),f(c,u),f(s,_),f(s,h),f(h,p),f(h,S),f(S,w),f(s,L),f(s,O),f(O,k),Q(I,k,null),f(O,A),f(A,E),f(s,C),f(s,F),f(F,W),Q(z,W,null),f(F,oe),f(oe,v),f(s,G),f(s,V),f(V,b),f(V,N),f(N,J),f(s,X),f(s,Ge),f(Ge,Le),f(Ge,de),f(de,Te),f(de,De),f(de,Ue),f(e,Pe),f(e,pe),f(pe,xe),f(pe,qe),f(pe,Ne),le=!0,Re||(We=[we(xe,"click",t[2]),we(Ne,"click",t[1])],Re=!0)},p(Z,[ie]){(!le||ie&1)&&a!==(a=Z[0].playerName+"")&&se(u,a),(!le||ie&1)&&m!==(m=Z[0].score+"")&&se(w,m),(!le||ie&1)&&B!==(B=Z[0].food+"")&&se(E,B),(!le||ie&1)&&T!==(T=Z[0].bonus+"")&&se(v,T),(!le||ie&1)&&K!==(K=Z[0].highScore+"")&&se(J,K),(!le||ie&1)&&Oe!==(Oe=Z[0].level+"")&&se(Te,Oe),(!le||ie&1)&&Ce!==(Ce=Z[0].stage+"")&&se(Ue,Ce)},i(Z){le||(D(I.$$.fragment,Z),D(z.$$.fragment,Z),le=!0)},o(Z){H(I.$$.fragment,Z),H(z.$$.fragment,Z),le=!1},d(Z){Z&&U(e),ee(I),ee(z),Re=!1,Ee(We)}}}function Ct(t,e,l){const r=()=>{console.log("restart game"),fe.welcomeScreen()},s=()=>{ce.resetScore(),fe.startGame()};let i;return ce.subscribe(o=>{l(0,i=o)}),[i,r,s]}class xt extends ne{constructor(e){super(),te(this,e,Ct,Ot,Y,{})}}function Nt(t){let e,l,r;return{c(){e=d("svg"),l=d("rect"),n(l,"y","77"),n(l,"fill","#0037FF"),n(l,"width","258"),n(l,"height","102"),n(e,"viewBox","0 0 258 258"),n(e,"class",r=me(t[4])+" svelte-1squm21")},m(s,i){M(s,e,i),f(e,l)},p(s,i){i&16&&r!==(r=me(s[4])+" svelte-1squm21")&&n(e,"class",r)},d(s){s&&U(e)}}}function Bt(t){let e,l,r;return{c(){e=d("svg"),l=d("polygon"),n(l,"fill","#0037FF"),n(l,"points","258,179 0,128 0,128 258,77 "),n(e,"viewBox","0 0 258 258"),n(e,"class",r=me(t[4])+" svelte-1squm21")},m(s,i){M(s,e,i),f(e,l)},p(s,i){i&16&&r!==(r=me(s[4])+" svelte-1squm21")&&n(e,"class",r)},d(s){s&&U(e)}}}function Ft(t){let e,l,r,s,i,o,c;return{c(){e=d("svg"),l=d("g"),r=d("rect"),s=d("path"),i=d("circle"),o=d("circle"),n(r,"opacity","0"),n(r,"fill","#FFFFFF"),n(r,"width","258"),n(r,"height","258"),n(s,"fill","#0037FF"),n(s,"d",`M147.5,29.2C111.6,29.2,80.1,48,62.6,77H0v104h62.6c17.5,28,49,47.3,84.9,47.3c55,0,99.6-44.6,99.6-99.6\r
        S202.5,29.2,147.5,29.2z`),n(i,"fill","#FFF800"),n(i,"stroke","#000000"),n(i,"stroke-miterlimit","10"),n(i,"cx","184.3"),n(i,"cy","84.5"),n(i,"r","21.8"),n(o,"fill","#FFF800"),n(o,"stroke","#000000"),n(o,"stroke-miterlimit","10"),n(o,"cx","184.3"),n(o,"cy","164.5"),n(o,"r","21.8"),n(e,"viewBox","0 0 258 258"),n(e,"class",c=me(t[4])+" svelte-1squm21")},m(a,u){M(a,e,u),f(e,l),f(l,r),f(l,s),f(l,i),f(l,o)},p(a,u){u&16&&c!==(c=me(a[4])+" svelte-1squm21")&&n(e,"class",c)},d(a){a&&U(e)}}}function At(t){let e;function l(i,o){return i[2]?Ft:i[3]?Bt:Nt}let r=l(t),s=r(t);return{c(){e=y("div"),s.c(),g(e,"left",t[1]+"px"),g(e,"top",t[0]+"px"),g(e,"width",x.BLOCK_SIZE+"px"),g(e,"height",x.BLOCK_SIZE+"px"),n(e,"class","snake-body svelte-1squm21")},m(i,o){M(i,e,o),s.m(e,null)},p(i,[o]){r===(r=l(i))&&s?s.p(i,o):(s.d(1),s=r(i),s&&(s.c(),s.m(e,null))),o&2&&g(e,"left",i[1]+"px"),o&1&&g(e,"top",i[0]+"px")},i:$,o:$,d(i){i&&U(e),s.d()}}}function Tt(t,e,l){let{top:r=x.BLOCK_SIZE}=e,{left:s=x.BLOCK_SIZE}=e,{isHead:i=!1}=e,{isTail:o=!1}=e,{direction:c="right"}=e;return t.$$set=a=>{"top"in a&&l(0,r=a.top),"left"in a&&l(1,s=a.left),"isHead"in a&&l(2,i=a.isHead),"isTail"in a&&l(3,o=a.isTail),"direction"in a&&l(4,c=a.direction)},[r,s,i,o,c]}class Dt extends ne{constructor(e){super(),te(this,e,Tt,At,Y,{top:0,left:1,isHead:2,isTail:3,direction:4})}}function Ye(t,e,l){const r=t.slice();return r[2]=e[l],r[4]=l,r}function Je(t){let e,l;return e=new Dt({props:{isHead:t[4]==0,isTail:t[4]==t[0].length-1,top:t[2].top,left:t[2].left,direction:t[1]}}),{c(){re(e.$$.fragment)},m(r,s){Q(e,r,s),l=!0},p(r,s){const i={};s&1&&(i.isTail=r[4]==r[0].length-1),s&1&&(i.top=r[2].top),s&1&&(i.left=r[2].left),s&2&&(i.direction=r[1]),e.$set(i)},i(r){l||(D(e.$$.fragment,r),l=!0)},o(r){H(e.$$.fragment,r),l=!1},d(r){ee(e,r)}}}function Ut(t){let e,l,r=t[0],s=[];for(let o=0;o<r.length;o+=1)s[o]=Je(Ye(t,r,o));const i=o=>H(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Ze()},m(o,c){for(let a=0;a<s.length;a+=1)s[a].m(o,c);M(o,e,c),l=!0},p(o,[c]){if(c&3){r=o[0];let a;for(a=0;a<r.length;a+=1){const u=Ye(o,r,a);s[a]?(s[a].p(u,c),D(s[a],1)):(s[a]=Je(u),s[a].c(),D(s[a],1),s[a].m(e.parentNode,e))}for(ke(),a=r.length;a<s.length;a+=1)i(a);Ie()}},i(o){if(!l){for(let c=0;c<r.length;c+=1)D(s[c]);l=!0}},o(o){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)H(s[c]);l=!1},d(o){rt(s,o),o&&U(e)}}}function Rt(t,e,l){let{snakeBodies:r=[]}=e,{direction:s="right"}=e;return t.$$set=i=>{"snakeBodies"in i&&l(0,r=i.snakeBodies),"direction"in i&&l(1,s=i.direction)},[r,s]}class $t extends ne{constructor(e){super(),te(this,e,Rt,Ut,Y,{snakeBodies:0,direction:1})}}var Ke=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.ROCK=1]="ROCK",t[t.CONCRETE=2]="CONCRETE",t))(Ke||{});const ge=[{bg:"#affbaf",wall:[{type:0,top:100,left:100},{type:1,top:100,left:125},{type:1,top:100,left:150},{type:0,top:100,left:175},{type:2,top:75,left:125},{type:2,top:125,left:150}]},{bg:"#fda2f2",wall:[{type:0,top:200,left:100},{type:1,top:200,left:125},{type:1,top:200,left:150},{type:0,top:200,left:175},{type:2,top:175,left:125},{type:2,top:225,left:150}]},{bg:"#7f61bb",wall:[]},{bg:"#c34366",wall:[]}],Mt=()=>Date.now().toString(36)+Math.random().toString(36).substr(2);function Ht(t){let e,l,r;return{c(){e=y("div"),l=y("h1"),r=q(t[0]),n(l,"class","svelte-1x8upsq"),n(e,"class","message-box svelte-1x8upsq")},m(s,i){M(s,e,i),f(e,l),f(l,r)},p(s,[i]){i&1&&se(r,s[0])},i:$,o:$,d(s){s&&U(e)}}}function Vt(t,e,l){let{message:r=""}=e;return t.$$set=s=>{"message"in s&&l(0,r=s.message)},[r]}class Kt extends ne{constructor(e){super(),te(this,e,Vt,Ht,Y,{message:0})}}function Zt(t){let e,l,r,s,i,o,c,a,u;return{c(){e=d("svg"),l=d("radialGradient"),r=d("stop"),s=d("stop"),i=d("rect"),o=d("linearGradient"),c=d("stop"),a=d("stop"),u=d("rect"),n(r,"offset","0"),g(r,"stop-color","#333333"),n(s,"offset","1"),g(s,"stop-color","#000000"),n(l,"id","rock_svgid"),n(l,"cx","219.5"),n(l,"cy","219.5"),n(l,"r","219"),n(l,"gradientUnits","userSpaceOnUse"),n(i,"x","0.5"),n(i,"y","0.5"),n(i,"fill","url(#rock_svgid)"),n(i,"stroke","#000000"),n(i,"stroke-miterlimit","10"),n(i,"width","438"),n(i,"height","438"),n(c,"offset","0"),g(c,"stop-color","#000000"),g(c,"stop-opacity","0"),n(a,"offset","1"),g(a,"stop-color","#FFFFFF"),g(a,"stop-opacity","0.5"),n(o,"id","rock_svgid2"),n(o,"gradientUnits","userSpaceOnUse"),n(o,"x1","219"),n(o,"y1","431"),n(o,"x2","219"),n(o,"y2","9.0005"),n(u,"x","8"),n(u,"y","9"),n(u,"fill","url(#rock_svgid2)"),n(u,"width","422"),n(u,"height","422"),n(e,"viewBox","0 0 439 439")},m(_,h){M(_,e,h),f(e,l),f(l,r),f(l,s),f(e,i),f(e,o),f(o,c),f(o,a),f(e,u)},d(_){_&&U(e)}}}function Pt(t){let e,l,r,s,i,o,c,a,u,_,h,p,S,m,w,L,O,k,I,A,B,E;return{c(){e=d("svg"),l=d("g"),r=d("linearGradient"),s=d("stop"),i=d("stop"),o=d("rect"),c=d("linearGradient"),a=d("stop"),u=d("stop"),_=d("rect"),h=d("linearGradient"),p=d("stop"),S=d("stop"),m=d("polygon"),w=d("linearGradient"),L=d("stop"),O=d("stop"),k=d("rect"),I=d("linearGradient"),A=d("stop"),B=d("stop"),E=d("rect"),n(s,"offset","0"),g(s,"stop-color","#998675"),n(i,"offset","1"),g(i,"stop-color","#C7B299"),n(r,"id","concrete_SVGID_1_"),n(r,"gradientUnits","userSpaceOnUse"),n(r,"x1","4"),n(r,"y1","96.5"),n(r,"x2","281"),n(r,"y2","96.5"),n(o,"x","4"),n(o,"y","4"),n(o,"fill","url(#concrete_SVGID_1_)"),n(o,"stroke","#CABD99"),n(o,"stroke-width","8"),n(o,"stroke-miterlimit","10"),n(o,"width","277"),n(o,"height","185"),n(a,"offset","0"),g(a,"stop-color","#998675"),n(u,"offset","1"),g(u,"stop-color","#C7B299"),n(c,"id","concrete_SVGID_2_"),n(c,"gradientUnits","userSpaceOnUse"),n(c,"x1","420"),n(c,"y1","189"),n(c,"x2","420"),n(c,"y2","4"),n(_,"x","281"),n(_,"y","4"),n(_,"fill","url(#concrete_SVGID_2_)"),n(_,"stroke","#CABD99"),n(_,"stroke-width","8"),n(_,"stroke-miterlimit","10"),n(_,"width","278"),n(_,"height","185"),n(p,"offset","0"),g(p,"stop-color","#998675"),n(S,"offset","1"),g(S,"stop-color","#C7B299"),n(h,"id","concrete_SVGID_3_"),n(h,"gradientUnits","userSpaceOnUse"),n(h,"x1","281.5"),n(h,"y1","374"),n(h,"x2","281.5"),n(h,"y2","189.0005"),n(m,"fill","url(#concrete_SVGID_3_)"),n(m,"stroke","#CABD99"),n(m,"stroke-width","8"),n(m,"stroke-miterlimit","10"),n(m,"points",`281,189 4,189 4,374 281,374 \r
    559,374 559,189 	`),n(L,"offset","0"),g(L,"stop-color","#998675"),n(O,"offset","1"),g(O,"stop-color","#C7B299"),n(w,"id","concrete_SVGID_4_"),n(w,"gradientUnits","userSpaceOnUse"),n(w,"x1","4"),n(w,"y1","466.5"),n(w,"x2","281"),n(w,"y2","466.5"),n(k,"x","4"),n(k,"y","374"),n(k,"fill","url(#concrete_SVGID_4_)"),n(k,"stroke","#CABD99"),n(k,"stroke-width","8"),n(k,"stroke-miterlimit","10"),n(k,"width","277"),n(k,"height","185"),n(A,"offset","0"),g(A,"stop-color","#998675"),n(B,"offset","1"),g(B,"stop-color","#C7B299"),n(I,"id","concrete_SVGID_5_"),n(I,"gradientUnits","userSpaceOnUse"),n(I,"x1","281"),n(I,"y1","466.5"),n(I,"x2","559"),n(I,"y2","466.5"),n(E,"x","281"),n(E,"y","374"),n(E,"fill","url(#concrete_SVGID_5_)"),n(E,"stroke","#CABD99"),n(E,"stroke-width","8"),n(E,"stroke-miterlimit","10"),n(E,"width","278"),n(E,"height","185"),n(e,"version","1.1"),n(e,"id","Layer_1"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),n(e,"x","0px"),n(e,"y","0px"),n(e,"viewBox","0 0 563 563"),n(e,"enable-background","new 0 0 563 563"),n(e,"xml:space","preserve")},m(C,F){M(C,e,F),f(e,l),f(l,r),f(r,s),f(r,i),f(l,o),f(l,c),f(c,a),f(c,u),f(l,_),f(l,h),f(h,p),f(h,S),f(l,m),f(l,w),f(w,L),f(w,O),f(l,k),f(l,I),f(I,A),f(I,B),f(l,E)},d(C){C&&U(e)}}}function qt(t){let e,l,r,s,i,o,c,a,u,_,h,p,S,m,w,L,O,k,I,A,B,E;return{c(){e=d("svg"),l=d("g"),r=d("linearGradient"),s=d("stop"),i=d("stop"),o=d("rect"),c=d("linearGradient"),a=d("stop"),u=d("stop"),_=d("rect"),h=d("linearGradient"),p=d("stop"),S=d("stop"),m=d("polygon"),w=d("linearGradient"),L=d("stop"),O=d("stop"),k=d("rect"),I=d("linearGradient"),A=d("stop"),B=d("stop"),E=d("rect"),n(s,"offset","0"),g(s,"stop-color","#9E2000"),n(i,"offset","1"),g(i,"stop-color","#F15A24"),n(r,"id","brick_SVGID_1_"),n(r,"gradientUnits","userSpaceOnUse"),n(r,"x1","4"),n(r,"y1","96.5"),n(r,"x2","281"),n(r,"y2","96.5"),n(o,"x","4"),n(o,"y","4"),n(o,"fill","url(#brick_SVGID_1_)"),n(o,"stroke","#000000"),n(o,"stroke-width","8"),n(o,"stroke-miterlimit","10"),n(o,"width","277"),n(o,"height","185"),n(a,"offset","0"),g(a,"stop-color","#9E2000"),n(u,"offset","1"),g(u,"stop-color","#F15A24"),n(c,"id","SVGID_2_"),n(c,"gradientUnits","userSpaceOnUse"),n(c,"x1","420"),n(c,"y1","189"),n(c,"x2","420"),n(c,"y2","4"),n(_,"x","281"),n(_,"y","4"),n(_,"fill","url(#SVGID_2_)"),n(_,"stroke","#000000"),n(_,"stroke-width","8"),n(_,"stroke-miterlimit","10"),n(_,"width","278"),n(_,"height","185"),n(p,"offset","0"),g(p,"stop-color","#9E2000"),n(S,"offset","1"),g(S,"stop-color","#F15A24"),n(h,"id","SVGID_3_"),n(h,"gradientUnits","userSpaceOnUse"),n(h,"x1","281.5"),n(h,"y1","374"),n(h,"x2","281.5"),n(h,"y2","189.0005"),n(m,"fill","url(#SVGID_3_)"),n(m,"stroke","#000000"),n(m,"stroke-width","8"),n(m,"stroke-miterlimit","10"),n(m,"points",`281,189 4,189 4,374 281,374 \r
            559,374 559,189 	`),n(L,"offset","0"),g(L,"stop-color","#9E2000"),n(O,"offset","1"),g(O,"stop-color","#F15A24"),n(w,"id","SVGID_4_"),n(w,"gradientUnits","userSpaceOnUse"),n(w,"x1","4"),n(w,"y1","466.5"),n(w,"x2","281"),n(w,"y2","466.5"),n(k,"x","4"),n(k,"y","374"),n(k,"fill","url(#SVGID_4_)"),n(k,"stroke","#000000"),n(k,"stroke-width","8"),n(k,"stroke-miterlimit","10"),n(k,"width","277"),n(k,"height","185"),n(A,"offset","0"),g(A,"stop-color","#9E2000"),n(B,"offset","1"),g(B,"stop-color","#F15A24"),n(I,"id","SVGID_5_"),n(I,"gradientUnits","userSpaceOnUse"),n(I,"x1","281"),n(I,"y1","466.5"),n(I,"x2","559"),n(I,"y2","466.5"),n(E,"x","281"),n(E,"y","374"),n(E,"fill","url(#SVGID_5_)"),n(E,"stroke","#000000"),n(E,"stroke-width","8"),n(E,"stroke-miterlimit","10"),n(E,"width","278"),n(E,"height","185"),n(e,"viewBox","0 0 563 563")},m(C,F){M(C,e,F),f(e,l),f(l,r),f(r,s),f(r,i),f(l,o),f(l,c),f(c,a),f(c,u),f(l,_),f(l,h),f(h,p),f(h,S),f(l,m),f(l,w),f(w,L),f(w,O),f(l,k),f(l,I),f(I,A),f(I,B),f(l,E)},d(C){C&&U(e)}}}function Wt(t){let e;function l(i,o){return i[0].type==Ke.DEFAULT?qt:i[0].type==Ke.CONCRETE?Pt:Zt}let r=l(t),s=r(t);return{c(){e=y("div"),s.c(),n(e,"class","brick svelte-1ezhfpr"),g(e,"top",t[0].top+"px"),g(e,"left",t[0].left+"px"),g(e,"width",x.BLOCK_SIZE+"px"),g(e,"height",x.BLOCK_SIZE+"px")},m(i,o){M(i,e,o),s.m(e,null)},p(i,[o]){r!==(r=l(i))&&(s.d(1),s=r(i),s&&(s.c(),s.m(e,null))),o&1&&g(e,"top",i[0].top+"px"),o&1&&g(e,"left",i[0].left+"px")},i:$,o:$,d(i){i&&U(e),s.d()}}}function zt(t,e,l){let{data:r}=e;return t.$$set=s=>{"data"in s&&l(0,r=s.data)},[r]}class jt extends ne{constructor(e){super(),te(this,e,zt,Wt,Y,{data:0})}}function Qe(t,e,l){const r=t.slice();return r[2]=e[l],r}function et(t){let e,l;return e=new jt({props:{data:t[2]}}),{c(){re(e.$$.fragment)},m(r,s){Q(e,r,s),l=!0},p(r,s){const i={};s&1&&(i.data=r[2]),e.$set(i)},i(r){l||(D(e.$$.fragment,r),l=!0)},o(r){H(e.$$.fragment,r),l=!1},d(r){ee(e,r)}}}function Xt(t){let e,l,r=t[0],s=[];for(let o=0;o<r.length;o+=1)s[o]=et(Qe(t,r,o));const i=o=>H(s[o],1,1,()=>{s[o]=null});return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=Ze()},m(o,c){for(let a=0;a<s.length;a+=1)s[a].m(o,c);M(o,e,c),l=!0},p(o,[c]){if(c&1){r=o[0];let a;for(a=0;a<r.length;a+=1){const u=Qe(o,r,a);s[a]?(s[a].p(u,c),D(s[a],1)):(s[a]=et(u),s[a].c(),D(s[a],1),s[a].m(e.parentNode,e))}for(ke(),a=r.length;a<s.length;a+=1)i(a);Ie()}},i(o){if(!l){for(let c=0;c<r.length;c+=1)D(s[c]);l=!0}},o(o){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)H(s[c]);l=!1},d(o){rt(s,o),o&&U(e)}}}function Yt(t,e,l){let r,s;return ce.subscribe(i=>{l(1,s=i)}),t.$$.update=()=>{t.$$.dirty&2&&l(0,r=ge[s.level-1].wall)},[r,s]}class Jt extends ne{constructor(e){super(),te(this,e,Yt,Xt,Y,{})}}function tt(t,e,l){const r=t.slice();return r[30]=e[l],r}function nt(t,e){let l,r,s;return r=new at({props:{id:e[30].id,left:e[30].left,top:e[30].top}}),r.$on("bonusFinished",e[9]),{key:t,first:null,c(){l=Ze(),re(r.$$.fragment),this.first=l},m(i,o){M(i,l,o),Q(r,i,o),s=!0},p(i,o){e=i;const c={};o[0]&128&&(c.id=e[30].id),o[0]&128&&(c.left=e[30].left),o[0]&128&&(c.top=e[30].top),r.$set(c)},i(i){s||(D(r.$$.fragment,i),s=!0)},o(i){H(r.$$.fragment,i),s=!1},d(i){i&&U(l),ee(r,i)}}}function lt(t){let e,l;return e=new Kt({props:{message:t[2]}}),{c(){re(e.$$.fragment)},m(r,s){Q(e,r,s),l=!0},p(r,s){const i={};s[0]&4&&(i.message=r[2]),e.$set(i)},i(r){l||(D(e.$$.fragment,r),l=!0)},o(r){H(e.$$.fragment,r),l=!1},d(r){ee(e,r)}}}function Qt(t){let e,l,r,s,i,o,c,a=[],u=new Map,_,h,p,S,m=t[0].level+"",w,L,O=t[0].score+"",k,I,A,B=t[0].bonus+"",E,C,F,W;l=new Jt({}),s=new $t({props:{direction:t[5],snakeBodies:t[6]}}),o=new ft({props:{left:t[3],top:t[4]}});let z=t[7];const oe=v=>v[30].id;for(let v=0;v<z.length;v+=1){let G=tt(t,z,v),V=oe(G);u.set(V,a[v]=nt(V,G))}let T=t[1]==!0&&lt(t);return{c(){e=y("main"),re(l.$$.fragment),r=P(),re(s.$$.fragment),i=P(),re(o.$$.fragment),c=P();for(let v=0;v<a.length;v+=1)a[v].c();_=P(),T&&T.c(),h=P(),p=y("div"),S=y("div"),w=q(m),L=q(" : "),k=q(O),I=P(),A=y("div"),E=q(B),g(e,"width",x.SCREEN_WIDTH+"px"),g(e,"height",x.SCREEN_HEIGHT+"px"),g(e,"background",ge[t[0].level].bg),n(e,"class","svelte-sjb5bh"),n(p,"class","score svelte-sjb5bh")},m(v,G){M(v,e,G),Q(l,e,null),f(e,r),Q(s,e,null),f(e,i),Q(o,e,null),f(e,c);for(let V=0;V<a.length;V+=1)a[V].m(e,null);f(e,_),T&&T.m(e,null),M(v,h,G),M(v,p,G),f(p,S),f(S,w),f(S,L),f(S,k),f(p,I),f(p,A),f(A,E),C=!0,F||(W=we(window,"keydown",t[8]),F=!0)},p(v,G){const V={};G[0]&32&&(V.direction=v[5]),G[0]&64&&(V.snakeBodies=v[6]),s.$set(V);const b={};G[0]&8&&(b.left=v[3]),G[0]&16&&(b.top=v[4]),o.$set(b),G[0]&640&&(z=v[7],ke(),a=St(a,G,oe,1,v,z,u,e,yt,nt,_,tt),Ie()),v[1]==!0?T?(T.p(v,G),G[0]&2&&D(T,1)):(T=lt(v),T.c(),D(T,1),T.m(e,null)):T&&(ke(),H(T,1,1,()=>{T=null}),Ie()),(!C||G[0]&1)&&g(e,"background",ge[v[0].level].bg),(!C||G[0]&1)&&m!==(m=v[0].level+"")&&se(w,m),(!C||G[0]&1)&&O!==(O=v[0].score+"")&&se(k,O),(!C||G[0]&1)&&B!==(B=v[0].bonus+"")&&se(E,B)},i(v){if(!C){D(l.$$.fragment,v),D(s.$$.fragment,v),D(o.$$.fragment,v);for(let G=0;G<z.length;G+=1)D(a[G]);D(T),C=!0}},o(v){H(l.$$.fragment,v),H(s.$$.fragment,v),H(o.$$.fragment,v);for(let G=0;G<a.length;G+=1)H(a[G]);H(T),C=!1},d(v){v&&U(e),ee(l),ee(s),ee(o);for(let G=0;G<a.length;G+=1)a[G].d();T&&T.d(),v&&U(h),v&&U(p),F=!1,W()}}}function en(t,e,l){let r,s=!1,i=!1,o=ye.NEXT_LEVEL,c;fe.subscribe(b=>{}),ce.subscribe(b=>{l(0,c=b)});const a=()=>{O(ye.GAME_OVER),clearInterval(m),setTimeout(()=>{k(),F(),fe.gameOver()},ae.MESSAGE_TIME)};let u=0,_=0,h=R.RIGHT,p=[],S=[],m;const w=x.SCREEN_WIDTH,L=x.SCREEN_HEIGHT,O=b=>{l(2,o=b),l(1,i=!0)},k=()=>{l(1,i=!1),l(2,o=ye.GAME_OVER)},I=()=>{O(ye.NEXT_LEVEL),clearInterval(m),setTimeout(()=>{k(),ce.nextLevel(),ce.resetScore(),A(),F()},ae.MESSAGE_TIME)},A=()=>{let b=ge.length-c.level;b=b*ae.DELAY,m=setInterval(()=>{p.pop();let{left:N,top:K}=p[0];h===R.UP?K-=x.BLOCK_SIZE:h===R.DOWN?K+=x.BLOCK_SIZE:h===R.LEFT?N-=x.BLOCK_SIZE:h===R.RIGHT&&(N+=x.BLOCK_SIZE);const J={left:N,top:K};l(6,p=[J,...p]),S.forEach(X=>{B(J,X)&&(V(X.id),ce.getBonus())}),B(J,{left:u,top:_})&&(l(6,p=[...p,p[p.length-1]]),ce.eatFood(),C(),c.food%5==0&&G(),p.length/ae.MAX_POINTS>1&&p.length%ae.MAX_POINTS==0&&(c.level<ge.length-1?I():(clearInterval(m),fe.allLevelsCleared()))),W()&&a()},b)},B=(b,N)=>!(b.top<N.top||b.top>N.top||b.left<N.left||b.left>N.left),E=()=>{let b=0,N=0;for(;;){b=Math.floor(Math.random()*(L/x.BLOCK_SIZE))*x.BLOCK_SIZE,N=Math.floor(Math.random()*(w/x.BLOCK_SIZE))*x.BLOCK_SIZE;let K=p.findIndex(X=>{X.top==b}),J=p.findIndex(X=>{X.left==N});if(K==-1&&J==-1)break}return{top:b,left:N}},C=()=>{const{top:b,left:N}=E();l(3,u=N),l(4,_=b)},F=()=>{C(),l(5,h=R.RIGHT),l(6,p=[{left:x.BLOCK_SIZE*2,top:0},{left:x.BLOCK_SIZE,top:0},{left:0,top:0}])},W=()=>{if(p.slice(1).filter(X=>B(X,p[0])).length>0)return!0;r.forEach(X=>{if(B(p[0],X))return!0});const{top:K,left:J}=p[0];return J>=w&&h==R.RIGHT&&l(6,p[0].left=0,p),J<0&&h==R.LEFT&&l(6,p[0].left=w-x.BLOCK_SIZE,p),K<0&&h==R.UP&&l(6,p[0].top=L-x.BLOCK_SIZE,p),K>=L&&h==R.DOWN&&l(6,p[0].top=0,p),!1},z=()=>{clearInterval(m)},oe=b=>b===he.UP&&h!=R.DOWN?R.UP:b===he.RIGHT&&h!=R.LEFT?R.RIGHT:b===he.LEFT&&h!=R.RIGHT?R.LEFT:b===he.DOWN&&h!=R.UP?R.DOWN:R.UNKNOWN,T=b=>{const N=b.code;if(N===he.SPACEBAR&&(s=!s,s?z():A()),s)return;const K=oe(N);K!=R.UNKNOWN&&l(5,h=K)},v=b=>{console.log(`on bonus finished =${b.detail}`),V(b.detail)},G=()=>{const b=Mt();let N={top:0,left:0,id:b};N.top=Math.floor(Math.random()*(L/x.BLOCK_SIZE))*x.BLOCK_SIZE,N.left=Math.floor(Math.random()*(w/x.BLOCK_SIZE))*x.BLOCK_SIZE,S.push(N),l(7,S)},V=b=>{const N=S.findIndex(K=>K.id==b);N!=-1&&(S.splice(N,1),l(7,S))};return A(),F(),t.$$.update=()=>{t.$$.dirty[0]&1&&(r=ge[c.level-1].wall)},[c,i,o,u,_,h,p,S,T,v]}class Me extends ne{constructor(e){super(),te(this,e,en,Qt,Y,{},null,[-1,-1])}}function tn(t){let e,l,r,s,i,o,c;return{c(){e=y("div"),l=y("div"),l.textContent="Snake",r=P(),s=y("div"),i=y("button"),i.textContent="Start",n(l,"class","title svelte-yxm8be"),n(s,"class","btn svelte-yxm8be"),n(e,"class","start-screen svelte-yxm8be")},m(a,u){M(a,e,u),f(e,l),f(e,r),f(e,s),f(s,i),o||(c=we(i,"click",t[0]),o=!0)},p:$,i:$,o:$,d(a){a&&U(e),o=!1,c()}}}function nn(t){return[()=>{console.log("start game"),fe.startGame()}]}class ln extends ne{constructor(e){super(),te(this,e,nn,tn,Y,{})}}function sn(t){let e,l,r,s,i,o,c,a;return{c(){e=y("div"),l=y("div"),l.textContent="Congratulations !",r=P(),s=y("div"),s.textContent="You have cleared all the levels.",i=P(),o=y("button"),o.textContent="Menu",n(l,"class","title svelte-gyhhqq"),n(e,"class","final svelte-gyhhqq")},m(u,_){M(u,e,_),f(e,l),f(e,r),f(e,s),f(e,i),f(e,o),c||(a=we(o,"click",t[0]),c=!0)},p:$,i:$,o:$,d(u){u&&U(e),c=!1,a()}}}function rn(t){return[()=>{console.log("restart game"),fe.welcomeScreen()}]}class on extends ne{constructor(e){super(),te(this,e,rn,sn,Y,{})}}var j=(t=>(t.NOT_STARTED="NOT_STARTED",t.RUNNING="RUNNING",t.PAUSED="PAUSED",t.RESUME="RESUME",t.GAME_OVER="GAME OVER",t.ALL_LEVELS_CLEARED="ALL_LEVELS_CLEARED",t))(j||{});const cn=()=>{const t=[{status:j.NOT_STARTED,component:ln},{status:j.RUNNING,component:Me},{status:j.PAUSED,component:Me},{status:j.RESUME,component:Me},{status:j.GAME_OVER,component:xt},{status:j.ALL_LEVELS_CLEARED,component:on}];let{update:e,subscribe:l}=ct(t.find(u=>u.status==j.RUNNING));return{subscribe:l,startGame:()=>{e(u=>(u=t.find(_=>_.status==j.RUNNING),u))},pauseGame:()=>{e(u=>(u=t.find(_=>_.status==j.PAUSED),u))},resumeGame:()=>{e(u=>(u=t.find(_=>_.status==j.RUNNING),u))},gameOver:()=>{e(u=>(u=t.find(_=>_.status==j.GAME_OVER),u))},welcomeScreen:()=>{e(u=>(u=t.find(_=>_.status==j.NOT_STARTED),u))},allLevelsCleared:()=>{e(u=>(u=t.find(_=>_.status==j.ALL_LEVELS_CLEARED),u))}}},fe=cn();function fn(t){let e,l,r;var s=t[0].component;function i(o){return{}}return s&&(l=new s(i())),{c(){e=y("div"),l&&re(l.$$.fragment),n(e,"class","container svelte-16au4d0"),g(e,"width",x.SCREEN_WIDTH+"px"),g(e,"height",x.SCREEN_HEIGHT+"px")},m(o,c){M(o,e,c),l&&Q(l,e,null),r=!0},p(o,[c]){if(s!==(s=o[0].component)){if(l){ke();const a=l;H(a.$$.fragment,1,0,()=>{ee(a,1)}),Ie()}s?(l=new s(i()),re(l.$$.fragment),D(l.$$.fragment,1),Q(l,e,null)):l=null}},i(o){r||(l&&D(l.$$.fragment,o),r=!0)},o(o){l&&H(l.$$.fragment,o),r=!1},d(o){o&&U(e),l&&ee(l)}}}function an(t,e,l){let r;return fe.subscribe(s=>{l(0,r=s)}),[r]}class un extends ne{constructor(e){super(),te(this,e,an,fn,Y,{})}}new un({target:document.getElementById("app")});
